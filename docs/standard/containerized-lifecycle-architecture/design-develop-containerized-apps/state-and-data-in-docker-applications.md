---
title: Stato e dati nelle applicazioni di Docker
description: Ciclo di vita delle applicazioni Docker in contenitori con piattaforma e strumenti Microsoft
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 09/22/2017
ms.openlocfilehash: 9b048beb0eb913fc6587dcc639a16df8153c550b
ms.sourcegitcommit: 15d99019aea4a5c3c91ddc9ba23692284a7f61f3
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/12/2018
ms.locfileid: "49123228"
---
# <a name="state-and-data-in-docker-applications"></a><span data-ttu-id="6c0f0-103">Stato e dati nelle applicazioni di Docker</span><span class="sxs-lookup"><span data-stu-id="6c0f0-103">State and data in Docker applications</span></span>

<span data-ttu-id="6c0f0-104">Una primitiva di contenitori è immutabilità.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-104">A primitive of containers is immutability.</span></span> <span data-ttu-id="6c0f0-105">Rispetto a una macchina virtuale, i contenitori non interrompersi quando una situazione comune.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-105">When compared to a VM, containers don't disappear as a common occurrence.</span></span> <span data-ttu-id="6c0f0-106">Una macchina virtuale potrebbe non riuscire in varie forme da processi inattivi, overload della CPU o un disco con registrazione completo o non riuscito.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-106">A VM might fail in various forms from dead processes, overloaded CPU, or a full or failed disk.</span></span> <span data-ttu-id="6c0f0-107">Tuttavia, si prevede che la macchina virtuale sia disponibile e unità RAID sono usuali per assicurare che i dati di gestire errori delle unità.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-107">Yet, we expect the VM to be available and RAID drives are commonplace to assure drive failures maintain data.</span></span>

<span data-ttu-id="6c0f0-108">Tuttavia, i contenitori considerati come istanze dei processi.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-108">However, containers are thought to be instances of processes.</span></span> <span data-ttu-id="6c0f0-109">Un processo non mantiene lo stato durevole.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-109">A process doesn't maintain durable state.</span></span> <span data-ttu-id="6c0f0-110">Anche se un contenitore può scrivere la risorsa di archiviazione locale, presupponendo che l'istanza resti disponibile all'infinito corrisponderebbe a presupponendo che una copia singola memoria sia durevole.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-110">Even though a container can write to its local storage, assuming that the instance will be around indefinitely would be equivalent to assuming a single-copy memory will be durable.</span></span> <span data-ttu-id="6c0f0-111">Si deve presupporre che i contenitori, come i processi, vengono duplicati, abbattuti o, quando gestito con un agente di orchestrazione del contenitore, potrebbero essere spostati.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-111">You should assume that containers, like processes, are duplicated, killed, or, when managed with a container orchestrator, they might be moved.</span></span>

<span data-ttu-id="6c0f0-112">Docker Usa una funzionalità nota come un *sovrimpressione di file system* per implementare un processo di copia su scrittura che archivia le informazioni aggiornate nel file System radice di un contenitore, rispetto all'immagine originale su cui è basato.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-112">Docker uses a feature known as an *overlay file system* to implement a copy-on-write process that stores any updated information to the root file system of a container, compared to the original image on which it is based.</span></span> <span data-ttu-id="6c0f0-113">Queste modifiche vengono perse se il contenitore viene successivamente eliminato dal sistema.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-113">These changes are lost if the container is subsequently deleted from the system.</span></span> <span data-ttu-id="6c0f0-114">Un contenitore, pertanto, non è un archivio permanente per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-114">A container, therefore, does not have persistent storage by default.</span></span> <span data-ttu-id="6c0f0-115">Sebbene sia possibile salvare lo stato di un contenitore, la progettazione di un sistema di risoluzione di questo problema sarà in conflitto con il principio di architettura a contenitori.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-115">Although it's possible to save the state of a container, designing a system around this would be in conflict with the principle of container architecture.</span></span>

<span data-ttu-id="6c0f0-116">Per gestire i dati persistenti nelle applicazioni di Docker, sono disponibili soluzioni comuni:</span><span class="sxs-lookup"><span data-stu-id="6c0f0-116">To manage persistent data in Docker applications, there are common solutions:</span></span>

-   <span data-ttu-id="6c0f0-117">[**I volumi di dati**](https://docs.docker.com/engine/tutorials/dockervolumes/) questi montati nell'host, quanto appena descritto.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-117">[**Data volumes**](https://docs.docker.com/engine/tutorials/dockervolumes/) These mount to the host, as just noted.</span></span>

-   <span data-ttu-id="6c0f0-118">[**I contenitori dei volumi di dati**](https://docs.docker.com/engine/tutorials/dockervolumes/#/creating-and-mounting-a-data-volume-container) offrono archiviazione condivisa tra contenitori, usando un contenitore esterno che può scorrere.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-118">[**Data volume containers**](https://docs.docker.com/engine/tutorials/dockervolumes/#/creating-and-mounting-a-data-volume-container) These provide shared storage across containers, using an external container that can cycle.</span></span>

-   <span data-ttu-id="6c0f0-119">[**I plug-in di volume**](https://docs.docker.com/engine/tutorials/dockervolumes/#/mount-a-shared-storage-volume-as-a-data-volume) questi montare i volumi a sedi remote, che fornisce la persistenza a lungo termine.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-119">[**Volume Plugins**](https://docs.docker.com/engine/tutorials/dockervolumes/#/mount-a-shared-storage-volume-as-a-data-volume) These mount volumes to remote locations, providing long-term persistence.</span></span>

-   <span data-ttu-id="6c0f0-120">**Origini dati remote** esempi includono i database SQL e NO-SQL o servizi di cache come Redis.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-120">**Remote data sources** Examples include SQL and NO-SQL databases or cache services like Redis.</span></span>

-   <span data-ttu-id="6c0f0-121">[**Archiviazione di Azure**](https://docs.microsoft.com/azure/storage/) questa fornisce geografica distribuibile piattaforma come una risorsa di archiviazione del servizio (PaaS), che offre il meglio dei contenitori di persistenza come a lungo termine.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-121">[**Azure Storage**](https://docs.microsoft.com/azure/storage/) This provides geo distributable platform as a service (PaaS) storage, providing the best of containers as long-term persistence.</span></span>

<span data-ttu-id="6c0f0-122">I volumi di dati in modo speciale designati directory all'interno di uno o più contenitori che ignorano il [unione File System](https://docs.docker.com/glossary/?term=Union%20file%20system).</span><span class="sxs-lookup"><span data-stu-id="6c0f0-122">Data volumes are specially designated directories within one or more containers that bypass the [Union File System](https://docs.docker.com/glossary/?term=Union%20file%20system).</span></span> <span data-ttu-id="6c0f0-123">I volumi di dati sono progettati per gestire i dati, indipendentemente dal ciclo di vita del contenitore.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-123">Data volumes are designed to maintain data, independent of the container's life cycle.</span></span> <span data-ttu-id="6c0f0-124">Docker pertanto mai eliminati automaticamente i volumi quando si rimuovere un contenitore, né verranno "garbage raccogliere" volumi che non fanno riferimento non è più un contenitore.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-124">Docker therefore never automatically deletes volumes when you remove a container, nor will it "garbage collect" volumes that are no longer referenced by a container.</span></span> <span data-ttu-id="6c0f0-125">Il sistema operativo host può esplorare e modificare i dati in qualsiasi volume liberamente, che è semplicemente un altro motivo per utilizzare i volumi di dati in modo sporadico.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-125">The host operating system can browse and edit the data in any volume freely, which is just another reason to use data volumes sparingly.</span></span>

<span data-ttu-id="6c0f0-126">Oggetto [contenitore di volumi di dati](https://docs.docker.com/glossary/?term=volume) rappresenta una miglioria normali volumi di dati.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-126">A [data volume container](https://docs.docker.com/glossary/?term=volume) is an improvement over regular data volumes.</span></span> <span data-ttu-id="6c0f0-127">È sostanzialmente un contenitore inattivo che ha creati all'interno di esso, come descritto in precedenza, uno o più volumi di dati.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-127">It is essentially a dormant container that has one or more data volumes created within it (as described earlier).</span></span> <span data-ttu-id="6c0f0-128">Il contenitore del volume di dati fornisce l'accesso ai contenitori da un punto di montaggio centrale.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-128">The data volume container provides access to containers from a central mount point.</span></span> <span data-ttu-id="6c0f0-129">Il vantaggio di questo metodo di accesso è che estrae il percorso dei dati originali, rendendo il contenitore di dati di un punto di montaggio logico.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-129">The benefit of this method of access is that it abstracts the location of the original data, making the data container a logical mount point.</span></span> <span data-ttu-id="6c0f0-130">Consente inoltre di contenitori "applicazione" l'accesso a volumi di contenitore di dati per essere creati ed eliminati, mantenendo i dati persistenti in un contenitore dedicato.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-130">It also allows "application" containers accessing the data container volumes to be created and destroyed while keeping the data persistent in a dedicated container.</span></span>

<span data-ttu-id="6c0f0-131">Figura 4-5 mostra che i volumi Docker normali possono essere inseriti nell'archivio i contenitori stessi ma all'interno dei limiti fisici/macchine Virtuali server host.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-131">Figure 4-5 shows that regular Docker volumes can be placed on storage out of the containers themselves but within the host server/VM physical boundaries.</span></span> <span data-ttu-id="6c0f0-132">*I volumi docker non hanno la possibilità di usare un volume da un host server/macchine Virtuali a un altro*.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-132">*Docker volumes don't have the ability to use a volume from one host server/VM to another*.</span></span>

![](./media/image5.png)

<span data-ttu-id="6c0f0-133">Figura 4-5: i volumi di dati e origini dati esterne per i contenitori. app/contenitori</span><span class="sxs-lookup"><span data-stu-id="6c0f0-133">Figure 4-5: Data volumes and external data sources for containers apps/containers</span></span>

<span data-ttu-id="6c0f0-134">A causa dell'impossibilità di gestire i dati condivisi tra contenitori che vengono eseguiti in host fisici separati, è consigliabile non usare volumi per i dati aziendali, a meno che l'host Docker è una host predefinita/VM, perché quando si usano i contenitori Docker in un agente di orchestrazione i contenitori devono essere spostati da uno a un altro host, a seconda delle ottimizzazioni da eseguire dal cluster.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-134">Due to the inability to manage data shared between containers that run on separate physical hosts, it is recommended that you not use volumes for business data unless the Docker host is a fixed host/VM, because when using Docker containers in an orchestrator, containers are expected to be moved from one to another host, depending on the optimizations to be performed by the cluster.</span></span>

<span data-ttu-id="6c0f0-135">Pertanto, i normali volumi di dati sono un meccanismo appropriato per lavorare con i file di traccia, file temporali o qualsiasi concetto simile che non interessano la coerenza dei dati aziendali se o quando i contenitori vengono spostati tra più host.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-135">Therefore, regular data volumes are a good mechanism to work with trace files, temporal files, or any similar concept that won't affect the business data consistency if or when your containers are moved across multiple hosts.</span></span>

<span data-ttu-id="6c0f0-136">[Plug-in di volume](https://docs.docker.com/engine/extend/plugins_volume/) forniscono dati in tutti gli host in un cluster.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-136">[Volume plug-ins](https://docs.docker.com/engine/extend/plugins_volume/) provide data across all hosts in a cluster.</span></span> <span data-ttu-id="6c0f0-137">Anche se non tutti i plug-in di volume vengono creati in modo uniforme, plug-in di volume in genere forniscono archiviazione affidabile, persistente esternalizzata dai contenitori non modificabili.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-137">Although not all volume plug-ins are created equally, volume plug-ins typically provide externalized persistent reliable storage from the immutable containers.</span></span>

<span data-ttu-id="6c0f0-138">Origini dati remote e le cache, ad esempio Database SQL, DocumentDB o cache remote come Redis sarà quello utilizzato per lo sviluppo senza contenitori.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-138">Remote data sources and caches like SQL Database, DocumentDB, or a remote cache like Redis would be the same as developing without containers.</span></span> <span data-ttu-id="6c0f0-139">Questo è uno dei modi Preferiti e collaudati per archiviare i dati di business dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="6c0f0-139">This is one of the preferred, and proven, ways to store business application data.</span></span>


>[!div class="step-by-step"]
<span data-ttu-id="6c0f0-140">[Precedente](monolithic-applications.md)
[Successivo](soa-applications.md)</span><span class="sxs-lookup"><span data-stu-id="6c0f0-140">[Previous](monolithic-applications.md)
[Next](soa-applications.md)</span></span>
