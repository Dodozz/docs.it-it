---
title: Progettazione di proprietà
ms.date: 10/22/2008
ms.technology: dotnet-standard
helpviewer_keywords:
- member design guidelines, properties
- properties [.NET Framework], design guidelines
ms.assetid: 127cbc0c-cbed-48fd-9c89-7c5d4f98f163
author: KrzysztofCwalina
ms.openlocfilehash: 1d119b48f0524b3e997aa2cb9ea2cbbd855afdf0
ms.sourcegitcommit: ccd8c36b0d74d99291d41aceb14cf98d74dc9d2b
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 12/10/2018
ms.locfileid: "53131456"
---
# <a name="property-design"></a><span data-ttu-id="4c42c-102">Progettazione di proprietà</span><span class="sxs-lookup"><span data-stu-id="4c42c-102">Property Design</span></span>
<span data-ttu-id="4c42c-103">Anche se le proprietà sono tecnicamente è molto simile ai metodi, essi sono piuttosto diversi in termini relativi scenari di utilizzo.</span><span class="sxs-lookup"><span data-stu-id="4c42c-103">Although properties are technically very similar to methods, they are quite different in terms of their usage scenarios.</span></span> <span data-ttu-id="4c42c-104">Si dovrebbero essere considerate come campi intelligenti.</span><span class="sxs-lookup"><span data-stu-id="4c42c-104">They should be seen as smart fields.</span></span> <span data-ttu-id="4c42c-105">Con la sintassi per la chiamata di campi e la flessibilità dei metodi.</span><span class="sxs-lookup"><span data-stu-id="4c42c-105">They have the calling syntax of fields, and the flexibility of methods.</span></span>  
  
 <span data-ttu-id="4c42c-106">**✓ DO** creare proprietà get-only, se il chiamante non deve essere in grado di modificare il valore della proprietà.</span><span class="sxs-lookup"><span data-stu-id="4c42c-106">**✓ DO** create get-only properties if the caller should not be able to change the value of the property.</span></span>  
  
 <span data-ttu-id="4c42c-107">Tenere presente che se il tipo di proprietà è un tipo di riferimento modificabile, il valore della proprietà può essere modificato anche se la proprietà è di sola ricezione.</span><span class="sxs-lookup"><span data-stu-id="4c42c-107">Keep in mind that if the type of the property is a mutable reference type, the property value can be changed even if the property is get-only.</span></span>  
  
 <span data-ttu-id="4c42c-108">**X DO NOT** fornire solo set di proprietà o il setter con accessibilità più ampia rispetto al metodo Get.</span><span class="sxs-lookup"><span data-stu-id="4c42c-108">**X DO NOT** provide set-only properties or properties with the setter having broader accessibility than the getter.</span></span>  
  
 <span data-ttu-id="4c42c-109">Ad esempio, non utilizzare le proprietà con un setter pubblico e un metodo di richiamo protetto.</span><span class="sxs-lookup"><span data-stu-id="4c42c-109">For example, do not use properties with a public setter and a protected getter.</span></span>  
  
 <span data-ttu-id="4c42c-110">Se non è possibile fornire il getter della proprietà, invece implementare la funzionalità di un metodo.</span><span class="sxs-lookup"><span data-stu-id="4c42c-110">If the property getter cannot be provided, implement the functionality as a method instead.</span></span> <span data-ttu-id="4c42c-111">È consigliabile iniziare con il nome del metodo `Set` e completa con ciò che si avrebbero denominato della proprietà.</span><span class="sxs-lookup"><span data-stu-id="4c42c-111">Consider starting the method name with `Set` and follow with what you would have named the property.</span></span> <span data-ttu-id="4c42c-112">Ad esempio, <xref:System.AppDomain> ha un metodo denominato `SetCachePath` invece di avere una set di proprietà di sola `CachePath`.</span><span class="sxs-lookup"><span data-stu-id="4c42c-112">For example, <xref:System.AppDomain> has a method called `SetCachePath` instead of having a set-only property called `CachePath`.</span></span>  
  
 <span data-ttu-id="4c42c-113">**✓ DO** fornire valori predefiniti appropriati per tutte le proprietà, assicurandosi che le impostazioni predefinite non comportano un problema di sicurezza o di codice particolarmente inefficiente.</span><span class="sxs-lookup"><span data-stu-id="4c42c-113">**✓ DO** provide sensible default values for all properties, ensuring that the defaults do not result in a security hole or terribly inefficient code.</span></span>  
  
 <span data-ttu-id="4c42c-114">**✓ DO** consentono di proprietà da impostare in qualsiasi ordine, anche se ciò comporta un stato temporaneo non valido dell'oggetto.</span><span class="sxs-lookup"><span data-stu-id="4c42c-114">**✓ DO** allow properties to be set in any order even if this results in a temporary invalid state of the object.</span></span>  
  
 <span data-ttu-id="4c42c-115">È comune per due o più proprietà correlate a un punto in cui alcuni valori di una proprietà potrebbero essere non validi in base ai valori delle altre proprietà nello stesso oggetto.</span><span class="sxs-lookup"><span data-stu-id="4c42c-115">It is common for two or more properties to be interrelated to a point where some values of one property might be invalid given the values of other properties on the same object.</span></span> <span data-ttu-id="4c42c-116">In questi casi, le eccezioni derivanti dallo stato non valido devono essere posticipate fino a quando non le proprietà correlate vengono effettivamente usate insieme dall'oggetto.</span><span class="sxs-lookup"><span data-stu-id="4c42c-116">In such cases, exceptions resulting from the invalid state should be postponed until the interrelated properties are actually used together by the object.</span></span>  
  
 <span data-ttu-id="4c42c-117">**✓ DO** mantenere il valore precedente se un setter di proprietà genera un'eccezione.</span><span class="sxs-lookup"><span data-stu-id="4c42c-117">**✓ DO** preserve the previous value if a property setter throws an exception.</span></span>  
  
 <span data-ttu-id="4c42c-118">**X AVOID** generazione di eccezioni da metodi get di proprietà.</span><span class="sxs-lookup"><span data-stu-id="4c42c-118">**X AVOID** throwing exceptions from property getters.</span></span>  
  
 <span data-ttu-id="4c42c-119">Getter proprietà devono essere operazioni semplici e non deve contenere tutte le precondizioni.</span><span class="sxs-lookup"><span data-stu-id="4c42c-119">Property getters should be simple operations and should not have any preconditions.</span></span> <span data-ttu-id="4c42c-120">Se un metodo Get può generare un'eccezione, probabile che deve essere riprogettato per essere un metodo.</span><span class="sxs-lookup"><span data-stu-id="4c42c-120">If a getter can throw an exception, it should probably be redesigned to be a method.</span></span> <span data-ttu-id="4c42c-121">Si noti che questa regola non valida per gli indicizzatori, in cui si prevede che le eccezioni come risultato di convalida di argomenti.</span><span class="sxs-lookup"><span data-stu-id="4c42c-121">Notice that this rule does not apply to indexers, where we do expect exceptions as a result of validating the arguments.</span></span>  
  
### <a name="indexed-property-design"></a><span data-ttu-id="4c42c-122">Progettazione di proprietà indicizzate</span><span class="sxs-lookup"><span data-stu-id="4c42c-122">Indexed Property Design</span></span>  
 <span data-ttu-id="4c42c-123">Una proprietà indicizzata è una proprietà speciale che può avere parametri e può essere chiamata con una sintassi speciale simile per l'indicizzazione della matrice.</span><span class="sxs-lookup"><span data-stu-id="4c42c-123">An indexed property is a special property that can have parameters and can be called with special syntax similar to array indexing.</span></span>  
  
 <span data-ttu-id="4c42c-124">Proprietà indicizzate sono comunemente detto indicizzatori.</span><span class="sxs-lookup"><span data-stu-id="4c42c-124">Indexed properties are commonly referred to as indexers.</span></span> <span data-ttu-id="4c42c-125">Gli indicizzatori devono essere utilizzati solo nelle API che consentono l'accesso agli elementi in una raccolta logica.</span><span class="sxs-lookup"><span data-stu-id="4c42c-125">Indexers should be used only in APIs that provide access to items in a logical collection.</span></span> <span data-ttu-id="4c42c-126">Ad esempio, una stringa è una raccolta di caratteri e l'indicizzatore su <xref:System.String?displayProperty=nameWithType> è stato aggiunto per accedere ai relativi caratteri.</span><span class="sxs-lookup"><span data-stu-id="4c42c-126">For example, a string is a collection of characters, and the indexer on <xref:System.String?displayProperty=nameWithType> was added to access its characters.</span></span>  
  
 <span data-ttu-id="4c42c-127">**✓ CONSIDER** utilizzo degli indicizzatori per fornire l'accesso ai dati archiviati in una matrice interna.</span><span class="sxs-lookup"><span data-stu-id="4c42c-127">**✓ CONSIDER** using indexers to provide access to data stored in an internal array.</span></span>  
  
 <span data-ttu-id="4c42c-128">**✓ CONSIDER** fornendo gli indicizzatori in tipi che rappresentano raccolte di elementi.</span><span class="sxs-lookup"><span data-stu-id="4c42c-128">**✓ CONSIDER** providing indexers on types representing collections of items.</span></span>  
  
 <span data-ttu-id="4c42c-129">**X AVOID** utilizzando proprietà con più di un parametro indicizzate.</span><span class="sxs-lookup"><span data-stu-id="4c42c-129">**X AVOID** using indexed properties with more than one parameter.</span></span>  
  
 <span data-ttu-id="4c42c-130">Se il progetto richiede più parametri, verificare che la proprietà rappresenta effettivamente una funzione di accesso a una raccolta logica.</span><span class="sxs-lookup"><span data-stu-id="4c42c-130">If the design requires multiple parameters, reconsider whether the property really represents an accessor to a logical collection.</span></span> <span data-ttu-id="4c42c-131">In caso contrario, usare invece i metodi.</span><span class="sxs-lookup"><span data-stu-id="4c42c-131">If it does not, use methods instead.</span></span> <span data-ttu-id="4c42c-132">È consigliabile iniziare con il nome del metodo `Get` o `Set`.</span><span class="sxs-lookup"><span data-stu-id="4c42c-132">Consider starting the method name with `Get` or `Set`.</span></span>  
  
 <span data-ttu-id="4c42c-133">**X AVOID** indicizzatori con tipi di parametro diverso da <xref:System.Int32?displayProperty=nameWithType>, <xref:System.Int64?displayProperty=nameWithType>, <xref:System.String?displayProperty=nameWithType>, <xref:System.Object?displayProperty=nameWithType>, o un'enumerazione.</span><span class="sxs-lookup"><span data-stu-id="4c42c-133">**X AVOID** indexers with parameter types other than <xref:System.Int32?displayProperty=nameWithType>, <xref:System.Int64?displayProperty=nameWithType>, <xref:System.String?displayProperty=nameWithType>, <xref:System.Object?displayProperty=nameWithType>, or an enum.</span></span>  
  
 <span data-ttu-id="4c42c-134">Se il progetto richiede altri tipi di parametri, rivalutare se l'API rappresenta effettivamente una funzione di accesso a una raccolta logica.</span><span class="sxs-lookup"><span data-stu-id="4c42c-134">If the design requires other types of parameters, strongly reevaluate whether the API really represents an accessor to a logical collection.</span></span> <span data-ttu-id="4c42c-135">In caso contrario, usare un metodo.</span><span class="sxs-lookup"><span data-stu-id="4c42c-135">If it does not, use a method.</span></span> <span data-ttu-id="4c42c-136">È consigliabile iniziare con il nome del metodo `Get` o `Set`.</span><span class="sxs-lookup"><span data-stu-id="4c42c-136">Consider starting the method name with `Get` or `Set`.</span></span>  
  
 <span data-ttu-id="4c42c-137">**✓ DO** usare il nome `Item` per proprietà indicizzate, a meno che non è un nome migliore ovviamente (ad esempio, vedere il <xref:System.String.Chars%2A> proprietà `System.String`).</span><span class="sxs-lookup"><span data-stu-id="4c42c-137">**✓ DO** use the name `Item` for indexed properties unless there is an obviously better name (e.g., see the <xref:System.String.Chars%2A> property on `System.String`).</span></span>  
  
 <span data-ttu-id="4c42c-138">In c#, gli indicizzatori sono per impostazione predefinita denominata elemento.</span><span class="sxs-lookup"><span data-stu-id="4c42c-138">In C#, indexers are by default named Item.</span></span> <span data-ttu-id="4c42c-139">Il <xref:System.Runtime.CompilerServices.IndexerNameAttribute> può essere utilizzato per personalizzare il nome specificato.</span><span class="sxs-lookup"><span data-stu-id="4c42c-139">The <xref:System.Runtime.CompilerServices.IndexerNameAttribute> can be used to customize this name.</span></span>  
  
 <span data-ttu-id="4c42c-140">**X DO NOT** fornire sia un indicizzatore e metodi che sono semanticamente equivalenti.</span><span class="sxs-lookup"><span data-stu-id="4c42c-140">**X DO NOT** provide both an indexer and methods that are semantically equivalent.</span></span>  
  
 <span data-ttu-id="4c42c-141">**X DO NOT** specificare più di un gruppo di overload indicizzatori in un solo tipo.</span><span class="sxs-lookup"><span data-stu-id="4c42c-141">**X DO NOT** provide more than one family of overloaded indexers in one type.</span></span>  
  
 <span data-ttu-id="4c42c-142">Questo viene applicato dal compilatore c#.</span><span class="sxs-lookup"><span data-stu-id="4c42c-142">This is enforced by the C# compiler.</span></span>  
  
 <span data-ttu-id="4c42c-143">**X DO NOT** diversi da quelli predefiniti utilizzare proprietà indicizzate.</span><span class="sxs-lookup"><span data-stu-id="4c42c-143">**X DO NOT** use nondefault indexed properties.</span></span>  
  
 <span data-ttu-id="4c42c-144">Questo viene applicato dal compilatore c#.</span><span class="sxs-lookup"><span data-stu-id="4c42c-144">This is enforced by the C# compiler.</span></span>  
  
### <a name="property-change-notification-events"></a><span data-ttu-id="4c42c-145">Eventi di notifica di modifica proprietà</span><span class="sxs-lookup"><span data-stu-id="4c42c-145">Property Change Notification Events</span></span>  
 <span data-ttu-id="4c42c-146">In alcuni casi è utile fornire un evento notificando all'utente di modifiche in un valore della proprietà.</span><span class="sxs-lookup"><span data-stu-id="4c42c-146">Sometimes it is useful to provide an event notifying the user of changes in a property value.</span></span> <span data-ttu-id="4c42c-147">Ad esempio, `System.Windows.Forms.Control` genera una `TextChanged` eventi quando il valore della relativa `Text` proprietà è stata modificata.</span><span class="sxs-lookup"><span data-stu-id="4c42c-147">For example, `System.Windows.Forms.Control` raises a `TextChanged` event after the value of its `Text` property has changed.</span></span>  
  
 <span data-ttu-id="4c42c-148">**✓ CONSIDER** generato modificare eventi di notifica quando vengono modificati i valori delle proprietà generale per le API (in genere Progettazione componenti).</span><span class="sxs-lookup"><span data-stu-id="4c42c-148">**✓ CONSIDER** raising change notification events when property values in high-level APIs (usually designer components) are modified.</span></span>  
  
 <span data-ttu-id="4c42c-149">Se si verifica uno scenario importante per un utente di sapere quando una proprietà di un oggetto in fase di modifica, l'oggetto deve generare un evento di notifica di modifica per la proprietà.</span><span class="sxs-lookup"><span data-stu-id="4c42c-149">If there is a good scenario for a user to know when a property of an object is changing, the object should raise a change notification event for the property.</span></span>  
  
 <span data-ttu-id="4c42c-150">Tuttavia, è probabilmente non vale la pena l'overhead per generare tali eventi per le API di basso livello, ad esempio i tipi di base o raccolte.</span><span class="sxs-lookup"><span data-stu-id="4c42c-150">However, it is unlikely to be worth the overhead to raise such events for low-level APIs such as base types or collections.</span></span> <span data-ttu-id="4c42c-151">Ad esempio, <xref:System.Collections.Generic.List%601> non genera eventi di questo tipo quando viene aggiunto un nuovo elemento all'elenco e `Count` le modifiche alle proprietà.</span><span class="sxs-lookup"><span data-stu-id="4c42c-151">For example, <xref:System.Collections.Generic.List%601> would not raise such events when a new item is added to the list and the `Count` property changes.</span></span>  
  
 <span data-ttu-id="4c42c-152">**✓ CONSIDER** generato modificare eventi di notifica quando il valore di una proprietà viene modificato tramite forze esterne.</span><span class="sxs-lookup"><span data-stu-id="4c42c-152">**✓ CONSIDER** raising change notification events when the value of a property changes via external forces.</span></span>  
  
 <span data-ttu-id="4c42c-153">Se un valore della proprietà viene modificato tramite alcuni force esterno (in modo diverso da chiamando i metodi sull'oggetto), generare eventi indicano agli sviluppatori che il valore in fase di modifica e che è stato modificato.</span><span class="sxs-lookup"><span data-stu-id="4c42c-153">If a property value changes via some external force (in a way other than by calling methods on the object), raise events indicate to the developer that the value is changing and has changed.</span></span> <span data-ttu-id="4c42c-154">Un buon esempio è il `Text` proprietà di un controllo casella di testo.</span><span class="sxs-lookup"><span data-stu-id="4c42c-154">A good example is the `Text` property of a text box control.</span></span> <span data-ttu-id="4c42c-155">Quando l'utente digita del testo in un `TextBox`, modifica automaticamente il valore della proprietà.</span><span class="sxs-lookup"><span data-stu-id="4c42c-155">When the user types text in a `TextBox`, the property value automatically changes.</span></span>  
  
 <span data-ttu-id="4c42c-156">*Parti protette da copyright © 2005, 2009 Microsoft Corporation. Tutti i diritti riservati.*</span><span class="sxs-lookup"><span data-stu-id="4c42c-156">*Portions © 2005, 2009 Microsoft Corporation. All rights reserved.*</span></span>  
  
 <span data-ttu-id="4c42c-157">*Ristampato con l'autorizzazione di Pearson Education, Inc. dal [linee guida di progettazione di Framework: Convenzioni, linguaggi e modelli per le librerie .NET di riutilizzabile, 2nd Edition](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) Krzysztof Cwalina e Brad Abrams, pubblicato il 22 ottobre 2008 da Addison-Wesley Professional come parte della serie di sviluppo di Microsoft Windows.*</span><span class="sxs-lookup"><span data-stu-id="4c42c-157">*Reprinted by permission of Pearson Education, Inc. from [Framework Design Guidelines: Conventions, Idioms, and Patterns for Reusable .NET Libraries, 2nd Edition](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) by Krzysztof Cwalina and Brad Abrams, published Oct 22, 2008 by Addison-Wesley Professional as part of the Microsoft Windows Development Series.*</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4c42c-158">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="4c42c-158">See also</span></span>

- [<span data-ttu-id="4c42c-159">Linee guida di progettazione dei membri</span><span class="sxs-lookup"><span data-stu-id="4c42c-159">Member Design Guidelines</span></span>](../../../docs/standard/design-guidelines/member.md)  
- [<span data-ttu-id="4c42c-160">Linee guida per la progettazione di Framework</span><span class="sxs-lookup"><span data-stu-id="4c42c-160">Framework Design Guidelines</span></span>](../../../docs/standard/design-guidelines/index.md)
