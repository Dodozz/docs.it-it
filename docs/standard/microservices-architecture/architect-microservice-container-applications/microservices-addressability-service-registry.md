---
title: Indirizzabilità dei microservizi e registro del servizio
description: Informazioni sul ruolo dei registri di immagini del contenitore nell'architettura di microservizi.
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 09/20/2018
ms.openlocfilehash: 60afb2e06c0c9a37104a82a74de016da5c134a61
ms.sourcegitcommit: ccd8c36b0d74d99291d41aceb14cf98d74dc9d2b
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 12/10/2018
ms.locfileid: "53145845"
---
# <a name="microservices-addressability-and-the-service-registry"></a><span data-ttu-id="f8eef-103">Indirizzabilità dei microservizi e registro del servizio</span><span class="sxs-lookup"><span data-stu-id="f8eef-103">Microservices addressability and the service registry</span></span>

<span data-ttu-id="f8eef-104">Ogni microservizio ha un nome univoco (URL) che viene usato per risolverne il percorso.</span><span class="sxs-lookup"><span data-stu-id="f8eef-104">Each microservice has a unique name (URL) that's used to resolve its location.</span></span> <span data-ttu-id="f8eef-105">Il microservizio deve essere indirizzabile ovunque venga eseguito.</span><span class="sxs-lookup"><span data-stu-id="f8eef-105">Your microservice needs to be addressable wherever it's running.</span></span> <span data-ttu-id="f8eef-106">Se è necessario pensare su quale computer è in esecuzione un determinato microservizio, qualcosa non va.</span><span class="sxs-lookup"><span data-stu-id="f8eef-106">If you have to think about which computer is running a particular microservice, things can go bad quickly.</span></span> <span data-ttu-id="f8eef-107">Analogamente al processo con cui il DNS risolve un URL in un determinato computer, il microservizio deve avere un nome univoco in modo che la sua posizione corrente sia facilmente individuabile.</span><span class="sxs-lookup"><span data-stu-id="f8eef-107">In the same way that DNS resolves a URL to a particular computer, your microservice needs to have a unique name so that its current location is discoverable.</span></span> <span data-ttu-id="f8eef-108">I microservizi devono avere nomi indirizzabili che li rendono indipendenti dall'infrastruttura su cui sono in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="f8eef-108">Microservices need addressable names that make them independent from the infrastructure that they're running on.</span></span> <span data-ttu-id="f8eef-109">Ciò implica che vi sia un'interazione tra il modo in cui il servizio viene distribuito e il modo in cui viene individuato perché è necessario un [registro del servizio](https://microservices.io/patterns/service-registry.html).</span><span class="sxs-lookup"><span data-stu-id="f8eef-109">This implies that there's an interaction between how your service is deployed and how it's discovered, because there needs to be a [service registry](https://microservices.io/patterns/service-registry.html).</span></span> <span data-ttu-id="f8eef-110">In caso di errore in un computer, il servizio registro deve essere in grado di indicare dove è in esecuzione il servizio.</span><span class="sxs-lookup"><span data-stu-id="f8eef-110">In the same vein, when a computer fails, the registry service must be able to indicate where the service is now running.</span></span>

<span data-ttu-id="f8eef-111">Lo [schema del registro del servizio](https://microservices.io/patterns/service-registry.html) è un componente essenziale per l'individuazione del servizio.</span><span class="sxs-lookup"><span data-stu-id="f8eef-111">The [service registry pattern](https://microservices.io/patterns/service-registry.html) is a key part of service discovery.</span></span> <span data-ttu-id="f8eef-112">Il registro è costituito invece da un database contenente i percorsi di rete delle istanze del servizio.</span><span class="sxs-lookup"><span data-stu-id="f8eef-112">The registry is a database containing the network locations of service instances.</span></span> <span data-ttu-id="f8eef-113">Un registro del servizio deve essere sempre aggiornato e ad alta disponibilità.</span><span class="sxs-lookup"><span data-stu-id="f8eef-113">A service registry needs to be highly available and up-to-date.</span></span> <span data-ttu-id="f8eef-114">I client possono memorizzare nella cache i percorsi di rete ottenuti dal registro del servizio.</span><span class="sxs-lookup"><span data-stu-id="f8eef-114">Clients could cache network locations obtained from the service registry.</span></span> <span data-ttu-id="f8eef-115">Queste informazioni, tuttavia, diventano presto obsolete e i client non riescono più a individuare le istanze del servizio.</span><span class="sxs-lookup"><span data-stu-id="f8eef-115">However, that information eventually goes out of date and clients can no longer discover service instances.</span></span> <span data-ttu-id="f8eef-116">È per questo motivo che il registro del servizio è costituito da un cluster di server che usano un protocollo di replica per mantenere la coerenza.</span><span class="sxs-lookup"><span data-stu-id="f8eef-116">Consequently, a service registry consists of a cluster of servers that use a replication protocol to maintain consistency.</span></span>

<span data-ttu-id="f8eef-117">In alcuni ambienti di distribuzione dei microservizi (denominati cluster e illustrati in una sezione successiva), l'individuazione del servizio è una procedura predefinita.</span><span class="sxs-lookup"><span data-stu-id="f8eef-117">In some microservice deployment environments (called clusters, to be covered in a later section), service discovery is built-in.</span></span> <span data-ttu-id="f8eef-118">Ad esempio, nell'ambiente di un servizio contenitore di Azure con Kubernetes (AKS) è possibile gestire le procedure di registrazione e annullamento della registrazione delle istanze del servizio.</span><span class="sxs-lookup"><span data-stu-id="f8eef-118">For example, an Azure Container Service with Kubernetes (AKS) environment can handle service instance registration and deregistration.</span></span> <span data-ttu-id="f8eef-119">Viene inoltre eseguito un proxy su ogni cluster host che svolge il ruolo di router di individuazione sul lato server.</span><span class="sxs-lookup"><span data-stu-id="f8eef-119">It also runs a proxy on each cluster host that plays the role of server-side discovery router.</span></span> <span data-ttu-id="f8eef-120">Un altro esempio è Azure Service Fabric, che offre un registro del servizio tramite il servizio di denominazione predefinito.</span><span class="sxs-lookup"><span data-stu-id="f8eef-120">Another example is Azure Service Fabric, which also provides a service registry through its out-of-the-box Naming Service.</span></span>

<span data-ttu-id="f8eef-121">Si noti che esiste una certa sovrapposizione tra il registro del servizio e lo schema del gateway API, altro aspetto che contribuisce a risolvere il problema.</span><span class="sxs-lookup"><span data-stu-id="f8eef-121">Note that there's certain overlap between the service registry and the API gateway pattern, which helps solve this problem as well.</span></span> <span data-ttu-id="f8eef-122">Il [proxy inverso di Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-reverseproxy), ad esempio, è un tipo di implementazione di un gateway API basato su Service Fabric Naming Service, che semplifica la risoluzione degli indirizzi dei servizi interni.</span><span class="sxs-lookup"><span data-stu-id="f8eef-122">For example, the [Service Fabric Reverse Proxy](https://docs.microsoft.com/azure/service-fabric/service-fabric-reverseproxy) is a type of implementation of an API Gateway that's based on the Service Fabric Naming Service and that helps resolve address resolution to the internal services.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="f8eef-123">Risorse aggiuntive</span><span class="sxs-lookup"><span data-stu-id="f8eef-123">Additional resources</span></span>

- <span data-ttu-id="f8eef-124">**Chris Richardson. Modello: Registro del servizio** \\</span><span class="sxs-lookup"><span data-stu-id="f8eef-124">**Chris Richardson. Pattern: Service registry** \\</span></span>
  [*https://microservices.io/patterns/service-registry.html*](https://microservices.io/patterns/service-registry.html)

- <span data-ttu-id="f8eef-125">**Auth0. Il registro del servizio** \\</span><span class="sxs-lookup"><span data-stu-id="f8eef-125">**Auth0. The Service Registry** \\</span></span>
  [*https://auth0.com/blog/an-introduction-to-microservices-part-3-the-service-registry/*](https://auth0.com/blog/an-introduction-to-microservices-part-3-the-service-registry/)

- <span data-ttu-id="f8eef-126">**Gabriel Schenker. Individuazione del servizio** \\</span><span class="sxs-lookup"><span data-stu-id="f8eef-126">**Gabriel Schenker. Service discovery** \\</span></span>
  [*https://lostechies.com/gabrielschenker/2016/01/27/service-discovery/*](https://lostechies.com/gabrielschenker/2016/01/27/service-discovery/)

>[!div class="step-by-step"]
><span data-ttu-id="f8eef-127">[Precedente](maintain-microservice-apis.md)
>[Successivo](microservice-based-composite-ui-shape-layout.md)</span><span class="sxs-lookup"><span data-stu-id="f8eef-127">[Previous](maintain-microservice-apis.md)
[Next](microservice-based-composite-ui-shape-layout.md)</span></span>