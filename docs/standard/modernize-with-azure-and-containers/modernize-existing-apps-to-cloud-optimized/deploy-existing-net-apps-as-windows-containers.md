---
title: Distribuire app .NET esistenti come contenitori Windows
description: Modernizzare le applicazioni .NET esistenti con contenitori Windows e il Cloud di Azure | Distribuire le app .NET esistenti come contenitori di Windows
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 04/29/2018
ms.openlocfilehash: ad0da9f7f0412c14b5362e3f631a7aa4af1f8260
ms.sourcegitcommit: 438919211260bb415fc8f96ca3eabc33cf2d681d
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/16/2019
ms.locfileid: "59611250"
---
# <a name="deploy-existing-net-apps-as-windows-containers"></a><span data-ttu-id="f48d3-103">Distribuire app .NET esistenti come contenitori Windows</span><span class="sxs-lookup"><span data-stu-id="f48d3-103">Deploy existing .NET apps as Windows containers</span></span>

<span data-ttu-id="f48d3-104">Le distribuzioni basate su contenitori Windows sono applicabili alle applicazioni ottimizzato per il Cloud e applicazioni Native del Cloud.</span><span class="sxs-lookup"><span data-stu-id="f48d3-104">Deployments that are based on Windows Containers are applicable to Cloud-Optimized applications and Cloud-Native applications.</span></span>

<span data-ttu-id="f48d3-105">Tuttavia, in questa Guida e in particolare nelle sezioni seguenti, principalmente è incentrata sull'uso dei contenitori di Windows per *ottimizzato per il Cloud* applicazioni in cui non è necessario riprogettare l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f48d3-105">However, in this guide and especially in the following sections, it mostly focuses on using Windows Containers for *Cloud-Optimized* applications where you don’t need to rearchitect your application.</span></span>

## <a name="what-are-containers-linux-or-windows"></a><span data-ttu-id="f48d3-106">Quali sono i contenitori?</span><span class="sxs-lookup"><span data-stu-id="f48d3-106">What are containers?</span></span> <span data-ttu-id="f48d3-107">(Linux o Windows)</span><span class="sxs-lookup"><span data-stu-id="f48d3-107">(Linux or Windows)</span></span>

<span data-ttu-id="f48d3-108">I contenitori sono un modo per eseguire il wrapping di un'applicazione in un proprio pacchetto isolato.</span><span class="sxs-lookup"><span data-stu-id="f48d3-108">Containers are a way to wrap up an application into its own isolated package.</span></span> <span data-ttu-id="f48d3-109">Nel contenitore, l'applicazione non sia influenzata da applicazioni o processi esistenti all'esterno del contenitore.</span><span class="sxs-lookup"><span data-stu-id="f48d3-109">In its container, the application is not affected by applications or processes that exist outside of the container.</span></span> <span data-ttu-id="f48d3-110">Tutto ciò che l'applicazione dipende run correttamente come processo è all'interno del contenitore.</span><span class="sxs-lookup"><span data-stu-id="f48d3-110">Everything the application depends on to run successfully as a process is inside the container.</span></span> <span data-ttu-id="f48d3-111">Ovunque si potrà spostare il contenitore, i requisiti dell'applicazione verranno sempre soddisfatto, in termini di dipendenze dirette, perché si è abbinato a tutto ciò che deve essere eseguito (dipendenze di libreria, Runtime e così via).</span><span class="sxs-lookup"><span data-stu-id="f48d3-111">Wherever the container might move, the requirements of the application will always be met, in terms of direct dependencies, because it is bundled with everything that it needs to run (library dependencies, runtimes, and so on).</span></span>

<span data-ttu-id="f48d3-112">Se la caratteristica principale di un contenitore è rendere l'ambiente uguale su distribuzioni diverse in quanto il contenitore stesso è dotato di tutte le dipendenze che necessarie.</span><span class="sxs-lookup"><span data-stu-id="f48d3-112">The main characteristic of a container is that it makes the environment the same across different deployments because the container itself comes with all the dependencies it needs.</span></span> <span data-ttu-id="f48d3-113">È possibile eseguire il debug dell'applicazione nel computer e quindi distribuirla in un altro computer, con lo stesso ambiente garantito.</span><span class="sxs-lookup"><span data-stu-id="f48d3-113">You can debug the application on your machine, and then deploy it to another machine, with the same environment guaranteed.</span></span>

<span data-ttu-id="f48d3-114">Un contenitore è un'istanza di un'immagine del contenitore.</span><span class="sxs-lookup"><span data-stu-id="f48d3-114">A container is an instance of a container image.</span></span> <span data-ttu-id="f48d3-115">Un'immagine del contenitore è un modo per creare un pacchetto un'app o un servizio (ad esempio, uno snapshot) e quindi distribuirlo in modo affidabile e riproducibile.</span><span class="sxs-lookup"><span data-stu-id="f48d3-115">A container image is a way to package an app or service (like a snapshot), and then deploy it in a reliable and reproducible way.</span></span> <span data-ttu-id="f48d3-116">Si potrebbe dire che Docker non è che solo una tecnologia IT, del anche una filosofia e un processo.</span><span class="sxs-lookup"><span data-stu-id="f48d3-116">You could say that Docker is not only a technology-it's also a philosophy and a process.</span></span>

<span data-ttu-id="f48d3-117">Come i contenitori ogni giorno diventano più comuni, si stanno diventando un settore di "unità di distribuzione".</span><span class="sxs-lookup"><span data-stu-id="f48d3-117">As containers daily become more common, they are becoming an industry-wide "unit of deployment."</span></span>

## <a name="benefits-of-containers-docker-engine-on-linux-or-windows"></a><span data-ttu-id="f48d3-118">Vantaggi dei contenitori (motore di Docker in Linux o Windows)</span><span class="sxs-lookup"><span data-stu-id="f48d3-118">Benefits of containers (Docker Engine on Linux or Windows)</span></span>

<span data-ttu-id="f48d3-119">Creazione di applicazioni tramite contenitori, che potrebbe essere anche definiti come blocchi predefiniti-offers leggero un aumento significativo in termini di flessibilità per la creazione, spedizione e l'esecuzione di qualsiasi applicazione, in qualsiasi infrastruttura di.</span><span class="sxs-lookup"><span data-stu-id="f48d3-119">Building applications by using containers-which also might be defined as lightweight building blocks-offers a significant increase in agility for building, shipping, and running any application, across any infrastructure.</span></span>

<span data-ttu-id="f48d3-120">Con i contenitori, è possibile eseguire qualsiasi app dallo sviluppo alla produzione con minima o senza alcuna modifica del codice, grazie all'integrazione di Docker in strumenti di sviluppo Microsoft, i sistemi operativi e nel cloud.</span><span class="sxs-lookup"><span data-stu-id="f48d3-120">With containers, you can take any app from development to production with little or no code change, thanks to Docker integration across Microsoft developer tools, operating systems, and cloud.</span></span>

<span data-ttu-id="f48d3-121">Quando si distribuisce le macchine virtuali semplice, probabilmente già un metodo sul posto per la distribuzione di App ASP.NET per le macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="f48d3-121">When you deploy to plain VMs, you probably already have a method in place for deploying ASP.NET apps to your VMs.</span></span> <span data-ttu-id="f48d3-122">È probabile che, tuttavia, che il metodo prevede più passaggi manuali o complessi processi automatizzati tramite uno strumento di distribuzione, come Puppet, o uno strumento simile.</span><span class="sxs-lookup"><span data-stu-id="f48d3-122">It's likely, though, that your method involves multiple manual steps or complex automated processes by using a deployment tool like Puppet, or a similar tool.</span></span> <span data-ttu-id="f48d3-123">Potrebbe essere necessario eseguire attività quali la modifica di elementi di configurazione, copia il contenuto dell'applicazione tra server e l'esecuzione di programmi di installazione interattiva basati su installazioni di file con estensione msi, seguite dal test.</span><span class="sxs-lookup"><span data-stu-id="f48d3-123">You might need to perform tasks like modifying configuration items, copying application content between servers, and running interactive setup programs based on .msi setups, followed by testing.</span></span> <span data-ttu-id="f48d3-124">Tutti i passaggi della distribuzione aggiungere tempi e rischi per le distribuzioni.</span><span class="sxs-lookup"><span data-stu-id="f48d3-124">All those steps in the deployment add time and risk to deployments.</span></span> <span data-ttu-id="f48d3-125">Vengono generati errori ogni volta che una dipendenza non è presente nell'ambiente di destinazione.</span><span class="sxs-lookup"><span data-stu-id="f48d3-125">You will get failures whenever a dependency is not present in the target environment.</span></span>

<span data-ttu-id="f48d3-126">Il processo di creazione delle applicazioni in contenitori Windows, è completamente automatizzato.</span><span class="sxs-lookup"><span data-stu-id="f48d3-126">In Windows Containers, the process of packaging applications is fully automated.</span></span> <span data-ttu-id="f48d3-127">I contenitori Windows si basa sulla piattaforma Docker, che offre aggiornamenti automatici e i ripristini per le distribuzioni di contenitori.</span><span class="sxs-lookup"><span data-stu-id="f48d3-127">Windows Containers is based on the Docker platform, which offers automatic updates and rollbacks for container deployments.</span></span> <span data-ttu-id="f48d3-128">Il principale miglioramento ottenuto tramite il motore Docker è di creare immagini, che sono, ad esempio snapshot dell'applicazione, con tutte le relative dipendenze.</span><span class="sxs-lookup"><span data-stu-id="f48d3-128">The main improvement you get from using the Docker engine is that you create images, which are like snapshots of your application, with all its dependencies.</span></span> <span data-ttu-id="f48d3-129">Le immagini sono immagini Docker (un Windows immagine del contenitore, in questo caso).</span><span class="sxs-lookup"><span data-stu-id="f48d3-129">The images are Docker images (a Windows container image, in this case).</span></span> <span data-ttu-id="f48d3-130">Le immagini di eseguire le app ASP.NET nei contenitori, senza tornare al codice sorgente.</span><span class="sxs-lookup"><span data-stu-id="f48d3-130">The images run ASP.NET apps in containers, without going back to source code.</span></span> <span data-ttu-id="f48d3-131">Lo snapshot del contenitore diventa l'unità di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="f48d3-131">The container snapshot becomes the unit of deployment.</span></span>

<span data-ttu-id="f48d3-132">Molte organizzazioni sono di inserimento nei contenitori di applicazioni monolitiche esistenti per i motivi seguenti:</span><span class="sxs-lookup"><span data-stu-id="f48d3-132">Many organizations are containerizing existing monolithic applications for the following reasons:</span></span>

-   <span data-ttu-id="f48d3-133">**Versione flessibilità nel corso di distribuzione migliorata**.</span><span class="sxs-lookup"><span data-stu-id="f48d3-133">**Release agility through improved deployment**.</span></span> <span data-ttu-id="f48d3-134">I contenitori offrono un contratto di distribuzione coerente tra sviluppo e operazioni.</span><span class="sxs-lookup"><span data-stu-id="f48d3-134">Containers offer a consistent deployment contract between development and operations.</span></span> <span data-ttu-id="f48d3-135">Quando si usano contenitori, non verrà riprodotto gli sviluppatori ad esempio, "Funziona sul mio computer, perché non nell'ambiente di produzione?"</span><span class="sxs-lookup"><span data-stu-id="f48d3-135">When you use containers, you won't hear developers say, "It works on my machine, why not in production?"</span></span> <span data-ttu-id="f48d3-136">È possibile ad esempio, "Viene eseguito come un contenitore, in modo che possa essere eseguito in ambiente di produzione."</span><span class="sxs-lookup"><span data-stu-id="f48d3-136">They can say, "It runs as a container, so it will run in production."</span></span> <span data-ttu-id="f48d3-137">L'applicazione in pacchetto, con tutte le relative dipendenze, può essere eseguito in qualsiasi ambiente supportato da basate su contenitori.</span><span class="sxs-lookup"><span data-stu-id="f48d3-137">The packaged application, with all its dependencies, can be executed in any supported container-based environment.</span></span> <span data-ttu-id="f48d3-138">Verrà eseguito il modo in cui che si intendeva eseguire in tutte le destinazioni di distribuzione (sviluppo, controllo qualità, staging, produzione).</span><span class="sxs-lookup"><span data-stu-id="f48d3-138">It will run the way it was intended to run in all deployment targets (dev, QA, staging, production).</span></span> <span data-ttu-id="f48d3-139">I contenitori di eliminano la maggior parte dei conflitti quando si spostano da una fase a quella successiva, che consente di migliorare notevolmente la distribuzione, ed è possibile fornire più rapidamente.</span><span class="sxs-lookup"><span data-stu-id="f48d3-139">Containers eliminate most frictions when they move from one stage to the next, which greatly improves deployment, and you can ship faster.</span></span>

-   <span data-ttu-id="f48d3-140">**Riduzioni dei costi**.</span><span class="sxs-lookup"><span data-stu-id="f48d3-140">**Cost reductions**.</span></span> <span data-ttu-id="f48d3-141">I contenitori di causare una riduzione dei costi, tramite il consolidamento e la rimozione di hardware esistente o dall'esecuzione di applicazioni su una densità maggiore per ogni unità dell'hardware.</span><span class="sxs-lookup"><span data-stu-id="f48d3-141">Containers lead to lower costs, either by the consolidation and removal of existing hardware, or from running applications at a higher density per unit of hardware.</span></span>

-   <span data-ttu-id="f48d3-142">**Portabilità**.</span><span class="sxs-lookup"><span data-stu-id="f48d3-142">**Portability**.</span></span> <span data-ttu-id="f48d3-143">I contenitori sono modulari e portatile.</span><span class="sxs-lookup"><span data-stu-id="f48d3-143">Containers are modular and portable.</span></span> <span data-ttu-id="f48d3-144">I contenitori docker sono supportati su qualsiasi sistema operativo server, Linux e Windows, in qualsiasi cloud pubblico principali (Microsoft Azure, Amazon AWS, Google, IBM) e in locale e privato o ambienti cloud ibridi.</span><span class="sxs-lookup"><span data-stu-id="f48d3-144">Docker containers are supported on any server operating system (Linux and Windows), in any major public cloud (Microsoft Azure, Amazon AWS, Google, IBM), and in on-premises and private or hybrid cloud environments.</span></span>

-   <span data-ttu-id="f48d3-145">**Controllo**.</span><span class="sxs-lookup"><span data-stu-id="f48d3-145">**Control**.</span></span> <span data-ttu-id="f48d3-146">I contenitori offrono un ambiente flessibile e sicuro che viene controllato a livello di contenitore.</span><span class="sxs-lookup"><span data-stu-id="f48d3-146">Containers offer a flexible and secure environment that's controlled at the container level.</span></span> <span data-ttu-id="f48d3-147">Un contenitore può essere protetto, isolated e persino limitato dall'impostazione di esecuzione dei criteri di vincolo per il contenitore.</span><span class="sxs-lookup"><span data-stu-id="f48d3-147">A container can be secured, isolated, and even limited by setting execution constraint policies on the container.</span></span> <span data-ttu-id="f48d3-148">Come descritto in dettaglio nella sezione sui contenitori di Windows, i contenitori di Hyper-V e Windows Server 2016 offrono opzioni di supporto aziendali aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="f48d3-148">As detailed in the section about Windows Containers, Windows Server 2016 and Hyper-V containers offer additional enterprise support options.</span></span>

<span data-ttu-id="f48d3-149">Miglioramenti significativi nell'agilità, portabilità e il controllo infine comportare la riduzione dei costi significativi quando si usano i contenitori per sviluppare e gestire le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="f48d3-149">Significant improvements in agility, portability, and control ultimately lead to significant cost reductions when you use containers to develop and maintain applications.</span></span>

## <a name="what-is-docker"></a><span data-ttu-id="f48d3-150">Che cos'è Docker?</span><span class="sxs-lookup"><span data-stu-id="f48d3-150">What is Docker?</span></span>

<span data-ttu-id="f48d3-151">[Docker](https://www.docker.com/) è un [progetto open source](https://github.com/docker/docker) che consentono di automatizzare la distribuzione di applicazioni come contenitori portabili e autosufficienti eseguibili nel cloud o in locale.</span><span class="sxs-lookup"><span data-stu-id="f48d3-151">[Docker](https://www.docker.com/) is an [open-source project](https://github.com/docker/docker) that automates the deployment of applications as portable, self-sufficient containers that can run in the cloud or on-premises.</span></span> <span data-ttu-id="f48d3-152">Docker è anche un'[azienda](https://www.docker.com/) che promuove questa tecnologia e ne guida l'evoluzione.</span><span class="sxs-lookup"><span data-stu-id="f48d3-152">Docker is also a [company](https://www.docker.com/) that promotes and evolves this technology.</span></span> <span data-ttu-id="f48d3-153">L'azienda collabora con il cloud, Linux e i fornitori di Windows, inclusa Microsoft.</span><span class="sxs-lookup"><span data-stu-id="f48d3-153">The company works in collaboration with cloud, Linux, and Windows vendors, including Microsoft.</span></span>

![](./media/image6.png)

> <span data-ttu-id="f48d3-154">**Figura 4 a 6.**</span><span class="sxs-lookup"><span data-stu-id="f48d3-154">**Figure 4-6.**</span></span> <span data-ttu-id="f48d3-155">Docker distribuisce contenitori a tutti i livelli del cloud ibrido</span><span class="sxs-lookup"><span data-stu-id="f48d3-155">Docker deploys containers at all layers of the hybrid cloud</span></span>

<span data-ttu-id="f48d3-156">A un utente ha familiarità con le macchine virtuali, contenitori potrebbero sembrare molto simile.</span><span class="sxs-lookup"><span data-stu-id="f48d3-156">To someone familiar with virtual machines, containers might appear to be remarkably similar.</span></span> <span data-ttu-id="f48d3-157">Un contenitore esegue un sistema operativo, dispone di un file system e sia accessibile tramite una rete, esattamente come un sistema di computer fisici o virtuali.</span><span class="sxs-lookup"><span data-stu-id="f48d3-157">A container runs an operating system, has a file system, and can be accessed over a network, just like a physical or virtual computer system.</span></span> <span data-ttu-id="f48d3-158">Tuttavia, la tecnologia e i concetti alla base dei contenitori sono notevolmente diversi dalle macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="f48d3-158">However, the technology and concepts behind containers are vastly different from virtual machines.</span></span> <span data-ttu-id="f48d3-159">Dal punto di vista per gli sviluppatori, un contenitore deve essere considerato più come un singolo processo.</span><span class="sxs-lookup"><span data-stu-id="f48d3-159">From a developer point of view, a container must be treated more like a single process.</span></span> <span data-ttu-id="f48d3-160">In effetti, un contenitore dispone di un singolo punto di ingresso per un processo.</span><span class="sxs-lookup"><span data-stu-id="f48d3-160">In fact, a container has a single entry point for one process.</span></span>

<span data-ttu-id="f48d3-161">I contenitori docker (per semplicità *contenitori*) può eseguire in modo nativo in Linux e Windows.</span><span class="sxs-lookup"><span data-stu-id="f48d3-161">Docker containers (for simplicity, *containers*) can run natively on Linux and Windows.</span></span> <span data-ttu-id="f48d3-162">Quando si esegue normali contenitori, i contenitori di Windows possono eseguire solo negli host Windows (un server host o una macchina virtuale) e possono eseguire contenitori Linux solo negli host Linux.</span><span class="sxs-lookup"><span data-stu-id="f48d3-162">When running regular containers, Windows containers can run only on Windows hosts (a host server or a VM), and Linux containers can run only on Linux hosts.</span></span> <span data-ttu-id="f48d3-163">Tuttavia, nelle versioni recenti di contenitori Windows Server e Hyper-V, un contenitore Linux anche possibile eseguire in modo nativo in Windows Server usando la tecnologia di isolamento di Hyper-V che è attualmente disponibile solo in contenitori di Windows Server.</span><span class="sxs-lookup"><span data-stu-id="f48d3-163">However, in recent versions of Windows Server and Hyper-V containers, a Linux container also can run natively on Windows Server by using the Hyper-V isolation technology that currently is available only in Windows Server Containers.</span></span>

<span data-ttu-id="f48d3-164">Nel prossimo futuro, ambienti misti con contenitori sia Linux che Windows sarà possibile e anche i più comuni.</span><span class="sxs-lookup"><span data-stu-id="f48d3-164">In the near future, mixed environments that have both Linux and Windows containers will be possible and even common.</span></span>

## <a name="benefits-of-windows-containers-for-your-existing-net-applications"></a><span data-ttu-id="f48d3-165">Vantaggi dei contenitori di Windows per le applicazioni .NET esistenti</span><span class="sxs-lookup"><span data-stu-id="f48d3-165">Benefits of Windows Containers for your existing .NET applications</span></span>

<span data-ttu-id="f48d3-166">I vantaggi dell'uso dei contenitori Windows sono fondamentalmente gli stessi vantaggi ottenuti da contenitori in generale.</span><span class="sxs-lookup"><span data-stu-id="f48d3-166">The benefits of using Windows Containers are fundamentally the same benefits you get from containers in general.</span></span> <span data-ttu-id="f48d3-167">Uso dei contenitori di Windows sta migliora notevolmente la flessibilità, portabilità e il controllo.</span><span class="sxs-lookup"><span data-stu-id="f48d3-167">Using Windows Containers is about greatly improving agility, portability, and control.</span></span>

<span data-ttu-id="f48d3-168">Le applicazioni .NET esistenti fanno riferimento a tali applicazioni create utilizzando .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="f48d3-168">Existing .NET applications refer to those applications that were created using the .NET Framework.</span></span> <span data-ttu-id="f48d3-169">Ad esempio, potrebbero essere le applicazioni web ASP.NET tradizionale-non usano .NET Core, che è più recente ed esegue lo sviluppo multipiattaforma in Linux, Windows e MacOS.</span><span class="sxs-lookup"><span data-stu-id="f48d3-169">For example, they might be traditional ASP.NET web applications-they don't use .NET Core, which is newer and runs cross-platform on Linux, Windows, and MacOS.</span></span>

<span data-ttu-id="f48d3-170">La dipendenza principale in .NET Framework è Windows.</span><span class="sxs-lookup"><span data-stu-id="f48d3-170">The main dependency in the .NET Framework is Windows.</span></span> <span data-ttu-id="f48d3-171">Include anche le dipendenze secondarie, come IIS e System. Web in ASP.NET tradizionale.</span><span class="sxs-lookup"><span data-stu-id="f48d3-171">It also has secondary dependencies, like IIS, and System.Web in traditional ASP.NET.</span></span>

<span data-ttu-id="f48d3-172">Un'applicazione .NET Framework deve eseguire in Windows, periodo.</span><span class="sxs-lookup"><span data-stu-id="f48d3-172">A .NET Framework application must run on Windows, period.</span></span> <span data-ttu-id="f48d3-173">Se si desidera distribuire in un contenitore di applicazioni .NET Framework esistenti e non è possibile o non si desidera investire in una migrazione a .NET Core ("se funziona correttamente, non eseguirne la migrazione"), l'unica scelta per i contenitori consiste nell'usare i contenitori di Windows.</span><span class="sxs-lookup"><span data-stu-id="f48d3-173">If you want to containerize existing .NET Framework applications and you can't or don't want to invest in a migration to .NET Core ("If it works properly, don't migrate it"), the only choice you have for containers is to use Windows Containers.</span></span>

<span data-ttu-id="f48d3-174">Pertanto, uno dei principali vantaggi dei contenitori di Windows è che essi offrono un modo per modernizzare le applicazioni .NET Framework esistenti che sono in esecuzione in contenitori Windows-through.</span><span class="sxs-lookup"><span data-stu-id="f48d3-174">So, one of the main benefits of Windows Containers is that they offer you a way to modernize your existing .NET Framework applications that are running on Windows-through containerization.</span></span> <span data-ttu-id="f48d3-175">In definitiva, i contenitori Windows ti permette di che si siano cercando con i contenitori di agilità, portabilità e controllare meglio i vantaggi.</span><span class="sxs-lookup"><span data-stu-id="f48d3-175">Ultimately, Windows Containers gets you the benefits that you are looking for by using containers-agility, portability, and better control.</span></span>

## <a name="choose-an-os-to-target-with-net-based-containers"></a><span data-ttu-id="f48d3-176">Scegliere un sistema operativo di destinazione. Contenitori basati su NET</span><span class="sxs-lookup"><span data-stu-id="f48d3-176">Choose an OS to target with .NET-based containers</span></span>

<span data-ttu-id="f48d3-177">Considerata la diversità dei sistemi operativi supportati da Docker, nonché le differenze tra .NET Framework e .NET Core, si deve essere indirizzata a uno specifico sistema operativo e le versioni specifiche in base al framework in uso.</span><span class="sxs-lookup"><span data-stu-id="f48d3-177">Given the diversity of operating systems that are supported by Docker, as well as the differences between .NET Framework and .NET Core, you should target a specific OS and specific versions based on the framework you are using.</span></span>

<span data-ttu-id="f48d3-178">Per Windows, è possibile usare Windows Server Core o Windows Nano Server.</span><span class="sxs-lookup"><span data-stu-id="f48d3-178">For Windows, you can use Windows Server Core or Windows Nano Server.</span></span> <span data-ttu-id="f48d3-179">Queste versioni di Windows offrono caratteristiche diverse (ad esempio IIS rispetto a un server web self-hosted come Kestrel) che potrebbero essere necessari per le applicazioni .NET Framework o .NET Core.</span><span class="sxs-lookup"><span data-stu-id="f48d3-179">These Windows versions provide different characteristics (like IIS versus a self-hosted web server like Kestrel) that might be needed by .NET Framework or .NET Core applications.</span></span>

<span data-ttu-id="f48d3-180">Per Linux, sono disponibili più distribuzioni supportate in immagini Docker. NET ufficiali, ad esempio Debian.</span><span class="sxs-lookup"><span data-stu-id="f48d3-180">For Linux, multiple distros are available and supported in official .NET Docker images (like Debian).</span></span>

<span data-ttu-id="f48d3-181">Figura 4-7 mostra le versioni del sistema operativo che è possibile impostare come destinazione, a seconda della versione dell'app di .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="f48d3-181">Figure 4-7 shows OS versions that you can target, depending on the app's version of the .NET Framework.</span></span>

![](./media/image7.png)

> <span data-ttu-id="f48d3-182">**Figura 4-7.**</span><span class="sxs-lookup"><span data-stu-id="f48d3-182">**Figure 4-7.**</span></span> <span data-ttu-id="f48d3-183">Sistemi operativi di destinazione in base alla versione di .NET Framework</span><span class="sxs-lookup"><span data-stu-id="f48d3-183">Operating systems to target based on .NET Framework version</span></span>

<span data-ttu-id="f48d3-184">In scenari di migrazione per le applicazioni legacy o esistenti che si basano sulle applicazioni .NET Framework, le dipendenze principale sono in Windows e IIS.</span><span class="sxs-lookup"><span data-stu-id="f48d3-184">In migration scenarios for existing or legacy applications that are based on .NET Framework applications, the main dependencies are on Windows and IIS.</span></span> <span data-ttu-id="f48d3-185">L'unica opzione consiste nell'utilizzare le immagini Docker basate su Windows Server Core e .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="f48d3-185">Your only option is to use Docker images based on Windows Server Core and the .NET Framework.</span></span>

<span data-ttu-id="f48d3-186">Quando si aggiunge il nome dell'immagine al file Dockerfile, è possibile selezionare il sistema operativo e la versione con un tag, come negli esempi seguenti per le immagini contenitore di Windows basata su .NET Framework:</span><span class="sxs-lookup"><span data-stu-id="f48d3-186">When you add the image name to your Dockerfile file, you can select the operating system and version by using a tag, as in the following examples for .NET Framework-based Windows container images:</span></span>

> | <span data-ttu-id="f48d3-187">**Tag**</span><span class="sxs-lookup"><span data-stu-id="f48d3-187">**Tag**</span></span> | <span data-ttu-id="f48d3-188">**Sistema e la versione**</span><span class="sxs-lookup"><span data-stu-id="f48d3-188">**System and version**</span></span> |
> |---|---|
> | <span data-ttu-id="f48d3-189">**microsoft/dotnet-framework:4.x-windowsservercore**</span><span class="sxs-lookup"><span data-stu-id="f48d3-189">**microsoft/dotnet-framework:4.x-windowsservercore**</span></span> | <span data-ttu-id="f48d3-190">.NET framework 4.x in Windows Server Core</span><span class="sxs-lookup"><span data-stu-id="f48d3-190">.NET Framework 4.x on Windows Server Core</span></span> |
> | <span data-ttu-id="f48d3-191">**microsoft/aspnet:4.x-windowsservercore**</span><span class="sxs-lookup"><span data-stu-id="f48d3-191">**microsoft/aspnet:4.x-windowsservercore**</span></span> | <span data-ttu-id="f48d3-192">.NET framework 4.x con un'ulteriore personalizzazione ASP.NET, in Windows Server Core</span><span class="sxs-lookup"><span data-stu-id="f48d3-192">.NET Framework 4.x with additional ASP.NET customization, on Windows Server Core</span></span> |

<span data-ttu-id="f48d3-193">Per .NET Core (cross-platform per Linux e Windows), i tag sarebbe simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="f48d3-193">For .NET Core (cross-platform for Linux and Windows), the tags would look like the following:</span></span>

> | <span data-ttu-id="f48d3-194">**Tag**</span><span class="sxs-lookup"><span data-stu-id="f48d3-194">**Tag**</span></span> | <span data-ttu-id="f48d3-195">**Sistema e la versione**</span><span class="sxs-lookup"><span data-stu-id="f48d3-195">**System and version**</span></span>
> |---|---|
> | <span data-ttu-id="f48d3-196">**microsoft/dotnet:2.0.0-runtime**</span><span class="sxs-lookup"><span data-stu-id="f48d3-196">**microsoft/dotnet:2.0.0-runtime**</span></span> | <span data-ttu-id="f48d3-197">.NET core 2.0 runtime solo in Linux</span><span class="sxs-lookup"><span data-stu-id="f48d3-197">.NET Core 2.0 runtime-only on Linux</span></span> |
> | <span data-ttu-id="f48d3-198">**microsoft/dotnet:2.0.0-runtime-nanoserver**</span><span class="sxs-lookup"><span data-stu-id="f48d3-198">**microsoft/dotnet:2.0.0-runtime-nanoserver**</span></span> | <span data-ttu-id="f48d3-199">.NET core 2.0 runtime solo in Windows Nano Server</span><span class="sxs-lookup"><span data-stu-id="f48d3-199">.NET Core 2.0 runtime-only on Windows Nano Server</span></span> |

### <a name="multi-arch-images"></a><span data-ttu-id="f48d3-200">Immagini multi-arch</span><span class="sxs-lookup"><span data-stu-id="f48d3-200">Multi-arch images</span></span>

<span data-ttu-id="f48d3-201">A partire dalla metà del 2017, è inoltre possibile utilizzare una nuova funzionalità in Docker chiamato [multi-arch](https://github.com/moby/moby/issues/15866) immagini.</span><span class="sxs-lookup"><span data-stu-id="f48d3-201">Beginning in mid-2017, you also can use a new feature in Docker called [multi-arch](https://github.com/moby/moby/issues/15866) images.</span></span> <span data-ttu-id="f48d3-202">Le immagini Docker per .NET core è possono usare tag per più architetture.</span><span class="sxs-lookup"><span data-stu-id="f48d3-202">.NET Core Docker images can use multi-arch tags.</span></span> <span data-ttu-id="f48d3-203">Il Dockerfile file non è più necessario definire il sistema operativo di destinazione.</span><span class="sxs-lookup"><span data-stu-id="f48d3-203">Your Dockerfile files no longer need to define the operating system that you are targeting.</span></span> <span data-ttu-id="f48d3-204">La funzionalità multi-arch consente un singolo tag da utilizzare in più configurazioni di computer.</span><span class="sxs-lookup"><span data-stu-id="f48d3-204">The multi-arch feature allows a single tag to be used across multiple machine configurations.</span></span> <span data-ttu-id="f48d3-205">Con multi-arch, ad esempio, è possibile usare un tag comune: **microsoft/dotnet:2.0.0-runtime**.</span><span class="sxs-lookup"><span data-stu-id="f48d3-205">For instance, with multi-arch, you can use one common tag: **microsoft/dotnet:2.0.0-runtime**.</span></span> <span data-ttu-id="f48d3-206">Se si visualizzano i tag da un ambiente del contenitore Linux, si ottiene l'immagine basate su Debian.</span><span class="sxs-lookup"><span data-stu-id="f48d3-206">If you pull that tag from a Linux container environment, you get the Debian-based image.</span></span> <span data-ttu-id="f48d3-207">Se si visualizzano i tag da un ambiente di contenitori Windows, si ottiene l'immagine basata su Nano Server.</span><span class="sxs-lookup"><span data-stu-id="f48d3-207">If you pull that tag from a Windows container environment, you get the Nano Server-based image.</span></span>

<span data-ttu-id="f48d3-208">Per le immagini di .NET Framework, poiché .NET Framework tradizionale supporta solo Windows, è possibile utilizzare la funzionalità multi-arch.</span><span class="sxs-lookup"><span data-stu-id="f48d3-208">For .NET Framework images, because the traditional .NET Framework supports only Windows, you cannot use the multi-arch feature.</span></span>

## <a name="windows-container-types"></a><span data-ttu-id="f48d3-209">Tipi di contenitori Windows</span><span class="sxs-lookup"><span data-stu-id="f48d3-209">Windows container types</span></span>

<span data-ttu-id="f48d3-210">Come i contenitori Linux, contenitori di Windows Server vengono gestiti tramite il motore Docker.</span><span class="sxs-lookup"><span data-stu-id="f48d3-210">Like Linux containers, Windows Server containers are managed by using Docker Engine.</span></span> <span data-ttu-id="f48d3-211">A differenza dei contenitori Linux, contenitori di Windows includono due tipi di contenitore diverso, oppure eseguono contenitori volte-Windows Server e l'isolamento di Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="f48d3-211">Unlike Linux containers, Windows containers include two different container types, or run times-Windows Server containers and Hyper-V isolation.</span></span>

<span data-ttu-id="f48d3-212">**Contenitori di Windows Server**: Fornisce l'isolamento dell'applicazione tramite la tecnologia di isolamento dei processi e dello spazio dei nomi.</span><span class="sxs-lookup"><span data-stu-id="f48d3-212">**Windows Server containers**: Provides application isolation through process and namespace isolation technology.</span></span> <span data-ttu-id="f48d3-213">Un contenitore di Windows Server condivide un kernel con l'host contenitore e tutti i contenitori in esecuzione nell'host.</span><span class="sxs-lookup"><span data-stu-id="f48d3-213">A Windows Server container shares a kernel with the container host and all containers that are running on the host.</span></span> <span data-ttu-id="f48d3-214">Questi contenitori non forniscono un limite di sicurezza potenzialmente ostile e non devono essere utilizzati per isolare il codice non attendibile.</span><span class="sxs-lookup"><span data-stu-id="f48d3-214">These containers do not provide a hostile security boundary and should not be used to isolate untrusted code.</span></span> <span data-ttu-id="f48d3-215">A causa di spazio del kernel condiviso, questi contenitori richiedono la stessa versione del kernel e la configurazione.</span><span class="sxs-lookup"><span data-stu-id="f48d3-215">Because of the shared kernel space, these containers require the same kernel version and configuration.</span></span>

<span data-ttu-id="f48d3-216">**Isolamento Hyper-V**: Amplia l'isolamento fornito dai contenitori di Windows Server eseguendo ciascun contenitore in una macchina virtuale altamente ottimizzata.</span><span class="sxs-lookup"><span data-stu-id="f48d3-216">**Hyper-V isolation**: Expands on the isolation provided by Windows Server Containers by running each container on a highly optimized VM.</span></span> <span data-ttu-id="f48d3-217">In questa configurazione il kernel dell'host contenitore non viene condivisa con altri contenitori nello stesso host.</span><span class="sxs-lookup"><span data-stu-id="f48d3-217">In this configuration, the kernel of the container host is not shared with other containers on the same host.</span></span> <span data-ttu-id="f48d3-218">Questi contenitori sono progettati per multi-tenant ospita ostili, con le stesse garanzie di sicurezza di una macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="f48d3-218">These containers are designed for hostile multitenant hosting, with the same security assurances of a VM.</span></span> <span data-ttu-id="f48d3-219">Poiché questi contenitori non condividono il kernel con l'host o in altri contenitori nell'host, possono essere eseguiti i kernel con diverse versioni e le configurazioni (con le versioni supportate).</span><span class="sxs-lookup"><span data-stu-id="f48d3-219">Because these containers don't share the kernel with the host or other containers on the host, they can run kernels with different versions and configurations (with supported versions).</span></span> <span data-ttu-id="f48d3-220">Ad esempio, tutti i contenitori di Windows in Windows 10 usano isolamento Hyper-V usare la versione del kernel di Windows Server e la configurazione.</span><span class="sxs-lookup"><span data-stu-id="f48d3-220">For example, all Windows containers on Windows 10 use Hyper-V isolation to utilize the Windows Server kernel version and configuration.</span></span>

<span data-ttu-id="f48d3-221">Esecuzione di un contenitore in Windows con o senza isolamento Hyper-V è una decisione relativa alla fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="f48d3-221">Running a container on Windows with or without Hyper-V isolation is a run-time decision.</span></span> <span data-ttu-id="f48d3-222">È possibile scegliere per creare inizialmente il contenitore con l'isolamento di Hyper-V e in fase di esecuzione, scegliere di eseguirlo come un contenitore di Windows Server.</span><span class="sxs-lookup"><span data-stu-id="f48d3-222">You might choose to create the container with Hyper-V isolation initially, and at run time, choose to run it as a Windows Server container instead.</span></span>

### <a name="additional-resources"></a><span data-ttu-id="f48d3-223">Risorse aggiuntive</span><span class="sxs-lookup"><span data-stu-id="f48d3-223">Additional resources</span></span>

-   <span data-ttu-id="f48d3-224">**Documentazione sui contenitori di Windows**</span><span class="sxs-lookup"><span data-stu-id="f48d3-224">**Windows Containers documentation**</span></span>

    <https://docs.microsoft.com/virtualization/windowscontainers/>

-   <span data-ttu-id="f48d3-225">**Nozioni di base sui contenitori di Windows**</span><span class="sxs-lookup"><span data-stu-id="f48d3-225">**Windows Containers fundamentals**</span></span>

    <https://docs.microsoft.com/virtualization/windowscontainers/about/>

-   <span data-ttu-id="f48d3-226">**Infografica: Microsoft e i contenitori**</span><span class="sxs-lookup"><span data-stu-id="f48d3-226">**Infographic: Microsoft and containers**</span></span>

    <https://info.microsoft.com/rs/157-GQE-382/images/Container%20infographic%201.4.17.pdf>

## <a name="the-container-ecosystem-in-azure"></a><span data-ttu-id="f48d3-227">L'ecosistema di contenitori in Azure</span><span class="sxs-lookup"><span data-stu-id="f48d3-227">The container ecosystem in Azure</span></span>

<span data-ttu-id="f48d3-228">Nelle sezioni precedenti, si è stato illustrato che cosa sono i vantaggi dei contenitori Docker, nonché informazioni dettagliate sulle immagini contenitore specifico per le applicazioni .NET.</span><span class="sxs-lookup"><span data-stu-id="f48d3-228">In previous sections, it’s been explained what the benefits of Docker containers are as well as details on the specific container images for .NET applications.</span></span> <span data-ttu-id="f48d3-229">Informazioni generiche tutto questo sono fondamentale per poter sviluppare o distribuire un'applicazione in un contenitore.</span><span class="sxs-lookup"><span data-stu-id="f48d3-229">All that generic information is fundamental in order to develop or containerize an application.</span></span>
<span data-ttu-id="f48d3-230">Tuttavia, quando si pensa l'ambiente di distribuzione di produzione o anche negli ambienti di sviluppo/Test e controllo di qualità, Microsoft Azure offre un aperta e una vasta gamma di scelte, un ecosistema completo del contenitore nel cloud (illustrata nel diagramma riportato di seguito).</span><span class="sxs-lookup"><span data-stu-id="f48d3-230">However, when thinking about the production deployment environment or even QA and Dev/Test environments, Microsoft Azure provides an open and broad variety of choices, a full container ecosystem in the cloud (shown in the diagram below).</span></span> <span data-ttu-id="f48d3-231">In base alle esigenze specifiche dell'applicazione, è necessario scegliere uno o un altro prodotto di Azure.</span><span class="sxs-lookup"><span data-stu-id="f48d3-231">Depending on your specific application’s needs, you should choose one or another Azure product.</span></span>

![](./media/image7.5.png)

> <span data-ttu-id="f48d3-232">**Figura 4-7.5.**</span><span class="sxs-lookup"><span data-stu-id="f48d3-232">**Figure 4-7.5.**</span></span> <span data-ttu-id="f48d3-233">L'ecosistema di contenitori in Azure</span><span class="sxs-lookup"><span data-stu-id="f48d3-233">The container ecosystem in Azure</span></span>

<span data-ttu-id="f48d3-234">Dall'ecosistema di contenitori in Azure, i prodotti seguenti che supportano i contenitori che vengono considerati infrastruttura:</span><span class="sxs-lookup"><span data-stu-id="f48d3-234">From the container ecosystem in Azure, the following products supporting containers that are considered infrastructure:</span></span>
-   <span data-ttu-id="f48d3-235">**Istanze di contenitore di Azure (ACI)**</span><span class="sxs-lookup"><span data-stu-id="f48d3-235">**Azure Container Instances (ACI)**</span></span>
-   <span data-ttu-id="f48d3-236">**Macchine virtuali di Azure** (con supporto del contenitore)</span><span class="sxs-lookup"><span data-stu-id="f48d3-236">**Azure Virtual Machines** (With container's support)</span></span>
-   <span data-ttu-id="f48d3-237">**Set di scalabilità di macchine virtuali Azure** (con supporto del contenitore)</span><span class="sxs-lookup"><span data-stu-id="f48d3-237">**Azure Virtual Machine Scale Sets** (With container's support)</span></span>

<span data-ttu-id="f48d3-238">Da queste tre, ACI offre un notevole vantaggio, ovvero il fatto che non è necessario mantenere il sistema operativo sottostante, non è necessario per l'aggiornamento/patch e così via, ma comunque ACI viene posizionato nel livello di infrastruttura, come spiegato meglio nelle sezioni successive di questo libro.</span><span class="sxs-lookup"><span data-stu-id="f48d3-238">From those three, ACI provides a great benefit, which is the fact that you don't need to maintain the underlying OS, no need for you to upgrade/patch, etc. but ACI still is positioned in the infrastructure level, as better explained in the upcoming sections of this book.</span></span>

<span data-ttu-id="f48d3-239">I prodotti in contenitori con supporti di Azure che sono allo stesso tempo posizionato più in PaaS (piattaforma distribuita come servizio) sono:</span><span class="sxs-lookup"><span data-stu-id="f48d3-239">The products in Azure supporting containers that are at the same time positioned more in the PaaS (Platform as a Service) level are:</span></span>

-   <span data-ttu-id="f48d3-240">**Servizio app di Azure**</span><span class="sxs-lookup"><span data-stu-id="f48d3-240">**Azure App Service**</span></span>
-   <span data-ttu-id="f48d3-241">**Azure Kubernetes Service (servizio contenitore di AZURE e servizio contenitore di AZURE)**</span><span class="sxs-lookup"><span data-stu-id="f48d3-241">**Azure Kubernetes Service (AKS and ACS)**</span></span>
-   <span data-ttu-id="f48d3-242">**Azure Service Fabric**</span><span class="sxs-lookup"><span data-stu-id="f48d3-242">**Azure Service Fabric**</span></span> 
-   <span data-ttu-id="f48d3-243">**Azure Batch**</span><span class="sxs-lookup"><span data-stu-id="f48d3-243">**Azure Batch**</span></span> 

<span data-ttu-id="f48d3-244">Quindi, registro contenitori di Azure è un registro contenitori di scalabilità elevata ospitato in Azure che è possibile usare da tutti i prodotti precedenti durante la registrazione e distribuzione di immagini contenitore personalizzate.</span><span class="sxs-lookup"><span data-stu-id="f48d3-244">Then, Azure Container Registry is a high scalable container registry hosted in Azure that you can use from all the previous products when registering and deploying your custom container images.</span></span>

<span data-ttu-id="f48d3-245">Inoltre, dai contenitori, è possibile usare altri servizi gestiti in Azure, ad esempio Azure SQL Database, cache Redis di Azure, Azure Cosmos DB, e così via.</span><span class="sxs-lookup"><span data-stu-id="f48d3-245">In addition, from your containers, you can consume other managed services in Azure like Azure SQL Database, Azure Redis cache, Azure Cosmos DB, etc.</span></span> <span data-ttu-id="f48d3-246">Inoltre, sono disponibili soluzioni/piattaforme di terze parti in Azure Marketplace, ad esempio Cloud Foundry e OpenShift in cui è anche possibile usare i contenitori all'interno di Azure.</span><span class="sxs-lookup"><span data-stu-id="f48d3-246">plus there are third-party solutions/platforms available in Azure Marketplace like Cloud Foundry and OpenShift where you can also use containers within Azure.</span></span> 

<span data-ttu-id="f48d3-247">Nelle sezioni successive, è possibile esplorare le raccomandazioni di Microsoft su quando usare ognuna di queste soluzioni e i prodotti di Azure in modo specifico quando la destinazione dei contenitori di Windows.</span><span class="sxs-lookup"><span data-stu-id="f48d3-247">In the next sections, you can explore Microsoft's recommendations on when to use each of those Azure products and solutions specifically when targeting Windows Containers.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="f48d3-248">[Precedente](what-about-cloud-native-applications.md)
>[Successivo](when-not-to-deploy-to-windows-containers.md)</span><span class="sxs-lookup"><span data-stu-id="f48d3-248">[Previous](what-about-cloud-native-applications.md)
[Next](when-not-to-deploy-to-windows-containers.md)</span></span>
