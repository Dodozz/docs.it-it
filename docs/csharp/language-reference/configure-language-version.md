---
title: Selezionare la versione del linguaggio C# - Guida a C#
description: Configurare il compilatore per eseguire la convalida della sintassi con una versione specifica del compilatore
ms.date: 02/28/2019
ms.openlocfilehash: feb3e51a107f9830071b55c7985f202edc842f4a
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 04/18/2019
ms.locfileid: "59770880"
---
# <a name="select-the-c-language-version"></a><span data-ttu-id="d7dab-103">Selezionare la versione del linguaggio C#</span><span class="sxs-lookup"><span data-stu-id="d7dab-103">Select the C# language version</span></span>

<span data-ttu-id="d7dab-104">Il C# compilatore determina la versione di un linguaggio predefinito basata su uno o più framework di destinazione del progetto.</span><span class="sxs-lookup"><span data-stu-id="d7dab-104">The C# compiler determines a default language version based on your project's target framework or frameworks.</span></span> <span data-ttu-id="d7dab-105">Quando il progetto ha come destinazione un framework in anteprima con una versione del linguaggio in anteprima corrispondente, la versione del linguaggio usata è la versione del linguaggio in anteprima.</span><span class="sxs-lookup"><span data-stu-id="d7dab-105">When your project targets a preview framework that has a corresponding preview language version, the language version used is the preview language version.</span></span> <span data-ttu-id="d7dab-106">Quando il progetto non ha come destinazione un framework in anteprima, la versione del linguaggio usata è la versione secondaria più recente.</span><span class="sxs-lookup"><span data-stu-id="d7dab-106">When your project doesn't target a preview framework, the language version used is the latest minor version.</span></span>

<span data-ttu-id="d7dab-107">Durante il periodo di anteprima per .NET Core 3.0, ad esempio, i progetti che hanno come destinazione `netcoreapp3.0` o `netstandard2.1` (entrambi in anteprima) useranno il linguaggio C# 8.0 (in anteprima).</span><span class="sxs-lookup"><span data-stu-id="d7dab-107">For example, during the preview period for .NET Core 3.0, any project that targets `netcoreapp3.0` or `netstandard2.1` (both in preview) will use the C# 8.0 language (also in preview).</span></span> <span data-ttu-id="d7dab-108">I progetti che hanno come destinazione una versione rilasciata useranno C# 7.3 (la versione rilasciata più recente).</span><span class="sxs-lookup"><span data-stu-id="d7dab-108">Projects targeting any released version will use C# 7.3 (the latest released version).</span></span> <span data-ttu-id="d7dab-109">Con questo comportamento i progetti che hanno come destinazione .NET Framework useranno la versione più recente (C# 7.3).</span><span class="sxs-lookup"><span data-stu-id="d7dab-109">This behavior means that any project targeting .NET Framework will use latest (C# 7.3).</span></span> 

<span data-ttu-id="d7dab-110">Questa funzionalità separa l'installazione delle nuove versioni dell'SDK e degli strumenti nell'ambiente di sviluppo dalla decisione di incorporare nuove funzionalità del linguaggio in un progetto.</span><span class="sxs-lookup"><span data-stu-id="d7dab-110">This capability decouples the decision to install new versions of the SDK and tools in your development environment from the decision to incorporate new language features in a project.</span></span> <span data-ttu-id="d7dab-111">È possibile installare l'SDK e gli strumenti più recenti nel computer di compilazione.</span><span class="sxs-lookup"><span data-stu-id="d7dab-111">You can install the latest SDK and tools on your build machine.</span></span> <span data-ttu-id="d7dab-112">Ogni progetto può essere configurato per usare una versione specifica del linguaggio in base alla relativa build.</span><span class="sxs-lookup"><span data-stu-id="d7dab-112">Each project can be configured to use a specific version of the language for its build.</span></span> <span data-ttu-id="d7dab-113">Con il comportamento predefinito le funzionalità del linguaggio che si basano su nuovi tipi o sul nuovo comportamento CLR sono abilitate solo quando i progetti hanno come destinazione tali framework.</span><span class="sxs-lookup"><span data-stu-id="d7dab-113">The default behavior means that any language features that rely on new types or new CLR behavior are enabled only when projects target those frameworks.</span></span>

<span data-ttu-id="d7dab-114">È possibile eseguire l'override del comportamento predefinito specificando una versione del linguaggio.</span><span class="sxs-lookup"><span data-stu-id="d7dab-114">You can override the default behavior by specifying a language version.</span></span> <span data-ttu-id="d7dab-115">La versione del linguaggio può essere impostata in modi diversi:</span><span class="sxs-lookup"><span data-stu-id="d7dab-115">There are several ways to set the language version:</span></span>

- <span data-ttu-id="d7dab-116">Usare un'[azione rapida di Visual Studio](#visual-studio-quick-action).</span><span class="sxs-lookup"><span data-stu-id="d7dab-116">Rely on a [Visual Studio quick action](#visual-studio-quick-action).</span></span>
- <span data-ttu-id="d7dab-117">Impostare la versione del linguaggio nell'[interfaccia utente di Visual Studio](#set-the-language-version-in-visual-studio).</span><span class="sxs-lookup"><span data-stu-id="d7dab-117">Set the language version in the [Visual Studio UI](#set-the-language-version-in-visual-studio).</span></span>
- <span data-ttu-id="d7dab-118">Modificare manualmente il [file **.csproj**](#edit-the-csproj-file).</span><span class="sxs-lookup"><span data-stu-id="d7dab-118">Manually edit your [**.csproj** file](#edit-the-csproj-file).</span></span>
- <span data-ttu-id="d7dab-119">Impostare la versione del linguaggio [per più progetti in una sottodirectory](#configure-multiple-projects).</span><span class="sxs-lookup"><span data-stu-id="d7dab-119">Set the language version [for multiple projects in a subdirectory](#configure-multiple-projects).</span></span>
- <span data-ttu-id="d7dab-120">Configurare l'[opzione del compilatore `-langversion`](#set-the-langversion-compiler-option).</span><span class="sxs-lookup"><span data-stu-id="d7dab-120">Configure the [`-langversion` compiler option](#set-the-langversion-compiler-option).</span></span>

## <a name="visual-studio-quick-action"></a><span data-ttu-id="d7dab-121">Azione rapida di Visual Studio</span><span class="sxs-lookup"><span data-stu-id="d7dab-121">Visual Studio quick action</span></span>

<span data-ttu-id="d7dab-122">Visual Studio consente di determinare la versione del linguaggio necessaria.</span><span class="sxs-lookup"><span data-stu-id="d7dab-122">Visual Studio helps you determine the language version you need.</span></span> <span data-ttu-id="d7dab-123">Se si usa una funzionalità del linguaggio non disponibile per la versione correntemente configurata, Visual Studio visualizza una correzione potenziale per aggiornare la versione del linguaggio per il progetto.</span><span class="sxs-lookup"><span data-stu-id="d7dab-123">If you use a language feature that is not available for the currently configured version, Visual Studio shows a potential fix to update the language version for the project.</span></span>

## <a name="set-the-language-version-in-visual-studio"></a><span data-ttu-id="d7dab-124">Impostare la versione del linguaggio in Visual Studio</span><span class="sxs-lookup"><span data-stu-id="d7dab-124">Set the language version in Visual Studio</span></span>

<span data-ttu-id="d7dab-125">È possibile impostare la versione in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="d7dab-125">You can set the version in Visual Studio.</span></span> <span data-ttu-id="d7dab-126">Fare clic con il pulsante destro del mouse sul nodo del progetto in Esplora soluzioni e scegliere **Proprietà**.</span><span class="sxs-lookup"><span data-stu-id="d7dab-126">Right-click on the project node in Solution Explorer and select **Properties**.</span></span> <span data-ttu-id="d7dab-127">Selezionare la scheda **Compilazione** e quindi il pulsante **Avanzate**.</span><span class="sxs-lookup"><span data-stu-id="d7dab-127">Select the **Build** tab and select the **Advanced** button.</span></span> <span data-ttu-id="d7dab-128">Nell'elenco a discesa selezionare la versione.</span><span class="sxs-lookup"><span data-stu-id="d7dab-128">In the dropdown, select the version.</span></span> <span data-ttu-id="d7dab-129">L'immagine seguente mostra l'impostazione più recente:</span><span class="sxs-lookup"><span data-stu-id="d7dab-129">The following image shows the "latest" setting:</span></span>

![Screenshot delle impostazioni di compilazione avanzate in cui è possibile specificare la versione del linguaggio](./media/configure-language-version/advanced-build-settings.png)

> [!NOTE]
> <span data-ttu-id="d7dab-131">Se si usa l'IDE di Visual Studio per aggiornare i file csproj, l'IDE crea nodi separati per ogni configurazione della build.</span><span class="sxs-lookup"><span data-stu-id="d7dab-131">If you use the Visual Studio IDE to update your csproj files, the IDE creates separate nodes for each build configuration.</span></span> <span data-ttu-id="d7dab-132">In genere si imposta lo stesso valore in tutte le configurazioni della build, ma è necessario impostarlo in modo esplicito per ogni configurazione della build o selezionare "Tutte le configurazioni" quando si modifica questa impostazione.</span><span class="sxs-lookup"><span data-stu-id="d7dab-132">You'll typically set the value the same in all build configurations, but you need to set it explicitly for each build configuration, or select "All Configurations" when you modify this setting.</span></span> <span data-ttu-id="d7dab-133">Nel file csproj verrà visualizzato quanto segue:</span><span class="sxs-lookup"><span data-stu-id="d7dab-133">You'll see the following in your csproj file:</span></span>
>
>```xml
> <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|AnyCPU'">
>  <LangVersion>latest</LangVersion>
></PropertyGroup>
>
> <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|AnyCPU'">
>  <LangVersion>latest</LangVersion>
> </PropertyGroup>
> ```
>

## <a name="edit-the-csproj-file"></a><span data-ttu-id="d7dab-134">Modificare il file csproj</span><span class="sxs-lookup"><span data-stu-id="d7dab-134">Edit the csproj file</span></span>

<span data-ttu-id="d7dab-135">È possibile impostare la versione del linguaggio nel file con estensione **csproj**.</span><span class="sxs-lookup"><span data-stu-id="d7dab-135">You can set the language version in your **.csproj** file.</span></span> <span data-ttu-id="d7dab-136">Aggiungere un elemento simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="d7dab-136">Add an element like the following:</span></span>

```xml
<PropertyGroup>
   <LangVersion>latest</LangVersion>
</PropertyGroup>
```

<span data-ttu-id="d7dab-137">Il valore `latest` usa la versione secondaria più recente del linguaggio C#.</span><span class="sxs-lookup"><span data-stu-id="d7dab-137">The value `latest` uses the latest minor version of the C# language.</span></span> <span data-ttu-id="d7dab-138">I valori validi sono:</span><span class="sxs-lookup"><span data-stu-id="d7dab-138">Valid values are:</span></span>

|<span data-ttu-id="d7dab-139">Value</span><span class="sxs-lookup"><span data-stu-id="d7dab-139">Value</span></span>|<span data-ttu-id="d7dab-140">Significato</span><span class="sxs-lookup"><span data-stu-id="d7dab-140">Meaning</span></span>|
|------------|-------------|
|<span data-ttu-id="d7dab-141">preview</span><span class="sxs-lookup"><span data-stu-id="d7dab-141">preview</span></span>|<span data-ttu-id="d7dab-142">Il compilatore accetta tutte le sintassi di linguaggio valide dalla versione di anteprima più recente.</span><span class="sxs-lookup"><span data-stu-id="d7dab-142">The compiler accepts all valid language syntax from the latest preview version.</span></span>|
|<span data-ttu-id="d7dab-143">latest</span><span class="sxs-lookup"><span data-stu-id="d7dab-143">latest</span></span>|<span data-ttu-id="d7dab-144">Il compilatore accetta la sintassi dalla versione rilasciata più recente del compilatore (inclusa la versione secondaria).</span><span class="sxs-lookup"><span data-stu-id="d7dab-144">The compiler accepts syntax from the latest released version of the compiler (including minor version).</span></span>|
|<span data-ttu-id="d7dab-145">latestMajor</span><span class="sxs-lookup"><span data-stu-id="d7dab-145">latestMajor</span></span>|<span data-ttu-id="d7dab-146">Il compilatore accetta la sintassi dalla versione principale più recente rilasciata del compilatore.</span><span class="sxs-lookup"><span data-stu-id="d7dab-146">The compiler accepts syntax from the latest released major version of the compiler.</span></span>|
|<span data-ttu-id="d7dab-147">8.0</span><span class="sxs-lookup"><span data-stu-id="d7dab-147">8.0</span></span>|<span data-ttu-id="d7dab-148">Il compilatore accetta solo la sintassi inclusa in C# 8.0 o versione precedente.</span><span class="sxs-lookup"><span data-stu-id="d7dab-148">The compiler accepts only syntax that is included in C# 8.0 or lower.</span></span>|
|<span data-ttu-id="d7dab-149">7.3</span><span class="sxs-lookup"><span data-stu-id="d7dab-149">7.3</span></span>|<span data-ttu-id="d7dab-150">Il compilatore accetta solo la sintassi inclusa in C# 7.3 o versione precedente.</span><span class="sxs-lookup"><span data-stu-id="d7dab-150">The compiler accepts only syntax that is included in C# 7.3 or lower.</span></span>|
|<span data-ttu-id="d7dab-151">7.2</span><span class="sxs-lookup"><span data-stu-id="d7dab-151">7.2</span></span>|<span data-ttu-id="d7dab-152">Il compilatore accetta solo la sintassi inclusa in C# 7.2 o versione precedente.</span><span class="sxs-lookup"><span data-stu-id="d7dab-152">The compiler accepts only syntax that is included in C# 7.2 or lower.</span></span>|
|<span data-ttu-id="d7dab-153">7.1</span><span class="sxs-lookup"><span data-stu-id="d7dab-153">7.1</span></span>|<span data-ttu-id="d7dab-154">Il compilatore accetta solo la sintassi inclusa in C# 7.1 o versione precedente.</span><span class="sxs-lookup"><span data-stu-id="d7dab-154">The compiler accepts only syntax that is included in C# 7.1 or lower.</span></span>|
|<span data-ttu-id="d7dab-155">7</span><span class="sxs-lookup"><span data-stu-id="d7dab-155">7</span></span>|<span data-ttu-id="d7dab-156">Il compilatore accetta solo la sintassi inclusa in C# 7.0 o versione precedente.</span><span class="sxs-lookup"><span data-stu-id="d7dab-156">The compiler accepts only syntax that is included in C# 7.0 or lower.</span></span>|
|<span data-ttu-id="d7dab-157">6</span><span class="sxs-lookup"><span data-stu-id="d7dab-157">6</span></span>|<span data-ttu-id="d7dab-158">Il compilatore accetta solo la sintassi inclusa in C# 6.0 o versione precedente.</span><span class="sxs-lookup"><span data-stu-id="d7dab-158">The compiler accepts only syntax that is included in C# 6.0 or lower.</span></span>|
|<span data-ttu-id="d7dab-159">5</span><span class="sxs-lookup"><span data-stu-id="d7dab-159">5</span></span>|<span data-ttu-id="d7dab-160">Il compilatore accetta solo la sintassi inclusa in C# 5.0 o versione precedente.</span><span class="sxs-lookup"><span data-stu-id="d7dab-160">The compiler accepts only syntax that is included in C# 5.0 or lower.</span></span>|
|<span data-ttu-id="d7dab-161">4</span><span class="sxs-lookup"><span data-stu-id="d7dab-161">4</span></span>|<span data-ttu-id="d7dab-162">Il compilatore accetta solo la sintassi inclusa in C# 4.0 o versione precedente.</span><span class="sxs-lookup"><span data-stu-id="d7dab-162">The compiler accepts only syntax that is included in C# 4.0 or lower.</span></span>|
|<span data-ttu-id="d7dab-163">3</span><span class="sxs-lookup"><span data-stu-id="d7dab-163">3</span></span>|<span data-ttu-id="d7dab-164">Il compilatore accetta solo la sintassi inclusa in C# 3.0 o versione precedente.</span><span class="sxs-lookup"><span data-stu-id="d7dab-164">The compiler accepts only syntax that is included in C# 3.0 or lower.</span></span>|
|<span data-ttu-id="d7dab-165">ISO-2</span><span class="sxs-lookup"><span data-stu-id="d7dab-165">ISO-2</span></span>|<span data-ttu-id="d7dab-166">Il compilatore accetta solo la sintassi inclusa nella specifica ISO/IEC 23270:2006 C# (2.0)</span><span class="sxs-lookup"><span data-stu-id="d7dab-166">The compiler accepts only syntax that is included in ISO/IEC 23270:2006 C# (2.0)</span></span> |
|<span data-ttu-id="d7dab-167">ISO-1</span><span class="sxs-lookup"><span data-stu-id="d7dab-167">ISO-1</span></span>|<span data-ttu-id="d7dab-168">Il compilatore accetta solo la sintassi inclusa nella specifica ISO/IEC 23270:2003 C# (1.0/1.2)</span><span class="sxs-lookup"><span data-stu-id="d7dab-168">The compiler accepts only syntax that is included in ISO/IEC 23270:2003 C# (1.0/1.2)</span></span> |

## <a name="configure-multiple-projects"></a><span data-ttu-id="d7dab-169">Configurare più progetti</span><span class="sxs-lookup"><span data-stu-id="d7dab-169">Configure multiple projects</span></span>

<span data-ttu-id="d7dab-170">È possibile creare un file **Directory.build.props** che contiene l'elemento `<LangVersion>` per configurare più directory.</span><span class="sxs-lookup"><span data-stu-id="d7dab-170">You can create a **Directory.Build.props** file that contains the `<LangVersion>` element to configure multiple directories.</span></span> <span data-ttu-id="d7dab-171">Questa operazione viene in genere eseguita nella directory della soluzione.</span><span class="sxs-lookup"><span data-stu-id="d7dab-171">You typically do that in your solution directory.</span></span> <span data-ttu-id="d7dab-172">Aggiungere il codice seguente a un file **Directory.Build.props** nella directory della soluzione:</span><span class="sxs-lookup"><span data-stu-id="d7dab-172">Add the following to a **Directory.Build.props** file in your solution directory:</span></span>

```xml
<Project>
 <PropertyGroup>
   <LangVersion>7.3</LangVersion>
 </PropertyGroup>
</Project>
```

<span data-ttu-id="d7dab-173">A questo punto, le compilazioni in tutte le sottodirectory della directory contenente il file useranno la sintassi di C# versione 7.3.</span><span class="sxs-lookup"><span data-stu-id="d7dab-173">Now, builds in every subdirectory of the directory containing that file will use C# version 7.3 syntax.</span></span> <span data-ttu-id="d7dab-174">Per altre informazioni, vedere l'articolo [Personalizzare la compilazione](/visualstudio/msbuild/customize-your-build).</span><span class="sxs-lookup"><span data-stu-id="d7dab-174">For more information, see the article on [Customize your build](/visualstudio/msbuild/customize-your-build).</span></span>

## <a name="set-the-langversion-compiler-option"></a><span data-ttu-id="d7dab-175">Impostare l'opzione del compilatore langversion</span><span class="sxs-lookup"><span data-stu-id="d7dab-175">Set the langversion compiler option</span></span>

<span data-ttu-id="d7dab-176">È possibile usare l'opzione della riga di comando `-langversion`.</span><span class="sxs-lookup"><span data-stu-id="d7dab-176">You can use the `-langversion` command-line option.</span></span> <span data-ttu-id="d7dab-177">Per altre informazioni, vedere l'articolo relativo all'opzione del compilatore [-langversion](../language-reference/compiler-options/langversion-compiler-option.md).</span><span class="sxs-lookup"><span data-stu-id="d7dab-177">For more information, see the article on the [-langversion](../language-reference/compiler-options/langversion-compiler-option.md) compiler option.</span></span> <span data-ttu-id="d7dab-178">È possibile visualizzare un elenco dei valori validi digitando `csc -langversion:?`.</span><span class="sxs-lookup"><span data-stu-id="d7dab-178">You can see a list of the valid values by typing  `csc -langversion:?`.</span></span>
