---
title: 'Procedura: configurare i servizi delle applicazioni client'
ms.date: 03/30/2017
helpviewer_keywords:
- client application services, configuring
ms.assetid: 34a8688a-a32c-40d3-94be-c8e610c6a4e8
ms.openlocfilehash: 6f754a2a66187ac94d31d0d5a3a665c969652d26
ms.sourcegitcommit: 8c28ab17c26bf08abbd004cc37651985c68841b8
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 10/07/2018
ms.locfileid: "48846513"
---
# <a name="how-to-configure-client-application-services"></a><span data-ttu-id="804fd-102">Procedura: configurare i servizi delle applicazioni client</span><span class="sxs-lookup"><span data-stu-id="804fd-102">How to: Configure Client Application Services</span></span>
<span data-ttu-id="804fd-103">In questo argomento viene descritto come usare **Creazione progetti** di Visual Studio per abilitare e configurare i servizi delle applicazioni client.</span><span class="sxs-lookup"><span data-stu-id="804fd-103">This topic describes how to use the Visual Studio **Project Designer** to enable and configure client application services.</span></span> <span data-ttu-id="804fd-104">È possibile usare i servizi delle applicazioni client per convalidare gli utenti e recuperare i ruoli utente e le impostazioni da un servizio dell'applicazione [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] esistente.</span><span class="sxs-lookup"><span data-stu-id="804fd-104">You can use client application services to validate users and retrieve user roles and settings from an existing [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] application service.</span></span> <span data-ttu-id="804fd-105">Dopo la configurazione, è possibile accedere ai servizi abilitati nel codice dell'applicazione come descritto in [Cenni preliminari sui servizi delle applicazioni client](../../../docs/framework/common-client-technologies/client-application-services-overview.md).</span><span class="sxs-lookup"><span data-stu-id="804fd-105">After configuration, you can access the enabled services in your application code as described in [Client Application Services Overview](../../../docs/framework/common-client-technologies/client-application-services-overview.md).</span></span> <span data-ttu-id="804fd-106">Per altre informazioni sui servizi delle applicazioni [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)], vedere l'argomento relativo ai [Panoramica sui servizi delle applicazioni ASP.NET](https://msdn.microsoft.com/library/1162e529-0d70-44b2-b3ab-83e60c695013).</span><span class="sxs-lookup"><span data-stu-id="804fd-106">For more information about the [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] application services, see [ASP.NET Application Services Overview](https://msdn.microsoft.com/library/1162e529-0d70-44b2-b3ab-83e60c695013).</span></span>  
  
 <span data-ttu-id="804fd-107">È possibile abilitare e configurare i servizi delle applicazioni client nella pagina **Servizi** di **Creazione progetti**.</span><span class="sxs-lookup"><span data-stu-id="804fd-107">You can enable and configure client application services on the **Services** page of the **Project Designer**.</span></span> <span data-ttu-id="804fd-108">La pagina **Servizi** aggiorna i valori nel file app. config del progetto.</span><span class="sxs-lookup"><span data-stu-id="804fd-108">The **Services** page updates values in your project's App.config file.</span></span> <span data-ttu-id="804fd-109">Per accedere a **Creazione progetti**, usare il comando **Proprietà** nel menu **Progetto**.</span><span class="sxs-lookup"><span data-stu-id="804fd-109">To access the **Project Designer**, use the **Properties** command on the **Project** menu.</span></span> <span data-ttu-id="804fd-110">Per altre informazioni sulla pagina **Servizi**, vedere [Services Page, Project Designer](/visualstudio/ide/reference/services-page-project-designer) (Pagina Servizi, Creazione progetti).</span><span class="sxs-lookup"><span data-stu-id="804fd-110">For more information about the **Services** page, see [Services Page, Project Designer](/visualstudio/ide/reference/services-page-project-designer).</span></span>  
  
 <span data-ttu-id="804fd-111">La procedura seguente descrive come eseguire la configurazione di base per i servizi delle applicazioni client.</span><span class="sxs-lookup"><span data-stu-id="804fd-111">The following procedure describes how to perform basic configuration for client application services.</span></span> <span data-ttu-id="804fd-112">Le opzioni di configurazione avanzata sono descritte nelle sezioni successive.</span><span class="sxs-lookup"><span data-stu-id="804fd-112">Advanced configuration options are described in later sections.</span></span>  
  
### <a name="to-configure-client-application-services"></a><span data-ttu-id="804fd-113">Per configurare i servizi delle applicazioni client</span><span class="sxs-lookup"><span data-stu-id="804fd-113">To configure client application services</span></span>  
  
1.  <span data-ttu-id="804fd-114">In **Esplora soluzioni**, selezionare un nodo di progetto e quindi, nel menu **Progetto**, fare clic su **Proprietà**.</span><span class="sxs-lookup"><span data-stu-id="804fd-114">In **Solution Explorer**, select a project node and then on the **Project** menu, click **Properties**.</span></span>  
  
     <span data-ttu-id="804fd-115">Viene visualizzata la finestra **Creazione progetti**.</span><span class="sxs-lookup"><span data-stu-id="804fd-115">The **Project Designer** appears.</span></span>  
  
2.  <span data-ttu-id="804fd-116">Fare clic sulla scheda **Servizi**. Viene visualizzata la pagina **Servizi**, come illustrato nella figura seguente.</span><span class="sxs-lookup"><span data-stu-id="804fd-116">Click the **Services** tab. The **Services** page appears, as shown in the following illustration.</span></span>  
  
     <span data-ttu-id="804fd-117">![Scheda Servizi in Creazione progetti](../../../docs/framework/common-client-technologies/media/casdesigner.png "casdesigner")</span><span class="sxs-lookup"><span data-stu-id="804fd-117">![The Services tab in the project designer](../../../docs/framework/common-client-technologies/media/casdesigner.png "casdesigner")</span></span>  
  
3.  <span data-ttu-id="804fd-118">Nella pagina **Servizi** selezionare **Attiva servizi applicazioni client**.</span><span class="sxs-lookup"><span data-stu-id="804fd-118">On the **Services** page, select **Enable client application services**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="804fd-119">I servizi delle applicazioni client richiedono la versione completa di.NET Framework e non sono supportati in .NET Framework Client Profile.</span><span class="sxs-lookup"><span data-stu-id="804fd-119">Client application services require the full version of the .NET Framework, and are not supported in the .NET Framework Client Profile.</span></span> <span data-ttu-id="804fd-120">Se la casella di controllo **Attiva servizi applicazioni client** è disattivata, verificare che il **Framework di destinazione** sia impostato su.NET Framework 3.5 o versione successiva.</span><span class="sxs-lookup"><span data-stu-id="804fd-120">If the **Enable client application services** check box is disabled, verify that the **Target framework** is set to the .NET Framework 3.5 or later.</span></span> <span data-ttu-id="804fd-121">Per visualizzare l'impostazione **Framework di destinazione** in C#, aprire Creazione progetti e quindi fare clic sulla pagina **Applicazione**.</span><span class="sxs-lookup"><span data-stu-id="804fd-121">To view the **Target framework** setting in C#, open the Project Designer and then click the **Application** page.</span></span> <span data-ttu-id="804fd-122">Per visualizzare l'impostazione **Framework di destinazione** in Visual Basic, aprire Creazione progetti, fare clic sulla pagina **Compilazione** e quindi fare clic su **Opzioni di compilazione avanzate**.</span><span class="sxs-lookup"><span data-stu-id="804fd-122">To view the **Target framework** setting in Visual Basic, open the Project Designer, click the **Compile** page, and then click **Advanced Compile Options**.</span></span>  
  
4.  <span data-ttu-id="804fd-123">Selezionare **Usa autenticazione basata su form** se si intende fornire i propri controlli di accesso o la finestra di dialogo, selezionare **Usa autenticazione di Windows** per usare l'identità fornita dal sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="804fd-123">Select **Use Forms authentication** if you plan to provide your own login controls or dialog box, or select **Use Windows authentication** to use the identity supplied by the operating system.</span></span> <span data-ttu-id="804fd-124">Per altre informazioni, vedere [Cenni preliminari sui servizi delle applicazioni client](../../../docs/framework/common-client-technologies/client-application-services-overview.md).</span><span class="sxs-lookup"><span data-stu-id="804fd-124">For more information, see [Client Application Services Overview](../../../docs/framework/common-client-technologies/client-application-services-overview.md).</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="804fd-125">Se si seleziona **Usa autenticazione di Windows**, i servizi delle applicazioni client verranno configurati automaticamente in modo da usare un database di SQL Server Compact.</span><span class="sxs-lookup"><span data-stu-id="804fd-125">If you select **Use Windows authentication**, client application services will automatically be configured to use a SQL Server Compact database.</span></span> <span data-ttu-id="804fd-126">Ciò viene indicato nella finestra di dialogo **Impostazioni avanzate per i servizi** come descritto nella sezione successiva.</span><span class="sxs-lookup"><span data-stu-id="804fd-126">This is indicated in the **Advanced Settings for Services** dialog box as described in the next section.</span></span> <span data-ttu-id="804fd-127">Se si seleziona **Autenticazione basata su form**, l'impostazione **Usa stringa di connessione personalizzata** non verrà deselezionata automaticamente.</span><span class="sxs-lookup"><span data-stu-id="804fd-127">If you then select **Use Forms authentication**, the **Use custom connection string** setting will not be cleared automatically.</span></span> <span data-ttu-id="804fd-128">Ciò potrebbe causare errori se il database [!INCLUDE[ssEW](../../../includes/ssew-md.md)] è già stato generato per l'utilizzo con l'autenticazione di Windows.</span><span class="sxs-lookup"><span data-stu-id="804fd-128">This could result in errors if the [!INCLUDE[ssEW](../../../includes/ssew-md.md)] database has already been generated for use with Windows authentication.</span></span> <span data-ttu-id="804fd-129">Per risolvere gli errori, deselezionare l'impostazione **Usa stringa di connessione personalizzata** nella finestra di dialogo **Impostazioni avanzate per i servizi**.</span><span class="sxs-lookup"><span data-stu-id="804fd-129">To fix these errors, clear the **Use custom connection string** setting in the **Advanced Settings for Services** dialog box.</span></span>  
  
5.  <span data-ttu-id="804fd-130">Se è stata selezionata l'opzione **Autenticazione basata su form**, nel campo **Percorso servizio di autenticazione** specificare l'URL dell'host del servizio, escluso il nome file.</span><span class="sxs-lookup"><span data-stu-id="804fd-130">If you selected **Use Forms authentication**, in the **Authentication service location** box, specify the URL of the service host, not including the file name.</span></span> <span data-ttu-id="804fd-131">La finestra di progettazione aggiunge automaticamente il nome di file standard (Authentication_JSON_AppService.axd) quando scrive il valore nel file di configurazione.</span><span class="sxs-lookup"><span data-stu-id="804fd-131">The designer will automatically append the standard file name (Authentication_JSON_AppService.axd) when it writes the value to the configuration file.</span></span>  
  
6.  <span data-ttu-id="804fd-132">Facoltativamente, se è stata selezionata l'opzione **Autenticazione basata su form**, è possibile specificare un valore nel campo **Provider di credenziali**.</span><span class="sxs-lookup"><span data-stu-id="804fd-132">Optionally, if you selected **Use Forms authentication**, you can specify a value in the **Credentials provider** box.</span></span> <span data-ttu-id="804fd-133">Il provider di credenziali deve implementare l'interfaccia <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider>.</span><span class="sxs-lookup"><span data-stu-id="804fd-133">The credentials provider must implement the <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider> interface.</span></span> <span data-ttu-id="804fd-134">Usando un provider di credenziali, è possibile separare l'interfaccia utente di accesso dal codice dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="804fd-134">By using a credentials provider, you can separate your login user interface from your other application code.</span></span> <span data-ttu-id="804fd-135">Consente di creare un'unica finestra di dialogo di accesso da usare in più applicazioni.</span><span class="sxs-lookup"><span data-stu-id="804fd-135">This enables you to create a single login dialog box for use in multiple applications.</span></span> <span data-ttu-id="804fd-136">Per altre informazioni, vedere [Procedura: implementare l'accesso utente con i servizi dell'applicazione client](../../../docs/framework/common-client-technologies/how-to-implement-user-login-with-client-application-services.md).</span><span class="sxs-lookup"><span data-stu-id="804fd-136">For more information, see [How to: Implement User Login with Client Application Services](../../../docs/framework/common-client-technologies/how-to-implement-user-login-with-client-application-services.md).</span></span>  
  
     <span data-ttu-id="804fd-137">Se si specifica un provider di credenziali, è necessario specificarlo come nome di tipo qualificato dall'assembly.</span><span class="sxs-lookup"><span data-stu-id="804fd-137">If you specify a credentials provider, you must specify it as an assembly-qualified type name.</span></span> <span data-ttu-id="804fd-138">Per altre informazioni, vedere <xref:System.Type.AssemblyQualifiedName%2A?displayProperty=nameWithType> e [Nomi degli assembly](../../../docs/framework/app-domains/assembly-names.md).</span><span class="sxs-lookup"><span data-stu-id="804fd-138">For more information, see <xref:System.Type.AssemblyQualifiedName%2A?displayProperty=nameWithType> and [Assembly Names](../../../docs/framework/app-domains/assembly-names.md).</span></span> <span data-ttu-id="804fd-139">Nella sua forma più semplice, un nome di tipo qualificato dall'assembly è simile all'esempio seguente:</span><span class="sxs-lookup"><span data-stu-id="804fd-139">In its simplest form, an assembly-qualified type name looks similar to the following example:</span></span>  
  
    ```  
    MyNamespace.MyLoginClass, MyAssembly  
    ```  
  
7.  <span data-ttu-id="804fd-140">Nelle caselle di testo **Percorso servizi ruoli** e **Percorso servizi impostazioni Web** specificare il percorso del servizio per ogni servizio, escluso il nome file.</span><span class="sxs-lookup"><span data-stu-id="804fd-140">In the **Roles service location** and **Web settings service location** text boxes, specify the service location for each service, not including the file name.</span></span> <span data-ttu-id="804fd-141">La finestra di progettazione aggiungerà automaticamente i nomi di file standard (Role_JSON_AppService.axd e Profile_JSON_AppService.axd) quando scrive il valore nel file di configurazione.</span><span class="sxs-lookup"><span data-stu-id="804fd-141">The designer will automatically append the standard file names (Role_JSON_AppService.axd and Profile_JSON_AppService.axd) when it writes the value to the configuration file.</span></span>  
  
8.  <span data-ttu-id="804fd-142">Facoltativamente, fare clic su **Avanzate** per modificare le impostazioni avanzate, ad esempio il comportamento di memorizzazione nella cache locale.</span><span class="sxs-lookup"><span data-stu-id="804fd-142">Optionally, click **Advanced** to modify advanced settings, such as the local caching behavior.</span></span> <span data-ttu-id="804fd-143">Per altre informazioni, vedere la procedura successiva.</span><span class="sxs-lookup"><span data-stu-id="804fd-143">For more information, see the next procedure.</span></span>  
  
## <a name="advanced-configuration"></a><span data-ttu-id="804fd-144">Configurazione avanzata</span><span class="sxs-lookup"><span data-stu-id="804fd-144">Advanced Configuration</span></span>  
 <span data-ttu-id="804fd-145">Nelle procedure seguenti viene descritto come configurare i servizi delle applicazioni client per scenari meno comuni.</span><span class="sxs-lookup"><span data-stu-id="804fd-145">The following procedures describe how to configure client application services for less common scenarios.</span></span> <span data-ttu-id="804fd-146">Ad esempio, è possibile usare queste opzioni di configurazione per le applicazioni distribuite nei percorsi pubblici, oppure usare un database di SQL Server Compact crittografato come cache di dati locale.</span><span class="sxs-lookup"><span data-stu-id="804fd-146">For example, you can use these configuration options for applications deployed in public locations, or to use an encrypted SQL Server Compact database as the local data cache.</span></span>  
  
#### <a name="to-configure-advanced-settings-for-client-application-services"></a><span data-ttu-id="804fd-147">Per configurare impostazioni avanzate per i servizi delle applicazioni client</span><span class="sxs-lookup"><span data-stu-id="804fd-147">To configure advanced settings for client application services</span></span>  
  
1.  <span data-ttu-id="804fd-148">Nella pagina **Servizi** di **Creazione progetti**, fare clic su **Avanzate**.</span><span class="sxs-lookup"><span data-stu-id="804fd-148">On the **Services** page of the **Project Designer**, click **Advanced**.</span></span>  
  
     <span data-ttu-id="804fd-149">Viene visualizzata la finestra di dialogo **Impostazioni avanzate per i servizi**, come illustrato nella figura seguente.</span><span class="sxs-lookup"><span data-stu-id="804fd-149">The **Advanced Settings for Services** dialog box appears, as shown in the following illustration.</span></span> <span data-ttu-id="804fd-150">Per altre informazioni su questa finestra di dialogo, vedere [Finestra di dialogo Impostazioni avanzate per i servizi](/visualstudio/ide/reference/advanced-settings-for-services-dialog-box).</span><span class="sxs-lookup"><span data-stu-id="804fd-150">For more information about this dialog box, see [Advanced Settings for Services Dialog Box](/visualstudio/ide/reference/advanced-settings-for-services-dialog-box).</span></span>  
  
     <span data-ttu-id="804fd-151">![Finestra di dialogo Impostazioni avanzate per i servizi](../../../docs/framework/common-client-technologies/media/casdialog.png "casdialog")</span><span class="sxs-lookup"><span data-stu-id="804fd-151">![Advanced Settings for Services dialog box](../../../docs/framework/common-client-technologies/media/casdialog.png "casdialog")</span></span>  
  
2.  <span data-ttu-id="804fd-152">Selezionare o deselezionare **Salva hash della password localmente per consentire l'accesso offline**.</span><span class="sxs-lookup"><span data-stu-id="804fd-152">Select or clear **Save password hash locally to enable offline login**.</span></span> <span data-ttu-id="804fd-153">Quando si seleziona questa opzione, verrà memorizzato localmente un modulo crittografato della password dell'utente.</span><span class="sxs-lookup"><span data-stu-id="804fd-153">When you select this option, an encrypted form of the user's password will be cached locally.</span></span> <span data-ttu-id="804fd-154">Ciò risulta utile se si implementa la modalità non in linea dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="804fd-154">This is useful if you implement offline mode for your application.</span></span> <span data-ttu-id="804fd-155">Con questa opzione selezionata è possibile convalidare gli utenti anche quando la proprietà <xref:System.Web.ClientServices.ConnectivityStatus.IsOffline%2A> è impostata su `true`.</span><span class="sxs-lookup"><span data-stu-id="804fd-155">With this option selected, you can validate users even when the <xref:System.Web.ClientServices.ConnectivityStatus.IsOffline%2A> property has been set to `true`.</span></span>  
  
3.  <span data-ttu-id="804fd-156">Selezionare o deselezionare **Richiedi agli utenti di accedere di nuovo a ogni scadenza del cookie del server**.</span><span class="sxs-lookup"><span data-stu-id="804fd-156">Select or clear **Require users to log on again whenever the server cookie expires**.</span></span> <span data-ttu-id="804fd-157">Il cookie di autenticazione viene configurato nel servizio remoto e indica quanto tempo rimarrà attivo un accesso dell'utente.</span><span class="sxs-lookup"><span data-stu-id="804fd-157">The authentication cookie is configured on the remote service, and indicates how long a user's login will remain active.</span></span> <span data-ttu-id="804fd-158">Per altre informazioni su come configurare il cookie, vedere l'attributo `timeout` in [Elemento moduli per autenticazione (schema delle impostazioni ASP.NET)](https://msdn.microsoft.com/library/8163b8b5-ea6c-46c8-b5a9-c4c3de31c0b3).</span><span class="sxs-lookup"><span data-stu-id="804fd-158">For more information about how to configure the cookie, see the `timeout` attribute in [forms Element for authentication (ASP.NET Settings Schema)](https://msdn.microsoft.com/library/8163b8b5-ea6c-46c8-b5a9-c4c3de31c0b3).</span></span>  
  
     <span data-ttu-id="804fd-159">Se si seleziona questa opzione, il tentativo di accedere ai ruoli remoti o servizi di impostazioni Web dopo la scadenza del cookie di autenticazione genererà un <xref:System.Net.WebException>.</span><span class="sxs-lookup"><span data-stu-id="804fd-159">If you select this option, attempting to access the remote roles or Web settings services after the authentication cookie has expired will throw a <xref:System.Net.WebException>.</span></span> <span data-ttu-id="804fd-160">È possibile gestire questa eccezione e visualizzare una finestra di dialogo di accesso per riconvalidare gli utenti.</span><span class="sxs-lookup"><span data-stu-id="804fd-160">You can handle this exception and display a login dialog box to revalidate users.</span></span> <span data-ttu-id="804fd-161">Per un esempio di questo comportamento, vedere [Procedura dettagliata: Uso dei servizi delle applicazioni client](../../../docs/framework/common-client-technologies/walkthrough-using-client-application-services.md).</span><span class="sxs-lookup"><span data-stu-id="804fd-161">For an example of this behavior, see [Walkthrough: Using Client Application Services](../../../docs/framework/common-client-technologies/walkthrough-using-client-application-services.md).</span></span> <span data-ttu-id="804fd-162">Questa opzione è utile per le applicazioni distribuite nei percorsi pubblici per assicurarsi che gli utenti che escono dall'applicazione non rimangano autenticati a tempo indeterminato.</span><span class="sxs-lookup"><span data-stu-id="804fd-162">This option is useful for applications deployed in public locations to make sure that users who leave the application running after use will not remain authenticated indefinitely.</span></span>  
  
     <span data-ttu-id="804fd-163">Se si deseleziona questa opzione e si prova ad accedere ai servizi remoti dopo la scadenza del cookie di autenticazione, gli utenti verranno riconvalidati automaticamente.</span><span class="sxs-lookup"><span data-stu-id="804fd-163">If you clear this option and attempt to access the remote services after the authentication cookie has expired, users will be revalidated automatically.</span></span>  
  
4.  <span data-ttu-id="804fd-164">Specificare un valore per **Timeout cache servizio ruolo**.</span><span class="sxs-lookup"><span data-stu-id="804fd-164">Specify a value for **Role service cache timeout**.</span></span> <span data-ttu-id="804fd-165">Impostare questo intervallo di tempo su un valore basso quando i ruoli vengono aggiornati di frequente o su un valore più alto quando i ruoli vengono aggiornati di rado.</span><span class="sxs-lookup"><span data-stu-id="804fd-165">Set this time interval to a small value when roles are updated frequently or to a larger value when roles are updated infrequently.</span></span> <span data-ttu-id="804fd-166">Se si implementa la modalità non in linea, è possibile impostare l'intervallo di tempo su un valore elevato per impedire che le informazioni sui ruoli scadano mentre l'applicazione è offline.</span><span class="sxs-lookup"><span data-stu-id="804fd-166">If you implement offline mode, set the time interval to a large value to prevent the role information from expiring while the application is offline.</span></span>  
  
     <span data-ttu-id="804fd-167">Il provider di ruoli accede ai valori del ruolo memorizzati nella cache o al servizio dei ruoli quando si chiama il metodo <xref:System.Web.Security.RolePrincipal.IsInRole%2A>.</span><span class="sxs-lookup"><span data-stu-id="804fd-167">The role provider accesses the cached role values or the roles service when you call the <xref:System.Web.Security.RolePrincipal.IsInRole%2A> method.</span></span> <span data-ttu-id="804fd-168">Per ripristinare la cache a livello di codice e forzare l'accesso di questo metodo al servizio remoto, chiamare il metodo <xref:System.Web.ClientServices.Providers.ClientRoleProvider.ResetCache%2A>.</span><span class="sxs-lookup"><span data-stu-id="804fd-168">To programmatically reset the cache and force this method to access the remote service, call the <xref:System.Web.ClientServices.Providers.ClientRoleProvider.ResetCache%2A> method.</span></span>  
  
5.  <span data-ttu-id="804fd-169">Selezionare o deselezionare **Usa stringa di connessione personalizzata**.</span><span class="sxs-lookup"><span data-stu-id="804fd-169">Select or clear **Use custom connection string**.</span></span> <span data-ttu-id="804fd-170">Per altre informazioni, vedere la procedura successiva.</span><span class="sxs-lookup"><span data-stu-id="804fd-170">For more information, see the next procedure.</span></span>  
  
#### <a name="to-configure-client-application-services-to-use-a-database-for-the-local-cache"></a><span data-ttu-id="804fd-171">Per configurare i servizi delle applicazioni client in modo da usare un database per la cache locale</span><span class="sxs-lookup"><span data-stu-id="804fd-171">To configure client application services to use a database for the local cache</span></span>  
  
1.  <span data-ttu-id="804fd-172">Nella pagina **Servizi** di **Creazione progetti**, fare clic su **Avanzate**.</span><span class="sxs-lookup"><span data-stu-id="804fd-172">On the **Services** page of the **Project Designer**, click **Advanced**.</span></span>  
  
     <span data-ttu-id="804fd-173">Verrà visualizzata la finestra di dialogo **Impostazioni avanzate per i servizi**.</span><span class="sxs-lookup"><span data-stu-id="804fd-173">The **Advanced Settings for Services** dialog box appears.</span></span>  
  
2.  <span data-ttu-id="804fd-174">Selezionare **Usa stringa di connessione personalizzata**.</span><span class="sxs-lookup"><span data-stu-id="804fd-174">Select **Use custom connection string**.</span></span>  
  
     <span data-ttu-id="804fd-175">Il valore predefinito di `Data Source = |SQL/CE|` viene visualizzato nella casella di testo.</span><span class="sxs-lookup"><span data-stu-id="804fd-175">The default value of `Data Source = |SQL/CE|` appears in the text box.</span></span>  
  
3.  <span data-ttu-id="804fd-176">Per generare e usare un database di SQL Server Compact, mantenere il valore predefinito della stringa di connessione.</span><span class="sxs-lookup"><span data-stu-id="804fd-176">To generate and use a SQL Server Compact database, keep the default connection string value.</span></span> <span data-ttu-id="804fd-177">Visual Studio genera un file di database e lo inserisce nella directory indicata dalla proprietà <xref:System.Windows.Forms.Application.UserAppDataPath%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="804fd-177">Visual Studio will generate a database file and put it in the directory indicated by the <xref:System.Windows.Forms.Application.UserAppDataPath%2A?displayProperty=nameWithType> property.</span></span>  
  
4.  <span data-ttu-id="804fd-178">Per generare e usare un database [!INCLUDE[ssEW](../../../includes/ssew-md.md)] crittografato, aggiungere i valori `password` e `encrypt database` alla stringa di connessione, come illustrato nell'esempio seguente.</span><span class="sxs-lookup"><span data-stu-id="804fd-178">To generate and use an encrypted [!INCLUDE[ssEW](../../../includes/ssew-md.md)] database, add `password` and `encrypt database` values to the connection string as shown in the following example.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="804fd-179">Assicurarsi di specificare una password complessa.</span><span class="sxs-lookup"><span data-stu-id="804fd-179">Be sure to specify a strong password.</span></span> <span data-ttu-id="804fd-180">Non è possibile modificare la password dopo che il database è stato generato.</span><span class="sxs-lookup"><span data-stu-id="804fd-180">You cannot change the password after the database is generated.</span></span>  
  
    ```  
    Data Source = |SQL/CE|;password=<password>;encrypt database=true  
    ```  
  
5.  <span data-ttu-id="804fd-181">Per usare il proprio database SQL Server, specificare una stringa di connessione personalizzata.</span><span class="sxs-lookup"><span data-stu-id="804fd-181">To use your own SQL Server database, specify your own connection string.</span></span> <span data-ttu-id="804fd-182">Per informazioni sui formati di stringa di connessione validi, vedere la documentazione di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="804fd-182">For information about valid connection string formats, see the SQL Server documentation.</span></span> <span data-ttu-id="804fd-183">Questo database non viene generato automaticamente.</span><span class="sxs-lookup"><span data-stu-id="804fd-183">This database is not generated automatically.</span></span> <span data-ttu-id="804fd-184">La stringa di connessione deve fare riferimento a un database esistente che è possibile creare usando le seguenti istruzioni SQL.</span><span class="sxs-lookup"><span data-stu-id="804fd-184">The connection string must refer to an existing database that you can create using the following SQL statements.</span></span>  
  
    ```  
    CREATE TABLE ApplicationProperties (PropertyName nvarchar(256),  
        PropertyValue nvarchar(256))  
    CREATE TABLE UserProperties (PropertyName nvarchar(256),  
        PropertyValue nvarchar(256))  
    CREATE TABLE Roles (UserName nvarchar(256),   
        RoleName nvarchar(256))  
    CREATE TABLE Settings (PropertyName nvarchar(256),   
        PropertyStoredAs nvarchar(1), PropertyValue nvarchar(2048))  
    ```  
  
## <a name="using-custom-providers"></a><span data-ttu-id="804fd-185">Utilizzo di provider personalizzati</span><span class="sxs-lookup"><span data-stu-id="804fd-185">Using Custom Providers</span></span>  
 <span data-ttu-id="804fd-186">Per impostazione predefinita, la funzionalità dei servizi delle applicazioni client usa i provider nello spazio dei nomi <xref:System.Web.ClientServices.Providers?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="804fd-186">By default, the client application services feature uses the providers in the <xref:System.Web.ClientServices.Providers?displayProperty=nameWithType> namespace.</span></span> <span data-ttu-id="804fd-187">Quando si configura l'applicazione usando la pagina **Servizi** di **Creazione progetti**, i riferimenti ai provider specificati vengono aggiunti al file App.config.</span><span class="sxs-lookup"><span data-stu-id="804fd-187">When you configure your application by using the **Services** page of the **Project Designer**, references to these providers are added to your App.config file.</span></span> <span data-ttu-id="804fd-188">Questi provider predefiniti accedono ai provider corrispondenti sul server.</span><span class="sxs-lookup"><span data-stu-id="804fd-188">These default providers access corresponding providers on the server.</span></span> <span data-ttu-id="804fd-189">I servizi Web sono spesso configurati in modo da accedere ai dati utente tramite provider come <xref:System.Web.Security.SqlMembershipProvider> e <xref:System.Web.Security.SqlRoleProvider>.</span><span class="sxs-lookup"><span data-stu-id="804fd-189">Web services are often configured to access user data through providers such as <xref:System.Web.Security.SqlMembershipProvider> and <xref:System.Web.Security.SqlRoleProvider>.</span></span>  
  
 <span data-ttu-id="804fd-190">Per usare i provider di servizi personalizzati, in genere è necessario modificare i provider sul lato server in modo che influiscano su tutte le applicazioni client che accedono al server.</span><span class="sxs-lookup"><span data-stu-id="804fd-190">If you want to use custom service providers, you will typically change the providers on the server side so that they affect all client applications that access the server.</span></span> <span data-ttu-id="804fd-191">Tuttavia, è possibile usare i provider non predefiniti sul lato client.</span><span class="sxs-lookup"><span data-stu-id="804fd-191">However, you do have the option of using non-default providers on the client side.</span></span> <span data-ttu-id="804fd-192">È possibile specificare l'autenticazione o i provider di ruoli personalizzati nel file App.config del progetto, come illustrato nella procedura seguente.</span><span class="sxs-lookup"><span data-stu-id="804fd-192">You can specify custom authentication or roles providers in your project's App.config file, as shown in the following procedure.</span></span> <span data-ttu-id="804fd-193">Per informazioni sulla creazione di autenticazione e provider di ruoli personalizzati, vedere [Implementazione di un provider di appartenenza](https://msdn.microsoft.com/library/d8658b8e-c962-4f64-95e1-4acce35e4582) e [Implementazione di un provider di ruoli](https://msdn.microsoft.com/library/851671ce-bf9b-43f2-aba4-bc9d28b11c7d).</span><span class="sxs-lookup"><span data-stu-id="804fd-193">For information about how to create custom authentication and role providers, see [Implementing a Membership Provider](https://msdn.microsoft.com/library/d8658b8e-c962-4f64-95e1-4acce35e4582) and [Implementing a Role Provider](https://msdn.microsoft.com/library/851671ce-bf9b-43f2-aba4-bc9d28b11c7d).</span></span> <span data-ttu-id="804fd-194">È anche possibile usare un provider di impostazioni personalizzato modificando la classe `Settings` del proprio progetto (accessibile come `Properties.Settings.Default` in C# e `My.Settings` in Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="804fd-194">You can also use a custom settings provider by modifying your project's `Settings` class (accessed as `Properties.Settings.Default` in C# and `My.Settings` in Visual Basic).</span></span> <span data-ttu-id="804fd-195">Per altre informazioni, vedere [Architettura delle impostazioni delle applicazioni](../../../docs/framework/winforms/advanced/application-settings-architecture.md).</span><span class="sxs-lookup"><span data-stu-id="804fd-195">For more information, see [Application Settings Architecture](../../../docs/framework/winforms/advanced/application-settings-architecture.md).</span></span>  
  
#### <a name="to-configure-client-application-services-to-use-non-default-providers"></a><span data-ttu-id="804fd-196">Per configurare i servizi delle applicazioni client in modo da usare provider non predefiniti</span><span class="sxs-lookup"><span data-stu-id="804fd-196">To configure client application services to use non-default providers</span></span>  
  
1.  <span data-ttu-id="804fd-197">Per usare un'autenticazione o il provider di servizi di ruoli non predefiniti, completare innanzitutto tutte le altre impostazioni di configurazione nella pagina **Servizi**.</span><span class="sxs-lookup"><span data-stu-id="804fd-197">To use a non-default authentication or roles service provider, first complete all other configuration settings by using the **Services** page.</span></span>  
  
2.  <span data-ttu-id="804fd-198">Chiudere **Creazione progetti**.</span><span class="sxs-lookup"><span data-stu-id="804fd-198">Close the **Project Designer**.</span></span> <span data-ttu-id="804fd-199">Questa operazione è necessaria perché la pagina **Servizi** aggiornerà automaticamente il file App.config anche se non si modificano le impostazioni.</span><span class="sxs-lookup"><span data-stu-id="804fd-199">This is necessary because the **Services** page will automatically update your App.config file even if you do not modify any settings.</span></span> <span data-ttu-id="804fd-200">Se si modifica manualmente il file App.config come descritto in questa procedura e quindi si torna alla pagina **Servizi**, le modifiche verranno reimpostate.</span><span class="sxs-lookup"><span data-stu-id="804fd-200">If you manually modify your App.config file as described in this procedure and then return to the **Services** page, your modifications will be reset.</span></span>  
  
3.  <span data-ttu-id="804fd-201">In **Esplora soluzioni** fare doppio clic su App.config.</span><span class="sxs-lookup"><span data-stu-id="804fd-201">In **Solution Explorer**, double-click App.config.</span></span>  
  
     <span data-ttu-id="804fd-202">Il file di configurazione dell'applicazione verrà aperto nell'editor di testo.</span><span class="sxs-lookup"><span data-stu-id="804fd-202">The application configuration file opens in the text editor.</span></span>  
  
4.  <span data-ttu-id="804fd-203">Trovare l'elemento `<providers>` all'interno dell'elemento `<membership>` o `<roleManager>`.</span><span class="sxs-lookup"><span data-stu-id="804fd-203">Find the `<providers>` element within the `<membership>` or `<roleManager>` element.</span></span> <span data-ttu-id="804fd-204">Questi elementi sono figli dell'elemento `<system.web>`.</span><span class="sxs-lookup"><span data-stu-id="804fd-204">These elements are children of the `<system.web>` element.</span></span> <span data-ttu-id="804fd-205">L'elemento `<membership>` viene usato per specificare i provider di autenticazione, mentre l'elemento `<roleManager>` viene usato per specificare i provider di ruoli.</span><span class="sxs-lookup"><span data-stu-id="804fd-205">The `<membership>` element is used to specify authentication providers, and the `<roleManager>` element is used to specify role providers.</span></span>  
  
5.  <span data-ttu-id="804fd-206">Aggiungere un elemento `<add>` come figlio dell'elemento `<providers>`.</span><span class="sxs-lookup"><span data-stu-id="804fd-206">Add an `<add>` element as a child of the `<providers>` element.</span></span> <span data-ttu-id="804fd-207">È necessario specificare gli attributi `name` e `type`, come illustrato nell'esempio seguente.</span><span class="sxs-lookup"><span data-stu-id="804fd-207">You must specify `name` and `type` attributes as shown in the following example.</span></span> <span data-ttu-id="804fd-208">Il valore dell'attributo `type` deve essere un nome di tipo qualificato dall'assembly.</span><span class="sxs-lookup"><span data-stu-id="804fd-208">The `type` attribute value must be an assembly-qualified type name.</span></span> <span data-ttu-id="804fd-209">Per altre informazioni, vedere <xref:System.Type.AssemblyQualifiedName%2A?displayProperty=nameWithType> e [Nomi degli assembly](../../../docs/framework/app-domains/assembly-names.md).</span><span class="sxs-lookup"><span data-stu-id="804fd-209">For more information, see <xref:System.Type.AssemblyQualifiedName%2A?displayProperty=nameWithType> and [Assembly Names](../../../docs/framework/app-domains/assembly-names.md).</span></span>  
  
    ```xml  
    <add name="MyCustomRoleProvider" type="MyNamespace.MyRoleProvider, MyAssembly" />  
    ```  
  
6.  <span data-ttu-id="804fd-210">Modificare l'attributo `defaultProvider` dell'elemento `<membership>` o `<roleManager>` in modo da specificare il valore del nome dall'elemento `<add>` aggiunto al passaggio precedente.</span><span class="sxs-lookup"><span data-stu-id="804fd-210">Modify the `defaultProvider` attribute of the `<membership>` or `<roleManager>` element to specify the name value from the `<add>` element that you added in the previous step.</span></span>  
  
    ```xml  
    <roleManager enabled="true" defaultProvider="MyCustomRoleProvider">  
    ```  
  
## <a name="see-also"></a><span data-ttu-id="804fd-211">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="804fd-211">See Also</span></span>  
 [<span data-ttu-id="804fd-212">Servizi applicazioni client</span><span class="sxs-lookup"><span data-stu-id="804fd-212">Client Application Services</span></span>](../../../docs/framework/common-client-technologies/client-application-services.md)  
 [<span data-ttu-id="804fd-213">Cenni preliminari sui servizi delle applicazioni client</span><span class="sxs-lookup"><span data-stu-id="804fd-213">Client Application Services Overview</span></span>](../../../docs/framework/common-client-technologies/client-application-services-overview.md)  
 [<span data-ttu-id="804fd-214">Pagina Servizi, Creazione progetti</span><span class="sxs-lookup"><span data-stu-id="804fd-214">Services Page, Project Designer</span></span>](/visualstudio/ide/reference/services-page-project-designer)  
 [<span data-ttu-id="804fd-215">Finestra di dialogo Impostazioni avanzate per i servizi</span><span class="sxs-lookup"><span data-stu-id="804fd-215">Advanced Settings for Services Dialog Box</span></span>](/visualstudio/ide/reference/advanced-settings-for-services-dialog-box)  
 [<span data-ttu-id="804fd-216">Procedura: implementare l'accesso utente con i servizi dell'applicazione client</span><span class="sxs-lookup"><span data-stu-id="804fd-216">How to: Implement User Login with Client Application Services</span></span>](../../../docs/framework/common-client-technologies/how-to-implement-user-login-with-client-application-services.md)  
 [<span data-ttu-id="804fd-217">Procedura dettagliata: uso di servizi delle applicazioni client</span><span class="sxs-lookup"><span data-stu-id="804fd-217">Walkthrough: Using Client Application Services</span></span>](../../../docs/framework/common-client-technologies/walkthrough-using-client-application-services.md)  
 [<span data-ttu-id="804fd-218">Implementazione di un provider di appartenenza</span><span class="sxs-lookup"><span data-stu-id="804fd-218">Implementing a Membership Provider</span></span>](https://msdn.microsoft.com/library/d8658b8e-c962-4f64-95e1-4acce35e4582)  
 [<span data-ttu-id="804fd-219">Implementazione di un provider di ruoli</span><span class="sxs-lookup"><span data-stu-id="804fd-219">Implementing a Role Provider</span></span>](https://msdn.microsoft.com/library/851671ce-bf9b-43f2-aba4-bc9d28b11c7d)  
 [<span data-ttu-id="804fd-220">Application Settings Architecture</span><span class="sxs-lookup"><span data-stu-id="804fd-220">Application Settings Architecture</span></span>](../../../docs/framework/winforms/advanced/application-settings-architecture.md)  
 [<span data-ttu-id="804fd-221">Creazione e configurazione del database dei servizi dell'applicazione per SQL Server</span><span class="sxs-lookup"><span data-stu-id="804fd-221">Creating and Configuring the Application Services Database for SQL Server</span></span>](https://msdn.microsoft.com/library/ab894e83-7e2f-4af8-a116-b1bff8f815b2)
