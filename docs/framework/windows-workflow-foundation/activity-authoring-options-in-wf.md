---
title: Opzioni di creazione di attività in WF
ms.date: 03/30/2017
ms.assetid: b9061f5f-12c3-47f0-adbe-1330e2714c94
ms.openlocfilehash: 219d759cd1390a83abfb90af509b21047085f6e9
ms.sourcegitcommit: 15d99019aea4a5c3c91ddc9ba23692284a7f61f3
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/12/2018
ms.locfileid: "49121827"
---
# <a name="activity-authoring-options-in-wf"></a><span data-ttu-id="fd8ff-102">Opzioni di creazione di attività in WF</span><span class="sxs-lookup"><span data-stu-id="fd8ff-102">Activity Authoring Options in WF</span></span>
<span data-ttu-id="fd8ff-103">In [!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)] sono disponibili numerose opzioni per la creazione di attività personalizzate.</span><span class="sxs-lookup"><span data-stu-id="fd8ff-103">[!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)] provides several options for creating custom activities.</span></span> <span data-ttu-id="fd8ff-104">Il metodo corretto da usare per la creazione di un'attività specifica dipende dalle funzionalità di runtime richieste.</span><span class="sxs-lookup"><span data-stu-id="fd8ff-104">The correct method to use for authoring a given activity depends on what run-time features are required.</span></span>  
  
## <a name="deciding-which-base-activity-class-to-use-for-authoring-custom-activities"></a><span data-ttu-id="fd8ff-105">Scelta della classe di attività di base da usare per la creazione di attività personalizzate</span><span class="sxs-lookup"><span data-stu-id="fd8ff-105">Deciding Which Base Activity Class to Use for Authoring Custom Activities</span></span>  
 <span data-ttu-id="fd8ff-106">Nella tabella seguente sono elencate le funzionalità disponibili nelle classi di base di attività personalizzate.</span><span class="sxs-lookup"><span data-stu-id="fd8ff-106">The following table lists the features available in the custom activity base classes.</span></span>  
  
|<span data-ttu-id="fd8ff-107">Classe di attività di base</span><span class="sxs-lookup"><span data-stu-id="fd8ff-107">Base activity class</span></span>|<span data-ttu-id="fd8ff-108">Funzionalità disponibili</span><span class="sxs-lookup"><span data-stu-id="fd8ff-108">Features available</span></span>|  
|-------------------------|------------------------|  
|<xref:System.Activities.Activity>|<span data-ttu-id="fd8ff-109">Compone gruppi di attività fornite dal sistema e personalizzate in un'attività composita.</span><span class="sxs-lookup"><span data-stu-id="fd8ff-109">Composes groups of system-provided and custom activities into a composite activity.</span></span>|  
|<xref:System.Activities.CodeActivity>|<span data-ttu-id="fd8ff-110">Implementa la funzionalità imperativa fornendo un metodo <xref:System.Activities.CodeActivity%601.Execute%2A> di cui può essere eseguito l'override.</span><span class="sxs-lookup"><span data-stu-id="fd8ff-110">Implements imperative functionality by providing an <xref:System.Activities.CodeActivity%601.Execute%2A> method that can be overridden.</span></span> <span data-ttu-id="fd8ff-111">Inoltre fornisce l'accesso a rilevamenti, variabili e argomenti.</span><span class="sxs-lookup"><span data-stu-id="fd8ff-111">Also provides access to tracking, variables, and arguments..</span></span>|  
|<xref:System.Activities.NativeActivity>|<span data-ttu-id="fd8ff-112">Fornisce tutte le funzionalità dell'oggetto <xref:System.Activities.CodeActivity>, oltre all'interruzione dell'esecuzione di attività, all'annullamento dell'esecuzione di attività figlio, all'utilizzo di segnalibri e alla pianificazione di attività, azioni di attività e funzioni.</span><span class="sxs-lookup"><span data-stu-id="fd8ff-112">Provides all of the features of <xref:System.Activities.CodeActivity>, plus aborting activity execution, canceling child activity execution, using bookmarks, and scheduling activities, activity actions, and functions.</span></span>|  
|<xref:System.Activities.DynamicActivity>|<span data-ttu-id="fd8ff-113">Fornisce un approccio di tipo DOM alla costruzione di attività che si interfacciano con l'utilità di progettazione di WF e il sistema di runtime tramite l'oggetto <xref:System.ComponentModel.ICustomTypeDescriptor>, consentendo la creazione di nuove attività senza definire nuovi tipi.</span><span class="sxs-lookup"><span data-stu-id="fd8ff-113">Provides a DOM-like approach to constructing activities that interfaces with the WF designer and the run-time machinery through <xref:System.ComponentModel.ICustomTypeDescriptor>, allowing new activities to be created without defining new types.</span></span>|  
  
## <a name="authoring-activities-using-activity"></a><span data-ttu-id="fd8ff-114">Creazione di attività tramite la classe Activity</span><span class="sxs-lookup"><span data-stu-id="fd8ff-114">Authoring Activities using Activity</span></span>  
 <span data-ttu-id="fd8ff-115">Le attività che derivano dalla classe <xref:System.Activities.Activity> compongono la funzionalità assemblando altre attività esistenti.</span><span class="sxs-lookup"><span data-stu-id="fd8ff-115">Activities that derive from <xref:System.Activities.Activity> compose functionality by assembling other existing activities.</span></span> <span data-ttu-id="fd8ff-116">Queste attività possono essere attività personalizzate esistenti e attività dell'apposita libreria di [!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fd8ff-116">These activities can be existing custom activities and activities from the [!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)] activity library.</span></span> <span data-ttu-id="fd8ff-117">L'assemblaggio di queste attività è il modo più comunemente usato per creare la funzionalità personalizzata.</span><span class="sxs-lookup"><span data-stu-id="fd8ff-117">Assembling these activities is the most basic way to create custom functionality.</span></span> <span data-ttu-id="fd8ff-118">Questo approccio viene generalmente adottato quando si usa un ambiente di progettazione visiva per la creazione di flussi di lavoro.</span><span class="sxs-lookup"><span data-stu-id="fd8ff-118">This approach is most typically taken when using a visual design environment for authoring workflows.</span></span>  
  
## <a name="authoring-activities-using-codeactivity-or-asynccodeactivity"></a><span data-ttu-id="fd8ff-119">Creazione di attività tramite CodeActivity o AsyncCodeActivity</span><span class="sxs-lookup"><span data-stu-id="fd8ff-119">Authoring Activities using CodeActivity or AsyncCodeActivity</span></span>  
 <span data-ttu-id="fd8ff-120">Le attività che derivano dalla classe <xref:System.Activities.CodeActivity> o <xref:System.Activities.AsyncCodeActivity> possono implementare la funzionalità imperativa eseguendo l'override del metodo <xref:System.Activities.CodeActivity%601.Execute%2A> con codice imperativo personalizzato.</span><span class="sxs-lookup"><span data-stu-id="fd8ff-120">Activities that derive from <xref:System.Activities.CodeActivity> or <xref:System.Activities.AsyncCodeActivity> can implement imperative functionality by overriding the <xref:System.Activities.CodeActivity%601.Execute%2A> method with custom imperative code.</span></span> <span data-ttu-id="fd8ff-121">Il codice personalizzato viene eseguito quando l'attività viene eseguita dal runtime.</span><span class="sxs-lookup"><span data-stu-id="fd8ff-121">The custom code is executed when the activity is executed by the runtime.</span></span> <span data-ttu-id="fd8ff-122">Le attività create in questo modo possono accedere alla funzionalità personalizzata, ma non a tutte le funzionalità del runtime, ad esempio non dispongono dell'accesso completo all'ambiente di esecuzione, non dispongono della capacità di pianificare le attività figlio, di creare segnalibri o di supportare un metodo Cancel o Abort.</span><span class="sxs-lookup"><span data-stu-id="fd8ff-122">While activities created in this way have access to custom functionality, they do not have access to all of the features of the runtime, such as full access to the execution environment, the ability to schedule child activities, bookmark creation, or support for a Cancel or Abort method.</span></span> <span data-ttu-id="fd8ff-123">Quando una classe <xref:System.Activities.CodeActivity> viene eseguita, dispone dell'accesso a una versione ridotta dell'ambiente di esecuzione (tramite la classe <xref:System.Activities.CodeActivityContext> o <xref:System.Activities.AsyncCodeActivityContext>).</span><span class="sxs-lookup"><span data-stu-id="fd8ff-123">When a <xref:System.Activities.CodeActivity> executes, it has access to a reduced version of the execution environment (through the <xref:System.Activities.CodeActivityContext> or <xref:System.Activities.AsyncCodeActivityContext> class).</span></span> <span data-ttu-id="fd8ff-124">Le attività create usando la classe <xref:System.Activities.CodeActivity> dispongono dell'accesso alla risoluzione di argomenti e variabili, alle estensioni e ai rilevamenti.</span><span class="sxs-lookup"><span data-stu-id="fd8ff-124">Activities created using <xref:System.Activities.CodeActivity> have access to argument and variable resolution, extensions, and tracking.</span></span> <span data-ttu-id="fd8ff-125">La pianificazione di attività asincrone può essere eseguita usando la classe <xref:System.Activities.AsyncCodeActivity>.</span><span class="sxs-lookup"><span data-stu-id="fd8ff-125">Asynchronous activity scheduling can be done using <xref:System.Activities.AsyncCodeActivity>.</span></span>  
  
## <a name="authoring-activities-using-nativeactivity"></a><span data-ttu-id="fd8ff-126">Creazione di attività tramite la classe NativeActivity</span><span class="sxs-lookup"><span data-stu-id="fd8ff-126">Authoring Activities using NativeActivity</span></span>  
 <span data-ttu-id="fd8ff-127">Le attività che derivano dalla classe <xref:System.Activities.NativeActivity>, come quelle che derivano dalla classe <xref:System.Activities.CodeActivity> creano la funzionalità imperativa eseguendo l'override del metodo <xref:System.Activities.NativeActivity.Execute%2A>, ma dispongono anche dell'accesso a tutta la funzionalità del runtime del flusso di lavoro tramite la classe <xref:System.Activities.NativeActivityContext> che viene passata al metodo <xref:System.Activities.NativeActivity.Execute%2A>.</span><span class="sxs-lookup"><span data-stu-id="fd8ff-127">Activities that derive from <xref:System.Activities.NativeActivity>, like those that derive from <xref:System.Activities.CodeActivity>, create imperative functionality by overriding <xref:System.Activities.NativeActivity.Execute%2A>, but also have access to all of the functionality of the workflow runtime through the <xref:System.Activities.NativeActivityContext> that gets passed into the <xref:System.Activities.NativeActivity.Execute%2A> method.</span></span> <span data-ttu-id="fd8ff-128">Questo contesto supporta la pianificazione e l'annullamento di attività figlio, eseguendo gli oggetti <xref:System.Activities.ActivityAction> e <xref:System.Activities.ActivityFunc%601>, propagando le transazioni in un flusso di lavoro, richiamando i processi asincroni, annullando e interrompendo l'esecuzione, accedendo alle proprietà e alle estensioni di esecuzione e ai segnalibri (handle per il ripristino dei flussi di lavoro sospesi).</span><span class="sxs-lookup"><span data-stu-id="fd8ff-128">This context has support for scheduling and canceling child activities, executing <xref:System.Activities.ActivityAction> and <xref:System.Activities.ActivityFunc%601> objects, flowing transactions into a workflow, invoking asynchronous processes, canceling and aborting execution, access to execution properties and extensions, and bookmarks (handles for resuming paused workflows).</span></span>  
  
## <a name="authoring-activities-using-dynamicactivity"></a><span data-ttu-id="fd8ff-129">Creazione di attività tramite la classe DynamicActivity</span><span class="sxs-lookup"><span data-stu-id="fd8ff-129">Authoring Activities using DynamicActivity</span></span>  
 <span data-ttu-id="fd8ff-130">A differenza degli altri tre tipi di attività, non viene creata una nuova funzionalità derivando nuovi tipi dalla classe <xref:System.Activities.DynamicActivity> (la classe è sealed), bensì assemblando la funzionalità nelle proprietà <xref:System.Activities.DynamicActivity.Properties%2A> e <xref:System.Activities.DynamicActivity.Implementation%2A> tramite un modello a oggetti documento (DOM) dell'attività.</span><span class="sxs-lookup"><span data-stu-id="fd8ff-130">Unlike the other three types of activity, new functionality is not created by deriving new types from <xref:System.Activities.DynamicActivity> (the class is sealed), but instead, by assembling functionality into the <xref:System.Activities.DynamicActivity.Properties%2A> and <xref:System.Activities.DynamicActivity.Implementation%2A> properties using an activity document object model (DOM).</span></span>  
  
## <a name="authoring-activities-that-return-a-result"></a><span data-ttu-id="fd8ff-131">Creazione di attività che restituiscono un risultato</span><span class="sxs-lookup"><span data-stu-id="fd8ff-131">Authoring Activities that Return a Result</span></span>  
 <span data-ttu-id="fd8ff-132">Molte attività devono restituire un risultato dopo la relativa esecuzione.</span><span class="sxs-lookup"><span data-stu-id="fd8ff-132">Many activities must return a result after their execution.</span></span> <span data-ttu-id="fd8ff-133">Anche se a tal fine è sempre possibile definire un oggetto <xref:System.Activities.OutArgument%601> personalizzato in un'attività, è consigliabile usare invece l'oggetto <xref:System.Activities.Activity%601> o derivare dall'oggetto <xref:System.Activities.CodeActivity%601> o <xref:System.Activities.NativeActivity%601>.</span><span class="sxs-lookup"><span data-stu-id="fd8ff-133">Although it is possible to always define a custom <xref:System.Activities.OutArgument%601> on an activity for this purpose, it is suggested to instead use <xref:System.Activities.Activity%601>, or derive from <xref:System.Activities.CodeActivity%601> or <xref:System.Activities.NativeActivity%601>.</span></span> <span data-ttu-id="fd8ff-134">Ognuna di queste classi di base dispone di un oggetto <xref:System.Activities.OutArgument%601> denominato Result che l'attività può usare per il relativo valore restituito.</span><span class="sxs-lookup"><span data-stu-id="fd8ff-134">Each of these base classes has an <xref:System.Activities.OutArgument%601> named Result that your activity can use for its return value.</span></span> <span data-ttu-id="fd8ff-135">Le attività che restituiscono un risultato devono essere usate solo se solo un risultato deve essere restituito da un'attività. Se devono essere restituiti più risultati, è necessario usare i membri <xref:System.Activities.OutArgument%601> separati.</span><span class="sxs-lookup"><span data-stu-id="fd8ff-135">Activities that return a result should only be used if only one result needs to be returned from an activity; if multiple results need to be returned, separate <xref:System.Activities.OutArgument%601> members should be used instead.</span></span>
