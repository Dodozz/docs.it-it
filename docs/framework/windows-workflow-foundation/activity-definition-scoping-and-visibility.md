---
title: Ambito e visibilità della definizione di attività
ms.date: 03/30/2017
ms.assetid: ccdffa07-9503-4eea-a61b-17f1564368b7
ms.openlocfilehash: 27c43323a176c841f3d90cb9c52f25599bc0686d
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 04/22/2019
ms.locfileid: "59976690"
---
# <a name="activity-definition-scoping-and-visibility"></a><span data-ttu-id="6f570-102">Ambito e visibilità della definizione di attività</span><span class="sxs-lookup"><span data-stu-id="6f570-102">Activity Definition Scoping and Visibility</span></span>
<span data-ttu-id="6f570-103">In modo analogo all'ambito e alla visibilità di un oggetto, per ambito di definizione e visibilità di attività si intende la capacità di altri oggetti o attività di accedere ai membri dell'attività stessa.</span><span class="sxs-lookup"><span data-stu-id="6f570-103">Activity definition scoping and visibility, just like scoping and visibility of an object, is the ability of other objects or activities to access members of the activity.</span></span> <span data-ttu-id="6f570-104">La definizione di attività viene eseguita tramite le implementazioni seguenti.</span><span class="sxs-lookup"><span data-stu-id="6f570-104">Activity definition is performed by the following implementations:</span></span>  
  
1. <span data-ttu-id="6f570-105">Definizione dei membri (oggetti <xref:System.Activities.Argument>, <xref:System.Activities.Variable> e <xref:System.Activities.ActivityDelegate> e attività figlio) che un'attività espone ai propri utenti.</span><span class="sxs-lookup"><span data-stu-id="6f570-105">Determining the members (<xref:System.Activities.Argument>, <xref:System.Activities.Variable>, and <xref:System.Activities.ActivityDelegate> objects, and child activities) an activity exposes to its users.</span></span>  
  
2. <span data-ttu-id="6f570-106">Implementazione della logica di esecuzione dell'attività.</span><span class="sxs-lookup"><span data-stu-id="6f570-106">Implementing the execution logic of the activity</span></span>  
  
 <span data-ttu-id="6f570-107">L'implementazione può coinvolgere membri non esposti a utenti dell'attività che costituiscono piuttosto dettagli dell'implementazione.</span><span class="sxs-lookup"><span data-stu-id="6f570-107">The implementation may involve members that are not exposed to consumers of the activity, but are rather details of the implementation.</span></span>  <span data-ttu-id="6f570-108">In modo analogo alla definizione di tipo, il modello di attività consente a un autore di qualificare la visibilità di un membro dell'attività in relazione alla specifica dell'attività da definire.</span><span class="sxs-lookup"><span data-stu-id="6f570-108">Similar to type definition, the activity model allows an author to qualify the visibility of an activity member regarding the definition of the activity being defined.</span></span>  <span data-ttu-id="6f570-109">Tale visibilità consente di controllare aspetti dell'utilizzo del membro, ad esempio l'ambito dei dati.</span><span class="sxs-lookup"><span data-stu-id="6f570-109">This visibility governs aspects of member usage, such as data scoping.</span></span>  
  
## <a name="scope"></a><span data-ttu-id="6f570-110">Ambito</span><span class="sxs-lookup"><span data-stu-id="6f570-110">Scope</span></span>  
 <span data-ttu-id="6f570-111">Oltre all'ambito dei dati, la visibilità del modello di attività può limitare l'accesso ad altri aspetti dell'attività, ad esempio la convalida, il debug, il rilevamento o l'analisi.</span><span class="sxs-lookup"><span data-stu-id="6f570-111">In addition to data scoping, activity model visibility can restrict access to other aspects of the activity, such as validation, debugging, tracking, or tracing.</span></span> <span data-ttu-id="6f570-112">Le proprietà di esecuzione usano visibilità e ambito per vincolare caratteristiche dell'esecuzione a un particolare ambito di definizione,</span><span class="sxs-lookup"><span data-stu-id="6f570-112">Execution properties use visibility and scoping for constraining execution characteristics to a particular scope of definition.</span></span> <span data-ttu-id="6f570-113">mentre le radici secondarie usano visibilità e ambito per vincolare lo stato acquisito da un oggetto <xref:System.Activities.Statements.CompensableActivity> all'ambito di definizione in cui vengono usate le attività compensabili.</span><span class="sxs-lookup"><span data-stu-id="6f570-113">Secondary roots use visibility and scoping to constrain the state captured by a <xref:System.Activities.Statements.CompensableActivity> to the scope of definition in which the compensable activities are used.</span></span>  
  
## <a name="definition-and-usage"></a><span data-ttu-id="6f570-114">Definizione e utilizzo</span><span class="sxs-lookup"><span data-stu-id="6f570-114">Definition and usage</span></span>  
 <span data-ttu-id="6f570-115">Creazione di nuove attività che eredita dalle classi di attività di base e usando le attività eseguite da un flusso di lavoro viene scritta la [libreria attività incorporata](net-framework-4-5-built-in-activity-library.md).</span><span class="sxs-lookup"><span data-stu-id="6f570-115">A workflow is written by authoring new activities by inheriting from base activity classes, and by using activities from the [Built-In Activity Library](net-framework-4-5-built-in-activity-library.md).</span></span> <span data-ttu-id="6f570-116">Per usare un'attività, l'autore deve configurare la visibilità di ogni componente della relativa definizione.</span><span class="sxs-lookup"><span data-stu-id="6f570-116">In order to use an activity, the activity author must configure the visibility of each component of its definition.</span></span>  
  
### <a name="activity-members"></a><span data-ttu-id="6f570-117">Membri dell'attività</span><span class="sxs-lookup"><span data-stu-id="6f570-117">Activity Members</span></span>  
 <span data-ttu-id="6f570-118">Il modello di attività definisce gli argomenti, le variabili, i delegati e le attività figlio resi disponibili agli utenti dall'attività stessa.</span><span class="sxs-lookup"><span data-stu-id="6f570-118">The activity model defines the arguments, variables, delegates, and child activities that the activity makes available to consumers.</span></span> <span data-ttu-id="6f570-119">Ciascuno di questi membri può essere dichiarato come `public` o `private`.</span><span class="sxs-lookup"><span data-stu-id="6f570-119">Each of these members can be declared as `public` or `private`.</span></span> <span data-ttu-id="6f570-120">I membri pubblici vengono configurati dall'utente dell'attività, mentre i membri configurati come `private` usano un'implementazione definita dall'autore dell'attività.</span><span class="sxs-lookup"><span data-stu-id="6f570-120">Public members are configured by the consumer of the activity, whereas `private` members use an implementation fixed by the author of the activity.</span></span> <span data-ttu-id="6f570-121">Le regole di visibilità per l'ambito dei dati sono le seguenti.</span><span class="sxs-lookup"><span data-stu-id="6f570-121">The visibility rules for data scoping are as follows:</span></span>  
  
1. <span data-ttu-id="6f570-122">Membri pubblici e membri pubblici di attività figlio pubbliche possono fare riferimento a variabili pubbliche.</span><span class="sxs-lookup"><span data-stu-id="6f570-122">Public members and the public members of public child activities can reference public variables.</span></span>  
  
2. <span data-ttu-id="6f570-123">Membri privati e membri pubblici di attività figlio pubbliche possono fare riferimento ad argomenti e variabili private.</span><span class="sxs-lookup"><span data-stu-id="6f570-123">Private members and the public members of public child activities can reference arguments and private variables.</span></span>  
  
 <span data-ttu-id="6f570-124">Un membro che può essere impostato dall'utente di un'attività non deve mai essere reso privato.</span><span class="sxs-lookup"><span data-stu-id="6f570-124">A member that can be set by the consumer of an activity should never be made private.</span></span>  
  
### <a name="authoring-models"></a><span data-ttu-id="6f570-125">Modalità di creazione</span><span class="sxs-lookup"><span data-stu-id="6f570-125">Authoring Models</span></span>  
 <span data-ttu-id="6f570-126">Le attività personalizzate vengono definite tramite <xref:System.Activities.NativeActivity>, <xref:System.Activities.Activity>, <xref:System.Activities.CodeActivity> o <xref:System.Activities.AsyncCodeActivity>.</span><span class="sxs-lookup"><span data-stu-id="6f570-126">Custom activities are defined by using <xref:System.Activities.NativeActivity>, <xref:System.Activities.Activity>, <xref:System.Activities.CodeActivity>, or <xref:System.Activities.AsyncCodeActivity>.</span></span> <span data-ttu-id="6f570-127">Attività che derivano da tali classi possono esporre tipi di membro diversi con visibilità differenti.</span><span class="sxs-lookup"><span data-stu-id="6f570-127">Activities that derive from these classes can expose different member types with different visibilities.</span></span>  
  
#### <a name="nativeactivity"></a><span data-ttu-id="6f570-128">NativeActivity</span><span class="sxs-lookup"><span data-stu-id="6f570-128">NativeActivity</span></span>  
 <span data-ttu-id="6f570-129">Le attività che derivano da <xref:System.Activities.NativeActivity> si comportano in base a un codice imperativo e possono essere definite facoltativamente tramite attività esistenti.</span><span class="sxs-lookup"><span data-stu-id="6f570-129">Activities that derive from <xref:System.Activities.NativeActivity> have behavior that is written in imperative code, and can optionally be defined by using existing activities.</span></span> <span data-ttu-id="6f570-130">Se le attività vengono derivate da <xref:System.Activities.NativeActivity>, è possibile accedere a tutte le funzionalità esposte dal runtime.</span><span class="sxs-lookup"><span data-stu-id="6f570-130">Deriving activities from <xref:System.Activities.NativeActivity> grants access to all of the features exposed by the runtime.</span></span> <span data-ttu-id="6f570-131">Ad eccezione degli argomenti, che possono essere dichiarati solo come `public`, ogni membro di attività di questo tipo può essere definito tramite visibilità pubblica o privata.</span><span class="sxs-lookup"><span data-stu-id="6f570-131">Any member of such an activity can be defined by using either public or private visibility, except arguments, which can only be declared as `public`.</span></span>  
  
 <span data-ttu-id="6f570-132">I membri di classi derivate da <xref:System.Activities.NativeActivity> vengono dichiarati in fase di esecuzione tramite lo struct <xref:System.Activities.NativeActivityMetadata> passato al metodo <xref:System.Activities.NativeActivity.CacheMetadata%2A>.</span><span class="sxs-lookup"><span data-stu-id="6f570-132">Members of classes derived from <xref:System.Activities.NativeActivity> are declared to the runtime using the <xref:System.Activities.NativeActivityMetadata> struct passed to the <xref:System.Activities.NativeActivity.CacheMetadata%2A> method.</span></span>  
  
#### <a name="activity"></a><span data-ttu-id="6f570-133">Attività</span><span class="sxs-lookup"><span data-stu-id="6f570-133">Activity</span></span>  
 <span data-ttu-id="6f570-134">Le attività create tramite <xref:System.Activities.Activity> dispongono di un comportamento strettamente basato sulla composizione di altre attività.</span><span class="sxs-lookup"><span data-stu-id="6f570-134">Activities created by using <xref:System.Activities.Activity> have behavior that is designed strictly through composing other activities.</span></span> <span data-ttu-id="6f570-135">Alla classe <xref:System.Activities.Activity> è associata un'attività figlio di implementazione, ottenuta in fase di esecuzione usando <xref:System.Activities.Activity.Implementation%2A>.</span><span class="sxs-lookup"><span data-stu-id="6f570-135">The <xref:System.Activities.Activity> class has one implementation child activity, obtained by the runtime using <xref:System.Activities.Activity.Implementation%2A>.</span></span> <span data-ttu-id="6f570-136">Un'attività che deriva da <xref:System.Activities.Activity> può definire variabili e argomenti pubblici nonché attività ed elementi ActivityDelegates importati.</span><span class="sxs-lookup"><span data-stu-id="6f570-136">An activity deriving from <xref:System.Activities.Activity> can define public arguments, public variables, imported ActivityDelegates, and imported Activities.</span></span>  
  
 <span data-ttu-id="6f570-137">Attività ed elementi ActivityDelegates importati vengono dichiarati come figli pubblici dell'attività, ma non possono essere pianificati direttamente dall'attività.</span><span class="sxs-lookup"><span data-stu-id="6f570-137">Imported ActivityDelegates and Activities are declared as public children of the activity, but cannot be directly scheduled by the activity.</span></span> <span data-ttu-id="6f570-138">Queste informazioni vengono usate durante la convalida per evitare di eseguire convalide rispetto agli elementi padre in percorsi in cui l'attività non verrà mai eseguita.</span><span class="sxs-lookup"><span data-stu-id="6f570-138">This information is used during validation to avoid running parent-facing validations at locations where the activity will never execute.</span></span> <span data-ttu-id="6f570-139">In modo analogo ai figli pubblici, i figli importati possono essere pianificati dall'implementazione dell'attività ed è possibile farvi riferimento dall'implementazione stessa.</span><span class="sxs-lookup"><span data-stu-id="6f570-139">Also, imported children, just like public children, can be referenced and scheduled by the activity’s implementation.</span></span> <span data-ttu-id="6f570-140">Ciò significa che un'attività che importa un'attività denominata Attività1 può contenere un elemento <xref:System.Activities.Statements.Sequence> nell'implementazione che pianifica Attività1.</span><span class="sxs-lookup"><span data-stu-id="6f570-140">This means that an activity which imports an activity called Activity1 can contain a <xref:System.Activities.Statements.Sequence> in its implementation which schedules Activity1.</span></span>  
  
#### <a name="codeactivity-asynccodeactivity"></a><span data-ttu-id="6f570-141">CodeActivity/ AsyncCodeActivity</span><span class="sxs-lookup"><span data-stu-id="6f570-141">CodeActivity/ AsyncCodeActivity</span></span>  
 <span data-ttu-id="6f570-142">Questa classe di base viene usata per la creazione del comportamento in codice imperativo.</span><span class="sxs-lookup"><span data-stu-id="6f570-142">This base class is used for authoring behavior in imperative code.</span></span> <span data-ttu-id="6f570-143">Le attività che derivano da questa classe possono accedere solo agli argomenti che espongono.</span><span class="sxs-lookup"><span data-stu-id="6f570-143">Activities that derive from this class only have access to the arguments they expose.</span></span> <span data-ttu-id="6f570-144">Ciò significa che i soli membri che queste attività possono esporre sono argomenti pubblici.</span><span class="sxs-lookup"><span data-stu-id="6f570-144">This means that the only members that these activities can expose are public arguments.</span></span> <span data-ttu-id="6f570-145">A tali attività non si applica alcun altro membro o visibilità.</span><span class="sxs-lookup"><span data-stu-id="6f570-145">No other members or visibilities apply to these activities.</span></span>  
  
#### <a name="summary-of-visibilities"></a><span data-ttu-id="6f570-146">Riepilogo delle visibilità</span><span class="sxs-lookup"><span data-stu-id="6f570-146">Summary of visibilities</span></span>  
 <span data-ttu-id="6f570-147">Nella tabella seguente vengono riepilogate le informazioni fornite in precedenza in questa sezione.</span><span class="sxs-lookup"><span data-stu-id="6f570-147">The following table summarizes the information earlier in this section.</span></span>  
  
|<span data-ttu-id="6f570-148">Tipo di membro</span><span class="sxs-lookup"><span data-stu-id="6f570-148">Member Type</span></span>|<span data-ttu-id="6f570-149">NativeActivity</span><span class="sxs-lookup"><span data-stu-id="6f570-149">NativeActivity</span></span>|<span data-ttu-id="6f570-150">Attività</span><span class="sxs-lookup"><span data-stu-id="6f570-150">Activity</span></span>|<span data-ttu-id="6f570-151">CodeActivity/ AsyncCodeActivity</span><span class="sxs-lookup"><span data-stu-id="6f570-151">CodeActivity/ AsyncCodeActivity</span></span>|  
|-----------------|--------------------|--------------|--------------------------------------|  
|<span data-ttu-id="6f570-152">Argomenti</span><span class="sxs-lookup"><span data-stu-id="6f570-152">Arguments</span></span>|<span data-ttu-id="6f570-153">Pubblico/ privato</span><span class="sxs-lookup"><span data-stu-id="6f570-153">Public/ Private</span></span>|<span data-ttu-id="6f570-154">Public</span><span class="sxs-lookup"><span data-stu-id="6f570-154">Public</span></span>|<span data-ttu-id="6f570-155">non applicabile</span><span class="sxs-lookup"><span data-stu-id="6f570-155">not applicable</span></span>|  
|<span data-ttu-id="6f570-156">Variabili</span><span class="sxs-lookup"><span data-stu-id="6f570-156">Variables</span></span>|<span data-ttu-id="6f570-157">Pubblico/ privato</span><span class="sxs-lookup"><span data-stu-id="6f570-157">Public/ Private</span></span>|<span data-ttu-id="6f570-158">Public</span><span class="sxs-lookup"><span data-stu-id="6f570-158">Public</span></span>|<span data-ttu-id="6f570-159">non applicabile</span><span class="sxs-lookup"><span data-stu-id="6f570-159">not applicable</span></span>|  
|<span data-ttu-id="6f570-160">Attività figlio</span><span class="sxs-lookup"><span data-stu-id="6f570-160">Child Activities</span></span>|<span data-ttu-id="6f570-161">Pubblico/ privato</span><span class="sxs-lookup"><span data-stu-id="6f570-161">Public/ Private</span></span>|<span data-ttu-id="6f570-162">Pubblico, un figlio privato fisso definito nell'Implementazione</span><span class="sxs-lookup"><span data-stu-id="6f570-162">Public, one fixed private child defined in Implementation.</span></span>|<span data-ttu-id="6f570-163">non applicabile</span><span class="sxs-lookup"><span data-stu-id="6f570-163">not applicable</span></span>|  
|<span data-ttu-id="6f570-164">ActivityDelegates</span><span class="sxs-lookup"><span data-stu-id="6f570-164">ActivityDelegates</span></span>|<span data-ttu-id="6f570-165">Pubblico/ privato</span><span class="sxs-lookup"><span data-stu-id="6f570-165">Public/ Private</span></span>|<span data-ttu-id="6f570-166">Public</span><span class="sxs-lookup"><span data-stu-id="6f570-166">Public</span></span>|<span data-ttu-id="6f570-167">non applicabile</span><span class="sxs-lookup"><span data-stu-id="6f570-167">not applicable</span></span>|  
  
 <span data-ttu-id="6f570-168">In generale, un membro che non può essere impostato dall'utente di un'attività non deve essere reso pubblico.</span><span class="sxs-lookup"><span data-stu-id="6f570-168">In general, a member that cannot be set by the consumer of an activity should not be made public.</span></span>  
  
### <a name="execution-properties"></a><span data-ttu-id="6f570-169">Proprietà di esecuzione</span><span class="sxs-lookup"><span data-stu-id="6f570-169">Execution Properties</span></span>  
 <span data-ttu-id="6f570-170">In alcuni scenari è utile definire l'ambito di una particolare proprietà di esecuzione come i figli pubblici di un'attività.</span><span class="sxs-lookup"><span data-stu-id="6f570-170">In some scenarios, it is useful to scope a particular execution property to the public children of an activity.</span></span> <span data-ttu-id="6f570-171">Nella raccolta <xref:System.Activities.ExecutionProperties> questa operazione può essere eseguita tramite il metodo <xref:System.Activities.ExecutionProperties.Add%2A></span><span class="sxs-lookup"><span data-stu-id="6f570-171">The <xref:System.Activities.ExecutionProperties> collection provides this capability with the <xref:System.Activities.ExecutionProperties.Add%2A> method.</span></span> <span data-ttu-id="6f570-172">che dispone di un parametro di tipo Boolean che indica se l'ambito di una proprietà specifica è definito da tutti i figli o solo da quelli pubblici.</span><span class="sxs-lookup"><span data-stu-id="6f570-172">This method has a Boolean parameter indicating whether a particular property is scoped to all children, or just those that are public.</span></span> <span data-ttu-id="6f570-173">Se questo parametro viene impostato su `true`, la proprietà sarà visibile solo a membri pubblici e ai membri pubblici dei relativi figli pubblici.</span><span class="sxs-lookup"><span data-stu-id="6f570-173">If this parameter is set to `true`, the property will only be visible to public members and the public members of their public children.</span></span>  
  
### <a name="secondary-roots"></a><span data-ttu-id="6f570-174">Radici secondarie</span><span class="sxs-lookup"><span data-stu-id="6f570-174">Secondary Roots</span></span>  
 <span data-ttu-id="6f570-175">Una radice secondaria è il meccanismo interno del runtime per la gestione dello stato per attività di compensazione.</span><span class="sxs-lookup"><span data-stu-id="6f570-175">A secondary root is the runtime’s internal mechanism for managing state for compensation activities.</span></span> <span data-ttu-id="6f570-176">Quando l'esecuzione di un oggetto <xref:System.Activities.Statements.CompensableActivity> è completata, lo stato non viene immediatamente pulito</span><span class="sxs-lookup"><span data-stu-id="6f570-176">When a <xref:System.Activities.Statements.CompensableActivity> has finished running, its state is not cleaned up immediately.</span></span> <span data-ttu-id="6f570-177">ma viene gestito dal runtime in una radice secondaria fino a quando la compensazione non è stata completata.</span><span class="sxs-lookup"><span data-stu-id="6f570-177">Instead, the state is maintained by the runtime in a secondary root until the compensation episode has completed.</span></span> <span data-ttu-id="6f570-178">Gli ambienti del percorso acquisiti con la radice secondaria corrispondono all'ambito di definizione in cui viene usata l'attività compensabile.</span><span class="sxs-lookup"><span data-stu-id="6f570-178">The location environments captured with the secondary root correspond to the scope of definition in which the Compensable activity is used.</span></span>
