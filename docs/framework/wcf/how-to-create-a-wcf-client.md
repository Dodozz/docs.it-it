---
title: 'Procedura: creare un client di Windows Communication Foundation'
ms.date: 09/14/2018
helpviewer_keywords:
- clients [WCF], running
- WCF clients [WCF], running
ms.assetid: a67884cc-1c4b-416b-8c96-5c954099f19f
ms.openlocfilehash: 9572f3e2c0cddf75daf343f250b16e94bc2b0dbf
ms.sourcegitcommit: c93fd5139f9efcf6db514e3474301738a6d1d649
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/27/2018
ms.locfileid: "50181670"
---
# <a name="how-to-create-a-windows-communication-foundation-client"></a><span data-ttu-id="abf89-102">Procedura: creare un client di Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="abf89-102">How to: Create a Windows Communication Foundation Client</span></span>

<span data-ttu-id="abf89-103">Questa è la quarta delle sei attività necessarie per creare un'applicazione Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="abf89-103">This is the fourth of six tasks required to create a Windows Communication Foundation (WCF) application.</span></span> <span data-ttu-id="abf89-104">Per una panoramica di tutte e sei le attività, vedere l'argomento [Esercitazione introduttiva](../../../docs/framework/wcf/getting-started-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="abf89-104">For an overview of all six of the tasks, see the [Getting Started Tutorial](../../../docs/framework/wcf/getting-started-tutorial.md) topic.</span></span>

<span data-ttu-id="abf89-105">In questo argomento viene descritto come recuperare i metadati da un servizio WCF e usarlo per creare un proxy WCF che può accedere al servizio.</span><span class="sxs-lookup"><span data-stu-id="abf89-105">This topic describes how to retrieve metadata from a WCF service and use it to create a WCF proxy that can access the service.</span></span> <span data-ttu-id="abf89-106">Questa attività viene completata utilizzando la **Aggiungi riferimento al servizio** funzionalità fornite da Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="abf89-106">This task is completed by using the **Add Service Reference** functionality provided by Visual Studio.</span></span> <span data-ttu-id="abf89-107">Con questo strumento si ottengono i metadati dall'endpoint MEX del servizio e si genera un file di codice sorgente gestito per un proxy client nel linguaggio scelto (per impostazione predefinita C#).</span><span class="sxs-lookup"><span data-stu-id="abf89-107">This tool obtains the metadata from the service’s MEX endpoint and generates a managed source code file for a client proxy in the language you have chosen (C# by default).</span></span> <span data-ttu-id="abf89-108">Oltre a creare il proxy client, lo strumento crea o aggiorna anche il file di configurazione client che consente all'applicazione client di connettersi al servizio su uno dei relativi endpoint.</span><span class="sxs-lookup"><span data-stu-id="abf89-108">In addition to creating the client proxy, the tool also creates or updates the client configuration file which enables the client application to connect to the service at one of its endpoints.</span></span>

> [!NOTE]
> <span data-ttu-id="abf89-109">È anche possibile usare la [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) dello strumento per generare la classe proxy e la configurazione invece di usare **Aggiungi riferimento al servizio** in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="abf89-109">You can also use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) tool to generate the proxy class and configuration instead of using **Add Service Reference** in Visual Studio.</span></span>

> [!NOTE]
> <span data-ttu-id="abf89-110">Quando si chiama un servizio WCF da un progetto libreria di classi in Visual Studio, è possibile usare la **Aggiungi riferimento al servizio** funzionalità per generare automaticamente un proxy e un file di configurazione associata.</span><span class="sxs-lookup"><span data-stu-id="abf89-110">When calling a WCF service from a class library project in Visual Studio, you can use the **Add Service Reference** feature to automatically generate a proxy and associated configuration file.</span></span> <span data-ttu-id="abf89-111">Il file di configurazione non sarà utilizzato dal progetto Libreria di classi.</span><span class="sxs-lookup"><span data-stu-id="abf89-111">The configuration file will not be used by the class library project.</span></span> <span data-ttu-id="abf89-112">È necessario aggiungere le impostazioni nel file di configurazione generato nel file app. config per il file eseguibile che chiama la libreria di classi.</span><span class="sxs-lookup"><span data-stu-id="abf89-112">You need to add the settings in the generated configuration file to the app.config file for the executable that calls the class library.</span></span>

<span data-ttu-id="abf89-113">L'applicazione client utilizza la classe proxy generata per comunicare con il servizio.</span><span class="sxs-lookup"><span data-stu-id="abf89-113">The client application uses the generated proxy class to communicate with the service.</span></span> <span data-ttu-id="abf89-114">Questa procedura è descritta in [procedura: usare un Client](../../../docs/framework/wcf/how-to-use-a-wcf-client.md).</span><span class="sxs-lookup"><span data-stu-id="abf89-114">This procedure is described in [How to: Use a Client](../../../docs/framework/wcf/how-to-use-a-wcf-client.md).</span></span>

## <a name="to-create-a-windows-communication-foundation-client"></a><span data-ttu-id="abf89-115">Per creare un client Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="abf89-115">To create a Windows Communication Foundation client</span></span>

1. <span data-ttu-id="abf89-116">Creare un nuovo progetto applicazione console in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="abf89-116">Create a new console application project in Visual Studio.</span></span> <span data-ttu-id="abf89-117">Pulsante destro del mouse sulla soluzione nella Guida introduttiva **Esplora soluzioni** e selezionare **Add** > **nuovo progetto**.</span><span class="sxs-lookup"><span data-stu-id="abf89-117">Right-click on the Getting Started solution in **Solution Explorer** and select **Add** > **New Project**.</span></span> <span data-ttu-id="abf89-118">Nel **Aggiungi nuovo progetto** finestra di dialogo sul lato sinistro, seleziona la **Desktop di Windows** categoria sotto **Visual c#** oppure **Visual Basic**.</span><span class="sxs-lookup"><span data-stu-id="abf89-118">In the **Add New Project** dialog, on the left-hand side, select the **Windows Desktop** category under **Visual C#** or **Visual Basic**.</span></span> <span data-ttu-id="abf89-119">Selezionare il **App Console (.NET Framework)** modello e quindi denominare il progetto **GettingStartedClient**.</span><span class="sxs-lookup"><span data-stu-id="abf89-119">Select the **Console App (.NET Framework)** template, and then name the project **GettingStartedClient**.</span></span>

2. <span data-ttu-id="abf89-120">Aggiungere un riferimento a System. ServiceModel nel progetto GettingStartedClient.</span><span class="sxs-lookup"><span data-stu-id="abf89-120">Add a reference to System.ServiceModel to the GettingStartedClient project.</span></span> <span data-ttu-id="abf89-121">Fare clic sui **riferimenti** cartella nel progetto GettingStartedClient in **Esplora soluzioni**e quindi selezionare **Aggiungi riferimento**.</span><span class="sxs-lookup"><span data-stu-id="abf89-121">Right-click on the **References** folder under the GettingStartedClient project in **Solution Explorer**, and then select **Add Reference**.</span></span> <span data-ttu-id="abf89-122">Nel **Aggiungi riferimento** finestra di dialogo, seleziona **Framework** sul lato sinistro della finestra di dialogo sotto **assembly**.</span><span class="sxs-lookup"><span data-stu-id="abf89-122">In the **Add Reference** dialog, select **Framework** on the left-hand side of the dialog under **Assemblies**.</span></span> <span data-ttu-id="abf89-123">Individuare e selezionare **System. ServiceModel**, quindi scegliere **OK**.</span><span class="sxs-lookup"><span data-stu-id="abf89-123">Find and select **System.ServiceModel**, and then choose **OK**.</span></span> <span data-ttu-id="abf89-124">Salvare la soluzione selezionando **File** > **Salva tutto**.</span><span class="sxs-lookup"><span data-stu-id="abf89-124">Save the solution by selecting **File** > **Save All**.</span></span>

3. <span data-ttu-id="abf89-125">Aggiungere un riferimento al servizio per il servizio di calcolatrice.</span><span class="sxs-lookup"><span data-stu-id="abf89-125">Add a service reference to the Calculator Service.</span></span>

   1. <span data-ttu-id="abf89-126">Innanzitutto, avviare l'applicazione console GettingStartedHost.</span><span class="sxs-lookup"><span data-stu-id="abf89-126">First, start up the GettingStartedHost console application.</span></span>

   2. <span data-ttu-id="abf89-127">L'host è in esecuzione, fare doppio clic il **riferimenti** cartella nel progetto GettingStartedClient in **Esplora soluzioni** e selezionare **Add**  >   **Riferimento del servizio**.</span><span class="sxs-lookup"><span data-stu-id="abf89-127">Once the host is running, right-click the **References** folder under the GettingStartedClient project in **Solution Explorer** and select **Add** > **Service Reference**.</span></span>

   3. <span data-ttu-id="abf89-128">Immettere l'URL seguente nella casella dell'indirizzo del **Aggiungi riferimento al servizio** finestra di dialogo: [http://localhost:8000/GettingStarted/CalculatorService](http://localhost:8000/GettingStarted/CalculatorService)</span><span class="sxs-lookup"><span data-stu-id="abf89-128">Enter the following URL in the address box of the **Add Service Reference** dialog: [http://localhost:8000/GettingStarted/CalculatorService](http://localhost:8000/GettingStarted/CalculatorService)</span></span>

   4. <span data-ttu-id="abf89-129">Scegli **Vai**.</span><span class="sxs-lookup"><span data-stu-id="abf89-129">Choose **Go**.</span></span>

   <span data-ttu-id="abf89-130">CalculatorService è visualizzato nei **Services** casella di riepilogo.</span><span class="sxs-lookup"><span data-stu-id="abf89-130">The CalculatorService is displayed in the **Services** list box.</span></span> <span data-ttu-id="abf89-131">Fare doppio clic su CalculatorService per espanderlo e visualizzare i contratti di servizio implementati dal servizio.</span><span class="sxs-lookup"><span data-stu-id="abf89-131">Double-click CalculatorService to expand it and show the service contracts implemented by the service.</span></span> <span data-ttu-id="abf89-132">Lasciare lo spazio dei nomi predefinito come- e sceglie **OK**.</span><span class="sxs-lookup"><span data-stu-id="abf89-132">Leave the default namespace as-is and choose **OK**.</span></span>

    <span data-ttu-id="abf89-133">Quando si aggiunge un riferimento a un servizio utilizzando Visual Studio, un nuovo elemento viene visualizzato nella **Esplora soluzioni** sotto il **riferimenti al servizio** cartella nel progetto GettingStartedClient.</span><span class="sxs-lookup"><span data-stu-id="abf89-133">When you add a reference to a service using Visual Studio, a new item appears in **Solution Explorer** under the **Service References** folder under the GettingStartedClient project.</span></span> <span data-ttu-id="abf89-134">Se si usa la [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) vengono generati degli strumenti, un file di codice sorgente e file app. config.</span><span class="sxs-lookup"><span data-stu-id="abf89-134">If you use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) tool, a source code file and app.config file are generated.</span></span>

    <span data-ttu-id="abf89-135">È anche possibile usare lo strumento da riga di comando [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) con le opzioni appropriate per creare il codice client.</span><span class="sxs-lookup"><span data-stu-id="abf89-135">You can also use the command-line tool [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) with the appropriate switches to create the client code.</span></span> <span data-ttu-id="abf89-136">Nell'esempio seguente viene illustrato un file di codice e un file di configurazione per il servizio.</span><span class="sxs-lookup"><span data-stu-id="abf89-136">The following example generates a code file and a configuration file for the service.</span></span> <span data-ttu-id="abf89-137">Il primo esempio illustra come generare il proxy in VB e il secondo mostra come generare il proxy in c#:</span><span class="sxs-lookup"><span data-stu-id="abf89-137">The first example shows how to generate the proxy in VB, and the second shows how to generate the proxy in C#:</span></span>

    ```shell
    svcutil.exe /language:vb /out:generatedProxy.vb /config:app.config http://localhost:8000/GettingStarted/CalculatorService
    ```

    ```shell
    svcutil.exe /language:cs /out:generatedProxy.cs /config:app.config http://localhost:8000/GettingStarted/CalculatorService
    ```

## <a name="next-steps"></a><span data-ttu-id="abf89-138">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="abf89-138">Next steps</span></span>

<span data-ttu-id="abf89-139">È stato creato il proxy che utilizzerà l'applicazione client per chiamare il servizio di calcolatrice.</span><span class="sxs-lookup"><span data-stu-id="abf89-139">You've created the proxy that the client application will use to call the calculator service.</span></span> <span data-ttu-id="abf89-140">Passare all'argomento successivo della serie.</span><span class="sxs-lookup"><span data-stu-id="abf89-140">Proceed to the next topic in the series.</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="abf89-141">Procedura: Configurare un client</span><span class="sxs-lookup"><span data-stu-id="abf89-141">How to: Configure a Client</span></span>](../../../docs/framework/wcf/how-to-configure-a-basic-wcf-client.md)

## <a name="see-also"></a><span data-ttu-id="abf89-142">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="abf89-142">See also</span></span>

- [<span data-ttu-id="abf89-143">Strumento ServiceModel Metadata Utility Tool (Svcutil.exe)</span><span class="sxs-lookup"><span data-stu-id="abf89-143">ServiceModel Metadata Utility Tool (Svcutil.exe)</span></span>](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)
- [<span data-ttu-id="abf89-144">Introduzione</span><span class="sxs-lookup"><span data-stu-id="abf89-144">Getting Started</span></span>](../../../docs/framework/wcf/samples/getting-started-sample.md)
- [<span data-ttu-id="abf89-145">Servizio indipendente</span><span class="sxs-lookup"><span data-stu-id="abf89-145">Self-Host</span></span>](../../../docs/framework/wcf/samples/self-host.md)
- [<span data-ttu-id="abf89-146">Procedura: Pubblicare metadati per un servizio usando un file di configurazione</span><span class="sxs-lookup"><span data-stu-id="abf89-146">How to: Publish Metadata for a Service Using a Configuration File</span></span>](../../../docs/framework/wcf/feature-details/how-to-publish-metadata-for-a-service-using-a-configuration-file.md)
- [<span data-ttu-id="abf89-147">Procedura: Usare Svcutil.exe per scaricare documenti di metadati</span><span class="sxs-lookup"><span data-stu-id="abf89-147">How to: Use Svcutil.exe to Download Metadata Documents</span></span>](../../../docs/framework/wcf/feature-details/how-to-use-svcutil-exe-to-download-metadata-documents.md)
