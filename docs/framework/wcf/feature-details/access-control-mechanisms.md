---
title: Meccanismi del controllo di accesso
ms.date: 03/30/2017
helpviewer_keywords:
- WCF security
- access control [WCF]
ms.assetid: 9d576122-3f55-4425-9acf-b23d0781e966
ms.openlocfilehash: 53b20e7f11f5accd1436f29063817142681e4f74
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/08/2019
ms.locfileid: "59213259"
---
# <a name="access-control-mechanisms"></a><span data-ttu-id="87e7c-102">Meccanismi del controllo di accesso</span><span class="sxs-lookup"><span data-stu-id="87e7c-102">Access Control Mechanisms</span></span>
<span data-ttu-id="87e7c-103">È possibile controllare l'accesso in modo diversi con Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="87e7c-103">You can control access in several way with Windows Communication Foundation (WCF).</span></span> <span data-ttu-id="87e7c-104">In questo argomento vengono discussi brevemente i vari meccanismi e vengono forniti suggerimenti sulle circostanze in cui utilizzarli. L'argomento consente quindi di selezionare il meccanismo corretto da utilizzare.</span><span class="sxs-lookup"><span data-stu-id="87e7c-104">This topic briefly discusses the various mechanisms and provides suggestions on when to use each; it is intended to help you select the correct mechanism to use.</span></span> <span data-ttu-id="87e7c-105">Le tecnologie di accesso sono elencate in ordine di complessità.</span><span class="sxs-lookup"><span data-stu-id="87e7c-105">The access technologies are listed in order of complexity.</span></span> <span data-ttu-id="87e7c-106">La tecnologia più semplice è <xref:System.Security.Permissions.PrincipalPermissionAttribute>, la più complessa è il modello di identità.</span><span class="sxs-lookup"><span data-stu-id="87e7c-106">The simplest is the <xref:System.Security.Permissions.PrincipalPermissionAttribute>; the most complex is the Identity Model.</span></span>  
  
 <span data-ttu-id="87e7c-107">Oltre a questi meccanismi, la rappresentazione e delega con WCF sono illustrati in [delega e rappresentazione](../../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span><span class="sxs-lookup"><span data-stu-id="87e7c-107">In addition to these mechanisms, impersonation and delegation with WCF is explained in [Delegation and Impersonation](../../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span></span>  
  
## <a name="principalpermissionattribute"></a><span data-ttu-id="87e7c-108">PrincipalPermissionAttribute</span><span class="sxs-lookup"><span data-stu-id="87e7c-108">PrincipalPermissionAttribute</span></span>  
 <span data-ttu-id="87e7c-109"><xref:System.Security.Permissions.PrincipalPermissionAttribute> viene utilizzato per limitare l'accesso a un metodo del servizio.</span><span class="sxs-lookup"><span data-stu-id="87e7c-109">The <xref:System.Security.Permissions.PrincipalPermissionAttribute> is used to restrict access to a service method.</span></span> <span data-ttu-id="87e7c-110">Quando l'attributo è applicato a un metodo, può essere utilizzato per richiedere l'identità o l'appartenenza di un chiamante specifico in un gruppo di Windows o in un ruolo [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="87e7c-110">When the attribute is applied to a method, it can be used to demand a specific caller's identity or membership in a Windows group or [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] role.</span></span> <span data-ttu-id="87e7c-111">Se il client viene autenticato utilizzando un certificato X.509, acquisisce un'identità primaria costituita dal nome del soggetto e dall'identificazione personale del certificato.</span><span class="sxs-lookup"><span data-stu-id="87e7c-111">If the client is authenticated using an X.509 certificate, it is given a primary identity that consists of the subject name plus the thumbprint of the certificate.</span></span>  
  
 <span data-ttu-id="87e7c-112">Utilizzare <xref:System.Security.Permissions.PrincipalPermissionAttribute> per controllare l'accesso alle risorse del computer in cui il servizio è in esecuzione e se gli utenti del servizio faranno sempre parte dello stesso dominio Windows nel quale il servizio è in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="87e7c-112">Use the <xref:System.Security.Permissions.PrincipalPermissionAttribute> to control access to resources on the computer that the service is running on, and if the users of the service will always be part of the same Windows domain that the service is running on.</span></span> <span data-ttu-id="87e7c-113">È possibile creare facilmente gruppi di Windows che presentano livelli di accesso specifici (ad esempio nessuno, sola lettura o lettura e scrittura).</span><span class="sxs-lookup"><span data-stu-id="87e7c-113">You can easily create Windows groups that have specified levels of access (such as none, read-only, or read and write).</span></span>  
  
 <span data-ttu-id="87e7c-114">Per altre informazioni sull'uso dell'attributo, vedere [come: Limitare l'accesso con la classe PrincipalPermissionAttribute](../../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md).</span><span class="sxs-lookup"><span data-stu-id="87e7c-114">For more information about using the attribute, see [How to: Restrict Access with the PrincipalPermissionAttribute Class](../../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md).</span></span> <span data-ttu-id="87e7c-115">Per altre informazioni sull'identità, vedere [identità del servizio e autenticazione](../../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="87e7c-115">For more information about identity, see [Service Identity and Authentication](../../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span></span>  
  
## <a name="aspnet-membership-provider"></a><span data-ttu-id="87e7c-116">Provider di appartenenze ASP.NET</span><span class="sxs-lookup"><span data-stu-id="87e7c-116">ASP.NET Membership Provider</span></span>  
 <span data-ttu-id="87e7c-117">Una funzionalità di [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] è il provider di appartenenza.</span><span class="sxs-lookup"><span data-stu-id="87e7c-117">A feature of [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] is the membership provider.</span></span> <span data-ttu-id="87e7c-118">Anche se tecnicamente il provider di appartenenza non è un meccanismo per il controllo dell'accesso, consente di controllare l'accesso al servizio limitando il set di possibili identità che possono accedere all'endpoint del servizio.</span><span class="sxs-lookup"><span data-stu-id="87e7c-118">Even though the membership provider is not technically an access control mechanism, it allows controlling access to the service by limiting the set of possible identities that can access the service's endpoint.</span></span> <span data-ttu-id="87e7c-119">La funzionalità di appartenenza comprende un database che può essere popolato con combinazioni nome utente/password che consentono agli utenti di un sito Web di creare account nel sito.</span><span class="sxs-lookup"><span data-stu-id="87e7c-119">The membership feature includes a database that can be populated with user name/password combinations that enable users of a Web site to establish accounts with the site.</span></span> <span data-ttu-id="87e7c-120">Per accedere a un servizio che utilizza il provider di appartenenza, è necessario che l'utente esegua la procedura di accesso indicando nome utente e password.</span><span class="sxs-lookup"><span data-stu-id="87e7c-120">To access a service that uses the membership provider, a user must log on with his or her user name and password.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="87e7c-121">È necessario innanzitutto popolare il database utilizzando la [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] funzionalità prima di un servizio WCF può usarlo a scopo di autorizzazione.</span><span class="sxs-lookup"><span data-stu-id="87e7c-121">You must first populate the database using the [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] feature before a WCF service can use it for authorization purposes.</span></span>  
  
 <span data-ttu-id="87e7c-122">È inoltre possibile utilizzare la funzionalità di appartenenza se si dispone già di un database di appartenenza di un sito Web [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] esistente e si desidera consentire agli stessi utenti di utilizzare il servizio, autorizzandoli con lo stesso nome utente e password.</span><span class="sxs-lookup"><span data-stu-id="87e7c-122">You can also use the membership feature if you already have a membership database from an existing [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] Web site and you want to enable the same users to use your service, authorized with the same user names and passwords.</span></span>  
  
 <span data-ttu-id="87e7c-123">Per altre informazioni sull'utilizzo della funzionalità di appartenenza in un servizio WCF, vedere [come: Usare il Provider di appartenenze ASP.NET](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-membership-provider.md).</span><span class="sxs-lookup"><span data-stu-id="87e7c-123">For more information about using the membership feature in a WCF service, see [How to: Use the ASP.NET Membership Provider](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-membership-provider.md).</span></span>  
  
## <a name="aspnet-role-provider"></a><span data-ttu-id="87e7c-124">Provider di ruoli ASP.NET</span><span class="sxs-lookup"><span data-stu-id="87e7c-124">ASP.NET Role Provider</span></span>  
 <span data-ttu-id="87e7c-125">Un'altra funzionalità di [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] consiste nella possibilità di gestire l'autorizzazione mediante ruoli.</span><span class="sxs-lookup"><span data-stu-id="87e7c-125">Another feature of [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] is the ability to manage authorization using roles.</span></span> <span data-ttu-id="87e7c-126">Il provider di ruoli [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] consente a uno sviluppatore di creare ruoli per gli utenti e di assegnare ogni utente a uno o più ruoli.</span><span class="sxs-lookup"><span data-stu-id="87e7c-126">The [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] role provider enables a developer to create roles for users and to assign each user to a role or roles.</span></span> <span data-ttu-id="87e7c-127">Come per il provider di appartenenza, i ruoli e le assegnazioni sono archiviati in un database e possono essere popolati mediante strumenti forniti da una particolare implementazione del provider di ruoli [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="87e7c-127">As with the membership provider, the roles and assignments are stored in a database, and can be populated using tools provided by a particular implementation of the [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] role provider.</span></span> <span data-ttu-id="87e7c-128">Come con la funzionalità di appartenenza, WCF gli sviluppatori possono utilizzare le informazioni nel database per autorizzare gli utenti del servizio dai ruoli.</span><span class="sxs-lookup"><span data-stu-id="87e7c-128">As with the membership feature, WCF developers can use the information in the database to authorize service users by roles.</span></span> <span data-ttu-id="87e7c-129">Essi, ad esempio, possono utilizzare il provider di ruoli in combinazione con il meccanismo di controllo dell'accesso `PrincipalPermissionAttribute` descritto in precedenza.</span><span class="sxs-lookup"><span data-stu-id="87e7c-129">They can, for example, use the role provider in combination with the `PrincipalPermissionAttribute` access control mechanism described above.</span></span>  
  
 <span data-ttu-id="87e7c-130">È anche possibile usare la [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] provider di ruoli se si dispone di un oggetto esistente [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] database provider di ruoli e si vuole usare lo stesso set di regole e le assegnazioni utente nel servizio WCF.</span><span class="sxs-lookup"><span data-stu-id="87e7c-130">You can also use the [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] role provider if you have an existing [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] role provider database and want to use the same set of rules and user assignments in your WCF service.</span></span>  
  
 <span data-ttu-id="87e7c-131">Per altre informazioni sull'uso della funzionalità del provider di ruoli, vedere [come: Usare il Provider di ruoli ASP.NET con un servizio](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-role-provider-with-a-service.md).</span><span class="sxs-lookup"><span data-stu-id="87e7c-131">For more information about using the role provider feature, see [How to: Use the ASP.NET Role Provider with a Service](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-role-provider-with-a-service.md).</span></span>  
  
## <a name="authorization-manager"></a><span data-ttu-id="87e7c-132">Gestione autorizzazioni</span><span class="sxs-lookup"><span data-stu-id="87e7c-132">Authorization Manager</span></span>  
 <span data-ttu-id="87e7c-133">Un'altra funzionalità riunisce la Gestione autorizzazioni (AzMan) e il provider di ruoli [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] per l'autorizzazione dei client.</span><span class="sxs-lookup"><span data-stu-id="87e7c-133">Another feature combines the Authorization Manager (AzMan) with the [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] role provider to authorize clients.</span></span> <span data-ttu-id="87e7c-134">Quando [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] ospita un servizio Web, AzMan può essere integrato nell'applicazione per fare in modo che l'autorizzazione al servizio venga eseguita tramite AzMan.</span><span class="sxs-lookup"><span data-stu-id="87e7c-134">When [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] hosts a Web service, AzMan can be integrated into the application so that authorization to the service is done through AzMan.</span></span> [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] <span data-ttu-id="87e7c-135">Gestione ruoli fornisce un'API che consente di gestire i ruoli applicazione, aggiungere e rimuovere utenti dai ruoli e controllare l'appartenenza al ruolo, ma non consente di eseguire una query se un utente è autorizzato a eseguire una determinata attività o l'operazione.</span><span class="sxs-lookup"><span data-stu-id="87e7c-135">role manager provides an API that enables you to manage application roles, add and remove users from roles, and check role membership, but it does not allow you to query whether a user is authorized to perform a named task or operation.</span></span> <span data-ttu-id="87e7c-136">AzMan consente di definire operazioni singole e di riunirle in attività.</span><span class="sxs-lookup"><span data-stu-id="87e7c-136">AzMan allows you to define individual operations and combine them into tasks.</span></span> <span data-ttu-id="87e7c-137">Con AZMan, oltre a controlli del ruolo è inoltre possibile verificare se un utente è autorizzato a eseguire un'attività.</span><span class="sxs-lookup"><span data-stu-id="87e7c-137">With AZMan, in addition to role checks, you can also check whether a user can perform a task.</span></span> <span data-ttu-id="87e7c-138">L'assegnazione del ruolo e l'autorizzazione all'esecuzione dell'attività possono essere configurate esternamente all'applicazione o eseguite a livello di programmazione all'interno dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="87e7c-138">Role assignment and task authorization can be configured outside of the application or performed programmatically within the application.</span></span> <span data-ttu-id="87e7c-139">Lo snap-in MMC (Microsoft Management Console) per l'amministrazione di AzMan consente agli amministratori di modificare le attività che un ruolo può eseguire in fase di esecuzione e di gestire l'appartenenza di ogni utente ai ruoli.</span><span class="sxs-lookup"><span data-stu-id="87e7c-139">The AzMan administration Microsoft Management Console (MMC) snap-in allows administrators to change the tasks a role can perform at run time and to manage each user's membership of roles.</span></span>  
  
 <span data-ttu-id="87e7c-140">È inoltre possibile utilizzare AzMan e il provider di ruoli [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] se si dispone già dell'accesso a un'installazione di AzMan esistente e si desidera autorizzare gli utenti del servizio utilizzando le funzionalità della combinazione AzMan/provider di ruoli.</span><span class="sxs-lookup"><span data-stu-id="87e7c-140">You can also use AzMan and the [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] role provider if you already have access to an existing AzMan installation and want to authorize your service users using the features of the AzMan/role provider combination.</span></span>  
  
 <span data-ttu-id="87e7c-141">Per altre informazioni su AzMan e il [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] provider di ruoli, vedere [How To: Utilizzare Gestione autorizzazioni (AzMan) con ASP.NET 2.0](https://go.microsoft.com/fwlink/?LinkId=88951).</span><span class="sxs-lookup"><span data-stu-id="87e7c-141">For more information about AzMan and the [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] role provider, see [How To: Use Authorization Manager (AzMan) with ASP.NET 2.0](https://go.microsoft.com/fwlink/?LinkId=88951).</span></span> <span data-ttu-id="87e7c-142">Per altre informazioni sull'utilizzo di AzMan e il provider di ruoli per i servizi WCF, vedere [come: Usare il Provider di ruoli ASP.NET di gestione autorizzazioni con un servizio](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-authorization-manager-role-provider-with-a-service.md).</span><span class="sxs-lookup"><span data-stu-id="87e7c-142">For more information about using AzMan and the role provider for WCF services, see [How to: Use the ASP.NET Authorization Manager Role Provider with a Service](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-authorization-manager-role-provider-with-a-service.md).</span></span>  
  
## <a name="identity-model"></a><span data-ttu-id="87e7c-143">Modello di identità</span><span class="sxs-lookup"><span data-stu-id="87e7c-143">Identity Model</span></span>  
 <span data-ttu-id="87e7c-144">Il modello di identità è un set di API che consentono di gestire attestazioni e criteri per autorizzare client.</span><span class="sxs-lookup"><span data-stu-id="87e7c-144">The Identity Model is a set of APIs that enable you to manage claims and policies to authorize clients.</span></span> <span data-ttu-id="87e7c-145">Con il modello di identità, è possibile esaminare ogni attestazione contenuta in credenziali che il chiamante ha utilizzato per autenticarsi nel servizio, confrontare le attestazioni con il set di criteri per il servizio e concedere o negare l'accesso in base al confronto.</span><span class="sxs-lookup"><span data-stu-id="87e7c-145">With the Identity Model, you can examine every claim contained in credentials that the caller used to authenticate itself to the service, compare the claims to the set of policies for the service, and grant or deny access based on the comparison.</span></span>  
  
 <span data-ttu-id="87e7c-146">Utilizzare il modello di identità se sono necessari un controllo preciso e la possibilità di impostare criteri specifici prima di concedere l'accesso.</span><span class="sxs-lookup"><span data-stu-id="87e7c-146">Use the Identity Model if you need fine control and the ability to set specific criteria before granting access.</span></span> <span data-ttu-id="87e7c-147">Quando si utilizza <xref:System.Security.Permissions.PrincipalPermissionAttribute>, ad esempio, il criterio consiste semplicemente nel fatto che l'identità dell'utente viene autenticata e appartiene a un ruolo specifico.</span><span class="sxs-lookup"><span data-stu-id="87e7c-147">For example, when using the <xref:System.Security.Permissions.PrincipalPermissionAttribute>, the criterion is simply that the identity of the user is authenticated and belongs to a specific role.</span></span> <span data-ttu-id="87e7c-148">Con il modello di identità, al contrario, è possibile creare un criterio in base al quale l'utente deve avere più di 18 anni ed essere in possesso di patente di guida valida perché gli sia consentito visualizzare un documento.</span><span class="sxs-lookup"><span data-stu-id="87e7c-148">In contrast, using the Identity Model, you can create a policy that states the user must be over 18 years of age and possesses a valid driver's license before being allowed to view a document.</span></span>  
  
 <span data-ttu-id="87e7c-149">Un esempio della possibilità di avvalersi del controllo dell'accesso basato su attestazioni del modello di identità consiste nell'utilizzo di credenziali federate nello scenario del token rilasciato.</span><span class="sxs-lookup"><span data-stu-id="87e7c-149">One example where you can benefit from the Identity Model claim-based access control is when using federation credentials in the issued token scenario.</span></span> <span data-ttu-id="87e7c-150">Per altre informazioni sulla federazione e token rilasciati, vedere [federazione e token emessi](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="87e7c-150">For more information about federation and issued tokens, see [Federation and Issued Tokens](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span></span>  
  
 <span data-ttu-id="87e7c-151">Per altre informazioni sul modello di identità, vedere [gestione di attestazioni e autorizzazioni con il modello di identità](../../../../docs/framework/wcf/feature-details/managing-claims-and-authorization-with-the-identity-model.md).</span><span class="sxs-lookup"><span data-stu-id="87e7c-151">For more information about the Identity Model, see [Managing Claims and Authorization with the Identity Model](../../../../docs/framework/wcf/feature-details/managing-claims-and-authorization-with-the-identity-model.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="87e7c-152">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="87e7c-152">See also</span></span>

- <xref:System.Security.Permissions.PrincipalPermissionAttribute>
- [<span data-ttu-id="87e7c-153">Procedura: Limitare l'accesso con la classe PrincipalPermissionAttribute</span><span class="sxs-lookup"><span data-stu-id="87e7c-153">How to: Restrict Access with the PrincipalPermissionAttribute Class</span></span>](../../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md)
- [<span data-ttu-id="87e7c-154">Procedura: Usare il provider di ruoli ASP.NET con un servizio</span><span class="sxs-lookup"><span data-stu-id="87e7c-154">How to: Use the ASP.NET Role Provider with a Service</span></span>](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-role-provider-with-a-service.md)
- [<span data-ttu-id="87e7c-155">Procedura: Usare il provider di ruoli ASP.NET di Gestione autorizzazioni con un servizio</span><span class="sxs-lookup"><span data-stu-id="87e7c-155">How to: Use the ASP.NET Authorization Manager Role Provider with a Service</span></span>](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-authorization-manager-role-provider-with-a-service.md)
- [<span data-ttu-id="87e7c-156">Gestione di attestazioni e autorizzazioni con il modello di identità</span><span class="sxs-lookup"><span data-stu-id="87e7c-156">Managing Claims and Authorization with the Identity Model</span></span>](../../../../docs/framework/wcf/feature-details/managing-claims-and-authorization-with-the-identity-model.md)
- [<span data-ttu-id="87e7c-157">Delega e rappresentazione</span><span class="sxs-lookup"><span data-stu-id="87e7c-157">Delegation and Impersonation</span></span>](../../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md)
