---
title: "Procedura: Creare un'associazione personalizzata usando SecurityBindingElement"
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- security [WCF], creating custom bindings
ms.assetid: 203a9f9e-3a73-427c-87aa-721c56265b29
ms.openlocfilehash: 7966c1fe4cd94408455c6bb146fdd3ea55757702
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 04/23/2019
ms.locfileid: "61787855"
---
# <a name="how-to-create-a-custom-binding-using-the-securitybindingelement"></a><span data-ttu-id="aa3d8-102">Procedura: Creare un'associazione personalizzata usando SecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-102">How to: Create a Custom Binding Using the SecurityBindingElement</span></span>
<span data-ttu-id="aa3d8-103">Windows Communication Foundation (WCF) include diverse associazioni fornite dal sistema che possono essere configurate ma non forniscono totale flessibilità durante la configurazione di tutte le opzioni di protezione supportati da WCF.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-103">Windows Communication Foundation (WCF) includes several system-provided bindings that can be configured but do not provide full flexibility when configuring all the security options that WCF supports.</span></span> <span data-ttu-id="aa3d8-104">In questo argomento viene illustrato come creare direttamente un'associazione personalizzata di singoli elementi di associazione e vengono evidenziate alcune impostazioni di sicurezza che è possibile specificare durante la creazione di tale associazione.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-104">This topic demonstrates how to create a custom binding directly from individual binding elements and highlights some of the security settings that can be specified when creating such a binding.</span></span> <span data-ttu-id="aa3d8-105">Per altre informazioni sulla creazione di associazioni personalizzate, vedere [estensione delle associazioni](../../../../docs/framework/wcf/extending/extending-bindings.md).</span><span class="sxs-lookup"><span data-stu-id="aa3d8-105">For more information about creating custom bindings, see [Extending Bindings](../../../../docs/framework/wcf/extending/extending-bindings.md).</span></span>  
  
> [!WARNING]
>  <span data-ttu-id="aa3d8-106"><xref:System.ServiceModel.Channels.SecurityBindingElement> non supporta la forma di <xref:System.ServiceModel.Channels.IDuplexSessionChannel>, vale a dire la forma di canale predefinita utilizzata dal trasporto TCP quando l'oggetto <xref:System.ServiceModel.TransferMode> è impostato su <xref:System.ServiceModel.TransferMode.Buffered>.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-106"><xref:System.ServiceModel.Channels.SecurityBindingElement> does not support the <xref:System.ServiceModel.Channels.IDuplexSessionChannel> channel shape, which is the default channel shape use by the TCP transport when <xref:System.ServiceModel.TransferMode> is set to <xref:System.ServiceModel.TransferMode.Buffered>.</span></span> <span data-ttu-id="aa3d8-107">È necessario impostare <xref:System.ServiceModel.TransferMode> su <xref:System.ServiceModel.TransferMode.Streamed> per utilizzare <xref:System.ServiceModel.Channels.SecurityBindingElement> in questo scenario.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-107">You must set <xref:System.ServiceModel.TransferMode> to <xref:System.ServiceModel.TransferMode.Streamed> in order to use <xref:System.ServiceModel.Channels.SecurityBindingElement> in this scenario.</span></span>  
  
## <a name="creating-a-custom-binding"></a><span data-ttu-id="aa3d8-108">Creazione di un'associazione personalizzata</span><span class="sxs-lookup"><span data-stu-id="aa3d8-108">Creating a Custom Binding</span></span>  
 <span data-ttu-id="aa3d8-109">In WCF tutte le associazioni sono costituite da *elementi di associazione*.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-109">In WCF all bindings are made up of *binding elements*.</span></span> <span data-ttu-id="aa3d8-110">Ogni elemento di associazione deriva dalla classe <xref:System.ServiceModel.Channels.BindingElement>.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-110">Each binding element derives from the <xref:System.ServiceModel.Channels.BindingElement> class.</span></span> <span data-ttu-id="aa3d8-111">Per le associazioni standard fornite dal sistema, vengono creati e configurati gli elementi di associazione, sebbene sia possibile personalizzare alcune delle impostazioni delle proprietà.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-111">For the standard system-provided bindings, the binding elements are created and configured for you, although you can customize some of the property settings.</span></span>  
  
 <span data-ttu-id="aa3d8-112">Al contrario, per creare un'associazione personalizzata, vengono creati e configurati gli elementi di associazione dai quali viene creato <xref:System.ServiceModel.Channels.CustomBinding>.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-112">In contrast, to create a custom binding, binding elements are created and configured and a <xref:System.ServiceModel.Channels.CustomBinding> is created from the binding elements.</span></span>  
  
 <span data-ttu-id="aa3d8-113">A tale scopo, vengono aggiunti singoli elementi di associazione a una raccolta rappresentata da un'istanza della classe <xref:System.ServiceModel.Channels.BindingElementCollection>, quindi la proprietà `Elements` di `CustomBinding` viene impostata allo stesso modo dell'oggetto.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-113">To do this, you add the individual binding elements to a collection represented by an instance of the <xref:System.ServiceModel.Channels.BindingElementCollection> class, and then set the `Elements` property of the `CustomBinding` equal to that object.</span></span> <span data-ttu-id="aa3d8-114">È necessario aggiungere gli elementi di associazione nell'ordine seguente: Flusso delle transazioni, sessione affidabile, protezione, Duplex composito, unidirezionale, Stream Security, codifica dei messaggi e trasporto.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-114">You must add the binding elements in the following order: Transaction Flow, Reliable Session, Security, Composite Duplex, One-way, Stream Security, Message Encoding, and Transport.</span></span> <span data-ttu-id="aa3d8-115">Si noti che non tutti gli elementi di associazione elencati sono necessari in ogni associazione.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-115">Note that not all the binding elements listed are required in every binding.</span></span>  
  
## <a name="securitybindingelement"></a><span data-ttu-id="aa3d8-116">SecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-116">SecurityBindingElement</span></span>  
 <span data-ttu-id="aa3d8-117">Tre elementi di associazione sono correlati alla protezione a livello di messaggio e sono tutti derivati dalla classe <xref:System.ServiceModel.Channels.SecurityBindingElement>.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-117">Three binding elements relate to message level security, all of which derive from the <xref:System.ServiceModel.Channels.SecurityBindingElement> class.</span></span> <span data-ttu-id="aa3d8-118">I tre elementi sono <xref:System.ServiceModel.Channels.TransportSecurityBindingElement>, <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> e <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement>.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-118">The three are <xref:System.ServiceModel.Channels.TransportSecurityBindingElement>, <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>, and <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement>.</span></span> <span data-ttu-id="aa3d8-119"><xref:System.ServiceModel.Channels.TransportSecurityBindingElement> viene utilizzato per fornire una protezione in modalità mista.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-119">The <xref:System.ServiceModel.Channels.TransportSecurityBindingElement> is used to provide Mixed mode security.</span></span> <span data-ttu-id="aa3d8-120">Gli altri due elementi sono utilizzati quando la protezione è fornita dal livello di messaggio.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-120">The other two elements are used when the message layer provides security.</span></span>  
  
 <span data-ttu-id="aa3d8-121">Le classi aggiuntive vengono utilizzate quando viene fornita la protezione a livello di trasporto:</span><span class="sxs-lookup"><span data-stu-id="aa3d8-121">Additional classes are used when transport level security is provided:</span></span>  
  
- <xref:System.ServiceModel.Channels.HttpsTransportBindingElement>  
  
- <xref:System.ServiceModel.Channels.SslStreamSecurityBindingElement>  
  
- <xref:System.ServiceModel.Channels.WindowsStreamSecurityBindingElement>  
  
## <a name="required-binding-elements"></a><span data-ttu-id="aa3d8-122">Elementi di associazione obbligatori</span><span class="sxs-lookup"><span data-stu-id="aa3d8-122">Required Binding Elements</span></span>  
 <span data-ttu-id="aa3d8-123">Esiste un ampio numero di possibili elementi di associazione che si possono combinare in un'associazione.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-123">There are a large number of possible binding elements that can be combined into a binding.</span></span> <span data-ttu-id="aa3d8-124">Non tutte queste combinazioni sono valide.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-124">Not all of these combinations are valid.</span></span> <span data-ttu-id="aa3d8-125">Contenuto della sezione vengono descritti gli elementi obbligatori che devono essere presenti in un'associazione di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-125">This section describes the required elements that must be present in a security binding.</span></span>  
  
 <span data-ttu-id="aa3d8-126">Le associazioni di sicurezza valide dipendono da molti fattori, tra cui:</span><span class="sxs-lookup"><span data-stu-id="aa3d8-126">Valid security bindings depend on many factors, including the following:</span></span>  
  
- <span data-ttu-id="aa3d8-127">Modalità di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-127">Security mode.</span></span>  
  
- <span data-ttu-id="aa3d8-128">Protocollo di trasporto.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-128">Transport protocol.</span></span>  
  
- <span data-ttu-id="aa3d8-129">Modello di scambio dei messaggi (MEP, Message Exchange Pattern) specificato nel contratto.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-129">The message exchange pattern (MEP) specified in the contract.</span></span>  
  
 <span data-ttu-id="aa3d8-130">Nella tabella seguente vengono illustrate le configurazioni dello stack dell'elemento di associazione valide per ogni combinazione dei fattori precedenti.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-130">The following table shows the valid binding element stack configurations for each combination of the preceding factors.</span></span> <span data-ttu-id="aa3d8-131">Si noti che si tratta di requisiti minimi.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-131">Note that these are minimal requirements.</span></span> <span data-ttu-id="aa3d8-132">È possibile aggiungere ulteriori elementi all'associazione, ad esempio elementi di associazione di codifica dei messaggi, di transazione e di altro tipo.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-132">You can add additional binding elements to the binding, such as message encoding binding elements, transaction binding elements, and other binding elements.</span></span>  
  
|<span data-ttu-id="aa3d8-133">Modalità di sicurezza</span><span class="sxs-lookup"><span data-stu-id="aa3d8-133">Security Mode</span></span>|<span data-ttu-id="aa3d8-134">Trasporto</span><span class="sxs-lookup"><span data-stu-id="aa3d8-134">Transport</span></span>|<span data-ttu-id="aa3d8-135">Modello di scambio dei messaggi del contratto</span><span class="sxs-lookup"><span data-stu-id="aa3d8-135">Contract Message Exchange Pattern</span></span>|<span data-ttu-id="aa3d8-136">Modello di scambio dei messaggi del contratto</span><span class="sxs-lookup"><span data-stu-id="aa3d8-136">Contract Message Exchange Pattern</span></span>|<span data-ttu-id="aa3d8-137">Modello di scambio dei messaggi del contratto</span><span class="sxs-lookup"><span data-stu-id="aa3d8-137">Contract Message Exchange Pattern</span></span>|  
|-------------------|---------------|---------------------------------------|---------------------------------------|---------------------------------------|  
|||`Datagram`|`Request Reply`|`Duplex`|  
|<span data-ttu-id="aa3d8-138">Trasporto</span><span class="sxs-lookup"><span data-stu-id="aa3d8-138">Transport</span></span>|<span data-ttu-id="aa3d8-139">Https</span><span class="sxs-lookup"><span data-stu-id="aa3d8-139">Https</span></span>||||  
|||<span data-ttu-id="aa3d8-140">OneWayBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-140">OneWayBindingElement</span></span>|||  
|||<span data-ttu-id="aa3d8-141">HttpsTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-141">HttpsTransportBindingElement</span></span>|<span data-ttu-id="aa3d8-142">HttpsTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-142">HttpsTransportBindingElement</span></span>||  
||<span data-ttu-id="aa3d8-143">TCP</span><span class="sxs-lookup"><span data-stu-id="aa3d8-143">TCP</span></span>||||  
|||<span data-ttu-id="aa3d8-144">OneWayBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-144">OneWayBindingElement</span></span>|||  
|||<span data-ttu-id="aa3d8-145">SSL o Windows StreamSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-145">SSL or Windows StreamSecurityBindingElement</span></span>|<span data-ttu-id="aa3d8-146">SSL o Windows StreamSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-146">SSL or Windows StreamSecurityBindingElement</span></span>|<span data-ttu-id="aa3d8-147">SSL o Windows StreamSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-147">SSL or Windows StreamSecurityBindingElement</span></span>|  
|||<span data-ttu-id="aa3d8-148">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-148">TcpTransportBindingElement</span></span>|<span data-ttu-id="aa3d8-149">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-149">TcpTransportBindingElement</span></span>|<span data-ttu-id="aa3d8-150">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-150">TcpTransportBindingElement</span></span>|  
|<span data-ttu-id="aa3d8-151">Messaggio</span><span class="sxs-lookup"><span data-stu-id="aa3d8-151">Message</span></span>|<span data-ttu-id="aa3d8-152">Http</span><span class="sxs-lookup"><span data-stu-id="aa3d8-152">Http</span></span>|<span data-ttu-id="aa3d8-153">SymmetricSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-153">SymmetricSecurityBindingElement</span></span>|<span data-ttu-id="aa3d8-154">SymmetricSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-154">SymmetricSecurityBindingElement</span></span>|<span data-ttu-id="aa3d8-155">SymmetricSecurityBindingElement (modalità di autenticazione = SecureConversation)</span><span class="sxs-lookup"><span data-stu-id="aa3d8-155">SymmetricSecurityBindingElement (authentication mode = SecureConversation)</span></span>|  
|||||<span data-ttu-id="aa3d8-156">CompositeDuplexBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-156">CompositeDuplexBindingElement</span></span>|  
|||<span data-ttu-id="aa3d8-157">OneWayBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-157">OneWayBindingElement</span></span>||<span data-ttu-id="aa3d8-158">OneWayBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-158">OneWayBindingElement</span></span>|  
|||<span data-ttu-id="aa3d8-159">HttpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-159">HttpTransportBindingElement</span></span>|<span data-ttu-id="aa3d8-160">HttpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-160">HttpTransportBindingElement</span></span>|<span data-ttu-id="aa3d8-161">HttpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-161">HttpTransportBindingElement</span></span>|  
||<span data-ttu-id="aa3d8-162">Tcp</span><span class="sxs-lookup"><span data-stu-id="aa3d8-162">Tcp</span></span>|<span data-ttu-id="aa3d8-163">SecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-163">SecurityBindingElement</span></span>|<span data-ttu-id="aa3d8-164">SecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-164">SecurityBindingElement</span></span>|<span data-ttu-id="aa3d8-165">SymmetricSecurityBindingElement (modalità di autenticazione = SecureConversation)</span><span class="sxs-lookup"><span data-stu-id="aa3d8-165">SymmetricSecurityBindingElement (authentication mode = SecureConversation)</span></span>|  
|||<span data-ttu-id="aa3d8-166">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-166">TcpTransportBindingElement</span></span>|<span data-ttu-id="aa3d8-167">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-167">TcpTransportBindingElement</span></span>|<span data-ttu-id="aa3d8-168">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-168">TcpTransportBindingElement</span></span>|  
|<span data-ttu-id="aa3d8-169">Misto (trasporto con credenziali messaggio)</span><span class="sxs-lookup"><span data-stu-id="aa3d8-169">Mixed (transport with message credentials)</span></span>|<span data-ttu-id="aa3d8-170">Https</span><span class="sxs-lookup"><span data-stu-id="aa3d8-170">Https</span></span>|<span data-ttu-id="aa3d8-171">TransportSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-171">TransportSecurityBindingElement</span></span>|<span data-ttu-id="aa3d8-172">TransportSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-172">TransportSecurityBindingElement</span></span>||  
|||<span data-ttu-id="aa3d8-173">OneWayBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-173">OneWayBindingElement</span></span>|||  
|||<span data-ttu-id="aa3d8-174">HttpsTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-174">HttpsTransportBindingElement</span></span>|<span data-ttu-id="aa3d8-175">HttpsTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-175">HttpsTransportBindingElement</span></span>||  
||<span data-ttu-id="aa3d8-176">TCP</span><span class="sxs-lookup"><span data-stu-id="aa3d8-176">TCP</span></span>|<span data-ttu-id="aa3d8-177">TransportSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-177">TransportSecurityBindingElement</span></span>|<span data-ttu-id="aa3d8-178">SymmetricSecurityBindingElement (modalità di autenticazione = SecureConversation)</span><span class="sxs-lookup"><span data-stu-id="aa3d8-178">SymmetricSecurityBindingElement (authentication mode = SecureConversation)</span></span>|<span data-ttu-id="aa3d8-179">SymmetricSecurityBindingElement (modalità di autenticazione = SecureConversation)</span><span class="sxs-lookup"><span data-stu-id="aa3d8-179">SymmetricSecurityBindingElement (authentication mode = SecureConversation)</span></span>|  
|||<span data-ttu-id="aa3d8-180">OneWayBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-180">OneWayBindingElement</span></span>|||  
|||<span data-ttu-id="aa3d8-181">SSL o Windows StreamSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-181">SSL or Windows StreamSecurityBindingElement</span></span>|<span data-ttu-id="aa3d8-182">SSL o Windows StreamSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-182">SSL or Windows StreamSecurityBindingElement</span></span>|<span data-ttu-id="aa3d8-183">SSL o Windows StreamSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-183">SSL or Windows StreamSecurityBindingElement</span></span>|  
|||<span data-ttu-id="aa3d8-184">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-184">TcpTransportBindingElement</span></span>|<span data-ttu-id="aa3d8-185">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-185">TcpTransportBindingElement</span></span>|<span data-ttu-id="aa3d8-186">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-186">TcpTransportBindingElement</span></span>|  
  
 <span data-ttu-id="aa3d8-187">Si noti che esistono molte impostazioni configurabili in SecurityBindingElements.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-187">Note that there are many configurable settings on the SecurityBindingElements.</span></span> <span data-ttu-id="aa3d8-188">Per altre informazioni, vedere [modalità di autenticazione di SecurityBindingElement](../../../../docs/framework/wcf/feature-details/securitybindingelement-authentication-modes.md).</span><span class="sxs-lookup"><span data-stu-id="aa3d8-188">For more information, see [SecurityBindingElement Authentication Modes](../../../../docs/framework/wcf/feature-details/securitybindingelement-authentication-modes.md).</span></span>  
  
 <span data-ttu-id="aa3d8-189">Per altre informazioni, vedere [conversazioni protette e alle sessioni protette](../../../../docs/framework/wcf/feature-details/secure-conversations-and-secure-sessions.md).</span><span class="sxs-lookup"><span data-stu-id="aa3d8-189">For more information, see [Secure Conversations and Secure Sessions](../../../../docs/framework/wcf/feature-details/secure-conversations-and-secure-sessions.md).</span></span>  
  
## <a name="procedures"></a><span data-ttu-id="aa3d8-190">Procedure</span><span class="sxs-lookup"><span data-stu-id="aa3d8-190">Procedures</span></span>  
  
#### <a name="to-create-a-custom-binding-that-uses-a-symmetricsecuritybindingelement"></a><span data-ttu-id="aa3d8-191">Per creare un'associazione personalizzata che utilizza un SymmetricSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="aa3d8-191">To create a custom binding that uses a SymmetricSecurityBindingElement</span></span>  
  
1. <span data-ttu-id="aa3d8-192">Creare un'istanza della classe <xref:System.ServiceModel.Channels.BindingElementCollection> con il nome `outputBec`.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-192">Create an instance of the <xref:System.ServiceModel.Channels.BindingElementCollection> class with the name `outputBec`.</span></span>  
  
2. <span data-ttu-id="aa3d8-193">Chiamare il metodo statico `M:System.ServiceModel.Channels.SecurityBindingElement.CreateSspiNegotiationBindingElement(true)` che restituisce un'istanza della classe <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-193">Call the static method `M:System.ServiceModel.Channels.SecurityBindingElement.CreateSspiNegotiationBindingElement(true)`, which returns an instance of the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> class.</span></span>  
  
3. <span data-ttu-id="aa3d8-194">Aggiungere <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> alla raccolta (`outputBec`) chiamando il metodo `Add` di <xref:System.Collections.ObjectModel.Collection%601> della classe <xref:System.ServiceModel.Channels.BindingElement>.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-194">Add the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> to the collection (`outputBec`) by calling the `Add` method of the <xref:System.Collections.ObjectModel.Collection%601> of <xref:System.ServiceModel.Channels.BindingElement> class.</span></span>  
  
4. <span data-ttu-id="aa3d8-195">Creare un'istanza della classe <xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement> e aggiungerla alla raccolta (`outputBec`).</span><span class="sxs-lookup"><span data-stu-id="aa3d8-195">Create an instance of the <xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement> class and add it to the collection (`outputBec`).</span></span> <span data-ttu-id="aa3d8-196">In tal modo viene specificata la codifica utilizzata dall'associazione.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-196">This specifies the encoding used by the binding.</span></span>  
  
5. <span data-ttu-id="aa3d8-197">Creare un <xref:System.ServiceModel.Channels.HttpTransportBindingElement> e aggiungerlo alla raccolta (`outputBec`).</span><span class="sxs-lookup"><span data-stu-id="aa3d8-197">Create a <xref:System.ServiceModel.Channels.HttpTransportBindingElement> and add it to the collection (`outputBec`).</span></span> <span data-ttu-id="aa3d8-198">In tal modo viene specificato che l'associazione utilizza il trasporto HTTP.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-198">This specifies that the binding uses the HTTP transport.</span></span>  
  
6. <span data-ttu-id="aa3d8-199">Creare una nuova associazione personalizzata creando un'istanza della classe <xref:System.ServiceModel.Channels.CustomBinding> e passando la raccolta `outputBec` al costruttore.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-199">Create a new custom binding by creating an instance of the <xref:System.ServiceModel.Channels.CustomBinding> class and passing the collection `outputBec` to the constructor.</span></span>  
  
7. <span data-ttu-id="aa3d8-200">L'associazione personalizzata risultante condivide molte delle stesse caratteristiche di <xref:System.ServiceModel.WSHttpBinding> standard.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-200">The resulting custom binding shares many of the same characteristics as the standard <xref:System.ServiceModel.WSHttpBinding>.</span></span> <span data-ttu-id="aa3d8-201">Specifica la protezione a livello di messaggio e le credenziali di Windows, ma disattiva le sessioni protette. Richiede che la credenziale del servizio venga specificata fuori banda e non crittografa le firme.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-201">It specifies message-level security and Windows credentials but disables secure sessions, requires that the service credential be specified out-of-band, and does not encrypt signatures.</span></span> <span data-ttu-id="aa3d8-202">È possibile controllare l'ultima solo impostando la proprietà <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement.MessageProtectionOrder%2A> come indicato nel passaggio 4.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-202">The last can be controlled only by setting the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement.MessageProtectionOrder%2A> property as shown in step 4.</span></span> <span data-ttu-id="aa3d8-203">Le altre possono essere controllate utilizzando le impostazioni nell'associazione standard.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-203">The other two can be controlled using settings on the standard binding.</span></span>  
  
## <a name="example"></a><span data-ttu-id="aa3d8-204">Esempio</span><span class="sxs-lookup"><span data-stu-id="aa3d8-204">Example</span></span>  
  
### <a name="description"></a><span data-ttu-id="aa3d8-205">Descrizione</span><span class="sxs-lookup"><span data-stu-id="aa3d8-205">Description</span></span>  
 <span data-ttu-id="aa3d8-206">Nell'esempio seguente è riportata una funzione completa per creare un'associazione personalizzata che utilizza un <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>.</span><span class="sxs-lookup"><span data-stu-id="aa3d8-206">The following example provides a complete function to create a custom binding that uses a <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>.</span></span>  
  
### <a name="code"></a><span data-ttu-id="aa3d8-207">Codice</span><span class="sxs-lookup"><span data-stu-id="aa3d8-207">Code</span></span>  
 [!code-csharp[c_CustomBinding#20](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_custombinding/cs/c_custombinding.cs#20)]
 [!code-vb[c_CustomBinding#20](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_custombinding/vb/source.vb#20)]  
  
## <a name="see-also"></a><span data-ttu-id="aa3d8-208">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="aa3d8-208">See also</span></span>

- <xref:System.ServiceModel.Channels.SecurityBindingElement>
- <xref:System.ServiceModel.Channels.TransportSecurityBindingElement>
- <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>
- <xref:System.ServiceModel.Channels.CustomBinding>
- [<span data-ttu-id="aa3d8-209">Estensione delle associazioni</span><span class="sxs-lookup"><span data-stu-id="aa3d8-209">Extending Bindings</span></span>](../../../../docs/framework/wcf/extending/extending-bindings.md)
- [<span data-ttu-id="aa3d8-210">Associazioni fornite dal sistema</span><span class="sxs-lookup"><span data-stu-id="aa3d8-210">System-Provided Bindings</span></span>](../../../../docs/framework/wcf/system-provided-bindings.md)
