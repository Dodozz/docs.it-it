---
title: Esportazione di metadati personalizzati per un'estensione WCF
ms.date: 03/30/2017
ms.assetid: 53c93882-f8ba-4192-965b-787b5e3f09c0
ms.openlocfilehash: 5134b57c59268b139239021bc2b4f6f4538ad27d
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/23/2019
ms.locfileid: "61857961"
---
# <a name="exporting-custom-metadata-for-a-wcf-extension"></a><span data-ttu-id="f844e-102">Esportazione di metadati personalizzati per un'estensione WCF</span><span class="sxs-lookup"><span data-stu-id="f844e-102">Exporting Custom Metadata for a WCF Extension</span></span>
<span data-ttu-id="f844e-103">In Windows Communication Foundation (WCF), l'esportazione dei metadati è il processo di descrivere gli endpoint di servizio e quindi proiettarli in una rappresentazione parallela standardizzata che i client possono usare per comprendere come usare il servizio.</span><span class="sxs-lookup"><span data-stu-id="f844e-103">In Windows Communication Foundation (WCF), metadata export is the process of describing service endpoints and projecting them into a parallel, standardized representation that clients can use to understand how to use the service.</span></span> <span data-ttu-id="f844e-104">I metadati personalizzati sono costituiti da elementi XML non esportabili mediante le unità di esportazione dei metadati forniti dal sistema.</span><span class="sxs-lookup"><span data-stu-id="f844e-104">Custom metadata consists of XML elements that the system-provided metadata exporters cannot export.</span></span> <span data-ttu-id="f844e-105">Questi metadati comprendono in genere elementi WSDL personalizzati di elementi di comportamenti e associazioni definiti dall'utente nonché asserzioni di criteri personalizzate relative alle funzionalità e ai requisiti di associazioni e contratti.</span><span class="sxs-lookup"><span data-stu-id="f844e-105">Typically, this includes custom WSDL elements for user-defined behaviors and binding elements and policy assertions about the capabilities and requirements of bindings and contracts.</span></span>  
  
 <span data-ttu-id="f844e-106">Questa sezione descrive come esportare elementi WSDL o asserzioni di criteri personalizzati, senza tuttavia trattare il processo di esportazione in sé.</span><span class="sxs-lookup"><span data-stu-id="f844e-106">This section describes exporting custom WSDL or policy assertions, and does not focus on the exporting process itself.</span></span> <span data-ttu-id="f844e-107">Per altre informazioni su come usare i tipi che esportano e importano metadati indipendentemente dal fatto i metadati sono personalizzate o costruito sistema, vedere [esportazione e importazione di metadati](../../../../docs/framework/wcf/feature-details/exporting-and-importing-metadata.md).</span><span class="sxs-lookup"><span data-stu-id="f844e-107">For more information about how to use the types that export and import metadata regardless of whether the metadata is custom or system-constructed, see [Exporting and Importing Metadata](../../../../docs/framework/wcf/feature-details/exporting-and-importing-metadata.md).</span></span>  
  
## <a name="overview"></a><span data-ttu-id="f844e-108">Panoramica</span><span class="sxs-lookup"><span data-stu-id="f844e-108">Overview</span></span>  
 <span data-ttu-id="f844e-109">Quando i metadati viene pubblicato tramite il <xref:System.ServiceModel.Description.ServiceMetadataBehavior?displayProperty=nameWithType>, il <xref:System.ServiceModel.Description.ServiceDescription?displayProperty=nameWithType> viene esaminato e XSD e WSDL, comprese le asserzioni di criteri, vengono generati per tutti i contratti e associazioni in grado di supportare utilizzando attributi forniti dal sistema e le associazioni WCF.</span><span class="sxs-lookup"><span data-stu-id="f844e-109">When metadata is published using the <xref:System.ServiceModel.Description.ServiceMetadataBehavior?displayProperty=nameWithType>, the <xref:System.ServiceModel.Description.ServiceDescription?displayProperty=nameWithType> is examined and XSD and WSDL -- including policy assertions -- are generated for all contracts and bindings that WCF can support using system-provided attributes and bindings.</span></span> <span data-ttu-id="f844e-110">Tuttavia, l'esportazione degli elementi relativi agli attributi e alle associazioni aventi un comportamento personalizzato richiede un supporto specifico.</span><span class="sxs-lookup"><span data-stu-id="f844e-110">However, custom behavior attributes or binding elements require support before they can be exported properly.</span></span>  
  
 <span data-ttu-id="f844e-111">Contenuto della sezione sono descritti gli argomenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="f844e-111">This section describes:</span></span>  
  
1. <span data-ttu-id="f844e-112">Come implementare e utilizzare l'interfaccia <xref:System.ServiceModel.Description.IWsdlExportExtension?displayProperty=nameWithType> che espone all'utente i dati da generare in WSDL prima di pubblicarli.</span><span class="sxs-lookup"><span data-stu-id="f844e-112">How to implement and use the <xref:System.ServiceModel.Description.IWsdlExportExtension?displayProperty=nameWithType> interface, which exposes the WSDL generation data to you prior to publishing the WSDL.</span></span>  
  
2. <span data-ttu-id="f844e-113">Come implementare e utilizzare l'interfaccia <xref:System.ServiceModel.Description.IPolicyExportExtension?displayProperty=nameWithType> che espone all'utente i dati dei criteri prima di esportare le asserzioni di criteri nei dati WSDL.</span><span class="sxs-lookup"><span data-stu-id="f844e-113">How to implement and use the <xref:System.ServiceModel.Description.IPolicyExportExtension?displayProperty=nameWithType> interface, which exposes the policy data to you prior to exporting the policy assertions in WSDL data.</span></span>  
  
 <span data-ttu-id="f844e-114">Per altre informazioni sull'importazione di asserzioni di criteri e WSDL personalizzata, vedere [importazione di metadati personalizzati per un'estensione WCF](../../../../docs/framework/wcf/extending/importing-custom-metadata-for-a-wcf-extension.md).</span><span class="sxs-lookup"><span data-stu-id="f844e-114">For more information about importing custom WSDL and policy assertions, see [Importing Custom Metadata for a WCF Extension](../../../../docs/framework/wcf/extending/importing-custom-metadata-for-a-wcf-extension.md).</span></span>  
  
## <a name="exporting-custom-wsdl-elements"></a><span data-ttu-id="f844e-115">Esportazione di elementi WSDL personalizzati</span><span class="sxs-lookup"><span data-stu-id="f844e-115">Exporting Custom WSDL Elements</span></span>  
 <span data-ttu-id="f844e-116">Implementare l'interfaccia <xref:System.ServiceModel.Description.IWsdlExportExtension> in un comportamento di operazione, contratto, endpoint o elemento di associazione (rispettivamente <xref:System.ServiceModel.Description.IOperationBehavior>, <xref:System.ServiceModel.Description.IContractBehavior>, <xref:System.ServiceModel.Description.IEndpointBehavior> o <xref:System.ServiceModel.Channels.BindingElement?displayProperty=nameWithType>) e aggiungere i comportamenti o gli elementi di associazione nella descrizione del servizio da esportare.</span><span class="sxs-lookup"><span data-stu-id="f844e-116">Implement the <xref:System.ServiceModel.Description.IWsdlExportExtension> on an operation behavior, contract behavior, endpoint behavior or binding element (<xref:System.ServiceModel.Description.IOperationBehavior>, <xref:System.ServiceModel.Description.IContractBehavior>, <xref:System.ServiceModel.Description.IEndpointBehavior>, or <xref:System.ServiceModel.Channels.BindingElement?displayProperty=nameWithType> respectively) and insert the behaviors or binding elements into the description of the service that you are trying to export.</span></span> <span data-ttu-id="f844e-117">(Per altre informazioni sull'aggiunta di comportamenti, vedere [configurazione ed estensione del Runtime dei comportamenti](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md)).</span><span class="sxs-lookup"><span data-stu-id="f844e-117">(For more information about inserting behaviors, see [Configuring and Extending the Runtime with Behaviors](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md)).</span></span> <span data-ttu-id="f844e-118">L'interfaccia <xref:System.ServiceModel.Description.IWsdlExportExtension> viene chiamata per ogni endpoint, che quindi esporta il contratto a meno che non sia stato già esportato.</span><span class="sxs-lookup"><span data-stu-id="f844e-118">The <xref:System.ServiceModel.Description.IWsdlExportExtension> is called for each endpoint and each endpoint exports the contract first if it has not already been exported.</span></span> <span data-ttu-id="f844e-119">A seconda delle proprie esigenze, è possibile ricorrere a uno dei due processi di esportazione:</span><span class="sxs-lookup"><span data-stu-id="f844e-119">You can participate in either export process, depending upon your needs:</span></span>  
  
-   <span data-ttu-id="f844e-120">Utilizzare il contesto <xref:System.ServiceModel.Description.WsdlContractConversionContext> per modificare i metadati esportati tramite il metodo <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportContract%2A>.</span><span class="sxs-lookup"><span data-stu-id="f844e-120">Use the <xref:System.ServiceModel.Description.WsdlContractConversionContext> to modify the exported metadata in the <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportContract%2A> method.</span></span>  
  
-   <span data-ttu-id="f844e-121">Utilizzare il contesto <xref:System.ServiceModel.Description.WsdlEndpointConversionContext> per modificare i metadati dell'endpoint esportati tramite il metodo <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportEndpoint%2A>.</span><span class="sxs-lookup"><span data-stu-id="f844e-121">Use the <xref:System.ServiceModel.Description.WsdlEndpointConversionContext> to modify the exported metadata for the endpoint in the <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportEndpoint%2A> method.</span></span>  
  
 <span data-ttu-id="f844e-122">Il metodo <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportContract%2A> viene chiamato in tutte le implementazioni dell'interfaccia <xref:System.ServiceModel.Description.IWsdlExportExtension> all'interno dell'istanza della descrizione <xref:System.ServiceModel.Description.ContractDescription?displayProperty=nameWithType> da esportare.</span><span class="sxs-lookup"><span data-stu-id="f844e-122">The <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportContract%2A> method is called on all <xref:System.ServiceModel.Description.IWsdlExportExtension> implementations within the <xref:System.ServiceModel.Description.ContractDescription?displayProperty=nameWithType> instance that is being exported.</span></span>  <span data-ttu-id="f844e-123">Il metodo <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportEndpoint%2A> viene chiamato in tutte le implementazioni dell'interfaccia <xref:System.ServiceModel.Description.IWsdlExportExtension> all'interno dell'istanza della descrizione <xref:System.ServiceModel.Description.ServiceEndpoint?displayProperty=nameWithType> da esportare.</span><span class="sxs-lookup"><span data-stu-id="f844e-123">The <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportEndpoint%2A> method is called on all <xref:System.ServiceModel.Description.IWsdlExportExtension> implementations with the <xref:System.ServiceModel.Description.ServiceEndpoint?displayProperty=nameWithType> instance that is being exported.</span></span>  
  
 <span data-ttu-id="f844e-124">Per altre informazioni, vedere [Procedura: Esportazione WSDL personalizzato](../../../../docs/framework/wcf/extending/how-to-export-custom-wsdl.md) e il codice di esempio [pubblicazione WSDL personalizzata](../../../../docs/framework/wcf/samples/custom-wsdl-publication.md).</span><span class="sxs-lookup"><span data-stu-id="f844e-124">For more information, see [How to: Export Custom WSDL](../../../../docs/framework/wcf/extending/how-to-export-custom-wsdl.md) and the sample [Custom WSDL Publication](../../../../docs/framework/wcf/samples/custom-wsdl-publication.md).</span></span>  
  
## <a name="exporting-custom-policy-assertions"></a><span data-ttu-id="f844e-125">Esportazione di asserzioni di criteri personalizzati</span><span class="sxs-lookup"><span data-stu-id="f844e-125">Exporting Custom Policy Assertions</span></span>  
 <span data-ttu-id="f844e-126">Per scrivere asserzioni di criteri personalizzate relative al supporto delle associazioni e alle funzionalità di contratto nel codice WSDL, implementare l'interfaccia <xref:System.ServiceModel.Description.IPolicyExportExtension> in un elemento <xref:System.ServiceModel.Channels.BindingElement> e aggiungere l'elemento di associazione all'associazione.</span><span class="sxs-lookup"><span data-stu-id="f844e-126">Implement the <xref:System.ServiceModel.Description.IPolicyExportExtension> on a <xref:System.ServiceModel.Channels.BindingElement> and add the binding element to the binding to write custom policy assertions about binding support and contract capabilities into the WSDL.</span></span> <span data-ttu-id="f844e-127">L'interfaccia, <xref:System.ServiceModel.Description.IPolicyExportExtension> dopo essere stata chiamata una volta durante l'esportazione dell'elemento di associazione implementato contenuto in un'associazione, passa il contesto <xref:System.ServiceModel.Description.PolicyConversionContext> al metodo <xref:System.ServiceModel.Description.IPolicyExportExtension.ExportPolicy%2A>.</span><span class="sxs-lookup"><span data-stu-id="f844e-127">The <xref:System.ServiceModel.Description.IPolicyExportExtension> is called once when exporting the implemented binding element in a binding and passes the <xref:System.ServiceModel.Description.PolicyConversionContext> to the <xref:System.ServiceModel.Description.IPolicyExportExtension.ExportPolicy%2A> method.</span></span> <span data-ttu-id="f844e-128">È possibile utilizzare i metodi dell'istanza del contesto <xref:System.ServiceModel.Description.PolicyConversionContext> per aggiungere elementi alle asserzioni di criteri allegate ai soggetti di messaggio, operazione o endpoint dell'associazione WSDL.</span><span class="sxs-lookup"><span data-stu-id="f844e-128">You can use the methods on the <xref:System.ServiceModel.Description.PolicyConversionContext> instance to add to the policy assertions attached to the WSDL binding at the message, operation or endpoint subjects.</span></span>  
  
 <span data-ttu-id="f844e-129">Per altre informazioni, vedere [Procedura: Esporta asserzioni di criteri personalizzate](../../../../docs/framework/wcf/extending/how-to-export-custom-policy-assertions.md).</span><span class="sxs-lookup"><span data-stu-id="f844e-129">For more information, see [How to: Export Custom Policy Assertions](../../../../docs/framework/wcf/extending/how-to-export-custom-policy-assertions.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f844e-130">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="f844e-130">See also</span></span>

- [<span data-ttu-id="f844e-131">Procedura: Esportare informazioni WSDL personalizzate</span><span class="sxs-lookup"><span data-stu-id="f844e-131">How to: Export Custom WSDL</span></span>](../../../../docs/framework/wcf/extending/how-to-export-custom-wsdl.md)
- [<span data-ttu-id="f844e-132">Procedura: Esporta asserzioni di criteri personalizzate</span><span class="sxs-lookup"><span data-stu-id="f844e-132">How to: Export Custom Policy Assertions</span></span>](../../../../docs/framework/wcf/extending/how-to-export-custom-policy-assertions.md)
- [<span data-ttu-id="f844e-133">Importazione di metadati personalizzati per un'estensione WCF</span><span class="sxs-lookup"><span data-stu-id="f844e-133">Importing Custom Metadata for a WCF Extension</span></span>](../../../../docs/framework/wcf/extending/importing-custom-metadata-for-a-wcf-extension.md)
