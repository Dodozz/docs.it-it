---
title: Controllo delle versioni del servizio dati (WCF Data Services)
ms.date: 03/30/2017
helpviewer_keywords:
- versioning, WCF Data Services
- versioning [WCF Data Services]
- WCF Data Services, versioning
ms.assetid: e3e899cc-7f25-4f67-958f-063f01f79766
ms.openlocfilehash: fd3be8a60048b10bbd94ac5b3bfadaee954943ef
ms.sourcegitcommit: c7a7e1468bf0fa7f7065de951d60dfc8d5ba89f5
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/14/2019
ms.locfileid: "65583594"
---
# <a name="data-service-versioning-wcf-data-services"></a><span data-ttu-id="a2504-102">Controllo delle versioni del servizio dati (WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="a2504-102">Data Service Versioning (WCF Data Services)</span></span>
<span data-ttu-id="a2504-103">Il [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] consente di creare servizi dati in modo che i client possono accedere ai dati come risorse usando URI basati su un modello di dati.</span><span class="sxs-lookup"><span data-stu-id="a2504-103">The [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] enables you to create data services so that clients can access data as resources using URIs that are based on a data model.</span></span> <span data-ttu-id="a2504-104">OData supporta anche la definizione di operazioni del servizio.</span><span class="sxs-lookup"><span data-stu-id="a2504-104">OData also supports the definition of service operations.</span></span> <span data-ttu-id="a2504-105">Dopo la distribuzione iniziale e, potenzialmente, più volte durante il loro ciclo di vita, potrebbe essere necessario cambiare questi servizi dati per molteplici ragioni, ad esempio perché cambiano le esigenze aziendali, i requisiti IT o per risolvere altri problemi.</span><span class="sxs-lookup"><span data-stu-id="a2504-105">After initial deployment, and potentially several times during their lifetime, these data services may need to be changed for a variety of reasons, such as changing business needs, information technology requirements, or to address other issues.</span></span> <span data-ttu-id="a2504-106">Quando si apportano modifiche a un servizio dati esistente, è necessario valutare se definire una nuova versione del servizio dati e il modo migliore per ridurre l'impatto sulle applicazioni client esistenti.</span><span class="sxs-lookup"><span data-stu-id="a2504-106">When you make changes to an existing data service, you must consider whether to define a new version of your data service and how best to minimize the impact on existing client applications.</span></span> <span data-ttu-id="a2504-107">In questo argomento vengono fornite informazioni su quando e come creare una nuova versione di un servizio dati.</span><span class="sxs-lookup"><span data-stu-id="a2504-107">This topic provides guidance on when and how to create a new version of a data service.</span></span> <span data-ttu-id="a2504-108">Viene inoltre descritto il modo in cui WCF Data Services gestisce uno scambio tra client e servizi dati che supportano versioni diverse del protocollo OData.</span><span class="sxs-lookup"><span data-stu-id="a2504-108">It also describes how WCF Data Services handles an exchange between clients and data services that support different versions of the OData protocol.</span></span>

## <a name="versioning-a-wcf-data-service"></a><span data-ttu-id="a2504-109">Controllo delle versioni di un'istanza di WCF Data Services</span><span class="sxs-lookup"><span data-stu-id="a2504-109">Versioning a WCF Data Service</span></span>
 <span data-ttu-id="a2504-110">Una volta che un servizio dati viene distribuito e i dati vengono usati, le modifiche apportate al servizio dati potrebbero provocare problemi di compatibilità con le applicazioni client esistenti.</span><span class="sxs-lookup"><span data-stu-id="a2504-110">Once a data service is deployed and the data is being consumed, changes to the data service have the potential to cause compatibility issues with existing client applications.</span></span> <span data-ttu-id="a2504-111">Tuttavia, perché le modifiche spesso sono richieste dalle esigenze aziendali complessive relative al servizio, è necessario considerare quando e come creare una nuova versione del servizio dati con il minimo impatto sulle applicazioni client.</span><span class="sxs-lookup"><span data-stu-id="a2504-111">However, because changes are often required by the overall business needs of the service, you must consider when and how to create a new version of your data service with the least impact on client applications.</span></span>

### <a name="data-model-changes-that-recommend-a-new-data-service-version"></a><span data-ttu-id="a2504-112">Modifiche al modello di dati per cui è consigliabile usare una nuova versione del servizio dati</span><span class="sxs-lookup"><span data-stu-id="a2504-112">Data Model Changes that Recommend a New Data Service Version</span></span>
 <span data-ttu-id="a2504-113">Quando si valuta se pubblicare una nuova versione di un servizio dati, è importante capire come i tipi diversi di modifiche possano influire sulle applicazioni client.</span><span class="sxs-lookup"><span data-stu-id="a2504-113">When considering whether to publish a new version of a data service, it is important to understand how the different kinds of changes may affect client applications.</span></span> <span data-ttu-id="a2504-114">Le modifiche a un servizio dati che potrebbero richiedere la creazione di una nuova versione di un servizio dati possono essere divise nelle due categorie seguenti:</span><span class="sxs-lookup"><span data-stu-id="a2504-114">Changes to a data service that might require you to create a new version of a data service can be divided into the following two categories:</span></span>

- <span data-ttu-id="a2504-115">Modifiche al contratto del servizio, ossia aggiornamenti alle operazioni del servizio e all'accessibilità di set di entità (feed), modifiche alle versioni e altre modifiche ai comportamenti del servizio.</span><span class="sxs-lookup"><span data-stu-id="a2504-115">Changes to the service contract—which include updates to service operations, changes to the accessibility of entity sets (feeds), version changes, and other changes to service behaviors.</span></span>

- <span data-ttu-id="a2504-116">Modifiche al contratto dati, ossia modifiche al modello di dati o ai formati o alle personalizzazioni di feed.</span><span class="sxs-lookup"><span data-stu-id="a2504-116">Changes to the data contract—which include changes to the data model, feed formats, or feed customizations.</span></span>

 <span data-ttu-id="a2504-117">Nella tabella seguente sono contenute informazioni dettagliate sui tipi di modifiche che è necessario valutare per pubblicare una nuova versione del servizio dati:</span><span class="sxs-lookup"><span data-stu-id="a2504-117">The following table details for which kinds of changes you should consider publishing a new version of the data service:</span></span>

|<span data-ttu-id="a2504-118">Tipo di modifica</span><span class="sxs-lookup"><span data-stu-id="a2504-118">Type of Change</span></span>|<span data-ttu-id="a2504-119">Nuova versione richiesta</span><span class="sxs-lookup"><span data-stu-id="a2504-119">Requires a new version</span></span>|<span data-ttu-id="a2504-120">Nuova versione non necessaria</span><span class="sxs-lookup"><span data-stu-id="a2504-120">New version not needed</span></span>|
|--------------------|----------------------------|----------------------------|
|<span data-ttu-id="a2504-121">Operazioni di servizio</span><span class="sxs-lookup"><span data-stu-id="a2504-121">Service operations</span></span>|<span data-ttu-id="a2504-122">-Aggiungi nuovo parametro</span><span class="sxs-lookup"><span data-stu-id="a2504-122">-   Add new parameter</span></span><br /><span data-ttu-id="a2504-123">-Modificare il tipo restituito</span><span class="sxs-lookup"><span data-stu-id="a2504-123">-   Change return type</span></span><br /><span data-ttu-id="a2504-124">-Operazione di rimozione del servizio</span><span class="sxs-lookup"><span data-stu-id="a2504-124">-   Remove service operation</span></span>|<span data-ttu-id="a2504-125">-Eliminare un parametro esistente</span><span class="sxs-lookup"><span data-stu-id="a2504-125">-   Delete existing parameter</span></span><br /><span data-ttu-id="a2504-126">-Aggiungi nuova operazione del servizio</span><span class="sxs-lookup"><span data-stu-id="a2504-126">-   Add new service operation</span></span>|
|<span data-ttu-id="a2504-127">Comportamenti del servizio</span><span class="sxs-lookup"><span data-stu-id="a2504-127">Service behaviors</span></span>|<span data-ttu-id="a2504-128">-Disabilitare le richieste di conteggio</span><span class="sxs-lookup"><span data-stu-id="a2504-128">-   Disable count requests</span></span><br /><span data-ttu-id="a2504-129">-Disabilitare il supporto della proiezione</span><span class="sxs-lookup"><span data-stu-id="a2504-129">-   Disable projection support</span></span><br /><span data-ttu-id="a2504-130">-Incrementare la versione del servizio dati richiesta</span><span class="sxs-lookup"><span data-stu-id="a2504-130">-   Increase the required data service version</span></span>|<span data-ttu-id="a2504-131">-Abilitare le richieste di conteggio</span><span class="sxs-lookup"><span data-stu-id="a2504-131">-   Enable count requests</span></span><br /><span data-ttu-id="a2504-132">-Abilitare il supporto di proiezione</span><span class="sxs-lookup"><span data-stu-id="a2504-132">-   Enable projection support</span></span><br /><span data-ttu-id="a2504-133">-Ridurre la versione del servizio dati richiesta</span><span class="sxs-lookup"><span data-stu-id="a2504-133">-   Decrease the required data service version</span></span>|
|<span data-ttu-id="a2504-134">Autorizzazioni del set di entità</span><span class="sxs-lookup"><span data-stu-id="a2504-134">Entity set permissions</span></span>|<span data-ttu-id="a2504-135">-Limita le autorizzazioni del set di entità</span><span class="sxs-lookup"><span data-stu-id="a2504-135">-   Restrict entity set permissions</span></span><br /><span data-ttu-id="a2504-136">-Modificare il codice di risposta (nuovo valore della prima cifra) <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="a2504-136">-   Change response code (new first digit value) <sup>1</sup></span></span>|<span data-ttu-id="a2504-137">-Ridurre le autorizzazioni del set di entità</span><span class="sxs-lookup"><span data-stu-id="a2504-137">-   Relax entity set permissions</span></span><br /><span data-ttu-id="a2504-138">-Modificare il codice di risposta (stesso valore della prima cifra)</span><span class="sxs-lookup"><span data-stu-id="a2504-138">-   Change response code (same first digit value)</span></span>|
|<span data-ttu-id="a2504-139">Proprietà delle entità</span><span class="sxs-lookup"><span data-stu-id="a2504-139">Entity properties</span></span>|<span data-ttu-id="a2504-140">-Rimuovi proprietà esistente o relazioni</span><span class="sxs-lookup"><span data-stu-id="a2504-140">-   Remove existing property or relationship</span></span><br /><span data-ttu-id="a2504-141">-Aggiungere proprietà non nullable</span><span class="sxs-lookup"><span data-stu-id="a2504-141">-   Add non-nullable property</span></span><br /><span data-ttu-id="a2504-142">-Modificare una proprietà esistente</span><span class="sxs-lookup"><span data-stu-id="a2504-142">-   Change existing property</span></span>|<span data-ttu-id="a2504-143">-Aggiungere proprietà nullable<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="a2504-143">-   Add nullable property<sup>2</sup></span></span>|
|<span data-ttu-id="a2504-144">Set di entità</span><span class="sxs-lookup"><span data-stu-id="a2504-144">Entity sets</span></span>|<span data-ttu-id="a2504-145">-Rimuovere i set di entità</span><span class="sxs-lookup"><span data-stu-id="a2504-145">-   Remove entity set</span></span>|<span data-ttu-id="a2504-146">-Aggiungere un tipo derivato</span><span class="sxs-lookup"><span data-stu-id="a2504-146">-   Add derived type</span></span><br /><span data-ttu-id="a2504-147">: Cambia tipo di base</span><span class="sxs-lookup"><span data-stu-id="a2504-147">-   Change base type</span></span><br /><span data-ttu-id="a2504-148">-Aggiungere set di entità</span><span class="sxs-lookup"><span data-stu-id="a2504-148">-   Add entity set</span></span>|
|<span data-ttu-id="a2504-149">Personalizzazione di feed</span><span class="sxs-lookup"><span data-stu-id="a2504-149">Feed customization</span></span>|<span data-ttu-id="a2504-150">-Modificare il mapping di proprietà di entità</span><span class="sxs-lookup"><span data-stu-id="a2504-150">-   Change entity-property mapping</span></span>||

 <span data-ttu-id="a2504-151"><sup>1</sup> può dipendere severità con cui un'applicazione client si basa sul ricevimento un codice di errore specifico.</span><span class="sxs-lookup"><span data-stu-id="a2504-151"><sup>1</sup> This may depend on how strictly a client application relies on receiving a specific error code.</span></span>

 <span data-ttu-id="a2504-152"><sup>2</sup> è possibile impostare il <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> proprietà `true` affinché il client ignori qualsiasi nuova proprietà inviata dal servizio dati che non sono definite nel client.</span><span class="sxs-lookup"><span data-stu-id="a2504-152"><sup>2</sup> You can set the <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> property to `true` to have the client ignore any new properties sent by the data service that are not defined on the client.</span></span> <span data-ttu-id="a2504-153">Tuttavia, quando vengono eseguiti inserimenti, le proprietà non incluse dal client nella richiesta POST vengono impostate sui valori predefiniti.</span><span class="sxs-lookup"><span data-stu-id="a2504-153">However, when inserts are made, the properties not included by the client in the POST request are set to their default values.</span></span> <span data-ttu-id="a2504-154">Per gli aggiornamenti, qualsiasi dato esistente in una proprietà sconosciuto al client potrebbe essere sovrascritto da valori predefiniti.</span><span class="sxs-lookup"><span data-stu-id="a2504-154">For updates, any existing data in a property unknown to the client might be overwritten with default values.</span></span> <span data-ttu-id="a2504-155">In questo caso, è necessario inviare l'aggiornamento come una richiesta MERGE (impostazione predefinita).</span><span class="sxs-lookup"><span data-stu-id="a2504-155">In this case, you should send the update as a MERGE request, which is the default.</span></span> <span data-ttu-id="a2504-156">Per altre informazioni, vedere [gestione del contesto del servizio dati](../../../../docs/framework/data/wcf/managing-the-data-service-context-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="a2504-156">For more information, see [Managing the Data Service Context](../../../../docs/framework/data/wcf/managing-the-data-service-context-wcf-data-services.md).</span></span>

### <a name="how-to-version-a-data-service"></a><span data-ttu-id="a2504-157">Come controllare le versioni di un servizio dati</span><span class="sxs-lookup"><span data-stu-id="a2504-157">How to Version a Data Service</span></span>
 <span data-ttu-id="a2504-158">Se necessario, una nuova versione del servizio dati viene definita creando una nuova istanza del servizio con un contratto di servizio o un modello di dati aggiornato.</span><span class="sxs-lookup"><span data-stu-id="a2504-158">When required, a new data service version is defined by creating a new instance of the service with an updated service contract or data model.</span></span> <span data-ttu-id="a2504-159">Questo nuovo servizio viene quindi esposto tramite un nuovo endpoint dell'URI che lo differenzia dalla versione precedente.</span><span class="sxs-lookup"><span data-stu-id="a2504-159">This new service is then exposed by using a new URI endpoint, which differentiates it from the previous version.</span></span> <span data-ttu-id="a2504-160">Ad esempio:</span><span class="sxs-lookup"><span data-stu-id="a2504-160">For example:</span></span>

- <span data-ttu-id="a2504-161">Versione obsoleta: `http://services.odata.org/Northwind/v1/Northwind.svc/`</span><span class="sxs-lookup"><span data-stu-id="a2504-161">Old version: `http://services.odata.org/Northwind/v1/Northwind.svc/`</span></span>

- <span data-ttu-id="a2504-162">Nuova versione: `http://services.odata.org/Northwind/v2/Northwind.svc/`</span><span class="sxs-lookup"><span data-stu-id="a2504-162">New version: `http://services.odata.org/Northwind/v2/Northwind.svc/`</span></span>

 <span data-ttu-id="a2504-163">Quando si aggiorna un servizio dati, sarà necessario inoltre aggiornare i client in base ai nuovi metadati del servizio dati e usare il nuovo URI radice.</span><span class="sxs-lookup"><span data-stu-id="a2504-163">When upgrading a data service, clients will need to also be updated based on the new data service metadata and to use the new root URI.</span></span> <span data-ttu-id="a2504-164">Quando possibile, è necessario gestire la versione precedente del servizio dati per supportare i client non ancora aggiornati per usare la nuova versione.</span><span class="sxs-lookup"><span data-stu-id="a2504-164">When possible, you should maintain the previous version of the data service to support clients that have not yet been upgraded to use the new version.</span></span> <span data-ttu-id="a2504-165">Quando non sono più necessarie, le versioni precedenti di un servizio dati possono essere rimosse.</span><span class="sxs-lookup"><span data-stu-id="a2504-165">Older versions of a data service can be removed when they are no longer needed.</span></span> <span data-ttu-id="a2504-166">È opportuno valutare la gestione dell'URI dell'endpoint del servizio dati in file di configurazione esterno.</span><span class="sxs-lookup"><span data-stu-id="a2504-166">You should consider maintaining the data service endpoint URI in an external configuration file.</span></span>

## <a name="odata-protocol-versions"></a><span data-ttu-id="a2504-167">Versioni del protocollo OData</span><span class="sxs-lookup"><span data-stu-id="a2504-167">OData Protocol Versions</span></span>
 <span data-ttu-id="a2504-168">Man mano che vengono rilasciate nuove versioni di OData, le applicazioni client non usi la stessa versione del protocollo OData supportata dal servizio dati.</span><span class="sxs-lookup"><span data-stu-id="a2504-168">As new versions of OData are released, client applications may not be using the same version of the OData protocol that is supported by the data service.</span></span> <span data-ttu-id="a2504-169">Un'applicazione client precedente può accedere a un servizio dati che supporta una versione più recente di OData.</span><span class="sxs-lookup"><span data-stu-id="a2504-169">An older client application may access a data service that supports a newer version of OData.</span></span> <span data-ttu-id="a2504-170">Un'applicazione client può anche usare una versione più recente della libreria client WCF Data Services, che supporta una versione più recente di OData che il servizio dati a cui si accede.</span><span class="sxs-lookup"><span data-stu-id="a2504-170">A client application may also be using a newer version of the WCF Data Services client library, which supports a newer version of OData than does the data service that is being accessed.</span></span>

 <span data-ttu-id="a2504-171">WCF Data Services sfrutta il supporto fornito da OData per gestire tali scenari di controllo delle versioni.</span><span class="sxs-lookup"><span data-stu-id="a2504-171">WCF Data Services leverages the support provided by OData to handle such versioning scenarios.</span></span> <span data-ttu-id="a2504-172">È inoltre disponibile il supporto per la generazione e con i metadati del modello dati per creare classi del servizio dati client quando il client utilizza una versione diversa di OData rispetto ai dati utilizzato dal servizio.</span><span class="sxs-lookup"><span data-stu-id="a2504-172">There is also support for generating and using data model metadata to create client data service classes when the client uses a different version of OData than the data service uses.</span></span> <span data-ttu-id="a2504-173">Per altre informazioni, vedere [OData: Controllo delle versioni del protocollo](https://go.microsoft.com/fwlink/?LinkId=186071).</span><span class="sxs-lookup"><span data-stu-id="a2504-173">For more information, see [OData: Protocol Versioning](https://go.microsoft.com/fwlink/?LinkId=186071).</span></span>

### <a name="version-negotiation"></a><span data-ttu-id="a2504-174">Negoziazione della versione</span><span class="sxs-lookup"><span data-stu-id="a2504-174">Version Negotiation</span></span>
 <span data-ttu-id="a2504-175">Il servizio dati può essere configurato per definire la versione massima del protocollo OData che verrà usato dal servizio, indipendentemente dalla versione richiesta dal client.</span><span class="sxs-lookup"><span data-stu-id="a2504-175">The data service can be configured to define the highest version of the OData protocol that will be used by the service, regardless of the version requested by the client.</span></span> <span data-ttu-id="a2504-176">È possibile eseguire questa operazione specificando un <xref:System.Data.Services.Common.DataServiceProtocolVersion> valore per il <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> proprietà del <xref:System.Data.Services.DataServiceBehavior> usato dal servizio dati.</span><span class="sxs-lookup"><span data-stu-id="a2504-176">You can do this by specifying a <xref:System.Data.Services.Common.DataServiceProtocolVersion> value for the <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> property of the <xref:System.Data.Services.DataServiceBehavior> used by the data service.</span></span> <span data-ttu-id="a2504-177">Per altre informazioni, vedere [configurazione del servizio dati](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="a2504-177">For more information, see [Configuring the Data Service](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md).</span></span>

 <span data-ttu-id="a2504-178">Quando un'applicazione utilizza le librerie client di WCF Data Services per accedere a un servizio dati, le librerie di queste intestazioni viene impostato automaticamente per i valori corretti, a seconda della versione di OData e le funzionalità che vengono usate nell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="a2504-178">When an application uses the WCF Data Services client libraries to access a data service, the libraries automatically set these headers to the correct values, depending on the version of OData and the features that are used in your application.</span></span> <span data-ttu-id="a2504-179">Per impostazione predefinita, WCF Data Services utilizza la versione minima del protocollo che supporta l'operazione richiesta.</span><span class="sxs-lookup"><span data-stu-id="a2504-179">By default, WCF Data Services uses the lowest protocol version that supports the requested operation.</span></span>

 <span data-ttu-id="a2504-180">Nella tabella seguente illustra in dettaglio le versioni di .NET Framework e [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] che includono il supporto di WCF Data Services per versioni specifiche del protocollo OData.</span><span class="sxs-lookup"><span data-stu-id="a2504-180">The following table details the versions of .NET Framework and [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] that include WCF Data Services support for specific versions of the OData protocol.</span></span>

|<span data-ttu-id="a2504-181">Versione del protocollo OData</span><span class="sxs-lookup"><span data-stu-id="a2504-181">OData Protocol Version</span></span>|<span data-ttu-id="a2504-182">Supporto introdotto in…</span><span class="sxs-lookup"><span data-stu-id="a2504-182">Support introduced in…</span></span>|
|-----------------------------------------------------------------------------------|----------------------------|
|<span data-ttu-id="a2504-183">Versione 1</span><span class="sxs-lookup"><span data-stu-id="a2504-183">Version 1</span></span>|<span data-ttu-id="a2504-184">-   [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)] Service Pack 1 (SP1)</span><span class="sxs-lookup"><span data-stu-id="a2504-184">-   [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)] Service Pack 1 (SP1)</span></span><br /><span data-ttu-id="a2504-185">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] versione 3</span><span class="sxs-lookup"><span data-stu-id="a2504-185">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] version 3</span></span>|
|<span data-ttu-id="a2504-186">Versione 2</span><span class="sxs-lookup"><span data-stu-id="a2504-186">Version 2</span></span>|-   [!INCLUDE[netfx40_long](../../../../includes/netfx40-long-md.md)]<br /><span data-ttu-id="a2504-187">-Un aggiornamento a [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)] SP1.</span><span class="sxs-lookup"><span data-stu-id="a2504-187">-   An update to [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)] SP1.</span></span> <span data-ttu-id="a2504-188">È possibile scaricare e installare l'aggiornamento dal [Microsoft Download Center](https://go.microsoft.com/fwlink/?LinkId=158125).</span><span class="sxs-lookup"><span data-stu-id="a2504-188">You can download and install the update from the [Microsoft Download Center](https://go.microsoft.com/fwlink/?LinkId=158125).</span></span><br /><span data-ttu-id="a2504-189">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] versione 4</span><span class="sxs-lookup"><span data-stu-id="a2504-189">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] version 4</span></span>|
|<span data-ttu-id="a2504-190">Versione 3</span><span class="sxs-lookup"><span data-stu-id="a2504-190">Version 3</span></span>|<span data-ttu-id="a2504-191">-È possibile scaricare e installare una versione non definitiva che supporta OData versione 3 dal [Microsoft Download Center](https://go.microsoft.com/fwlink/?LinkId=203885).</span><span class="sxs-lookup"><span data-stu-id="a2504-191">-   You can download and install a pre-release version that supports OData version 3 from the [Microsoft Download Center](https://go.microsoft.com/fwlink/?LinkId=203885).</span></span>|

### <a name="metadata-versions"></a><span data-ttu-id="a2504-192">Versioni di metadati</span><span class="sxs-lookup"><span data-stu-id="a2504-192">Metadata Versions</span></span>
 <span data-ttu-id="a2504-193">Per impostazione predefinita, WCF Data Services utilizza la versione 1.1 di CSDL per rappresentare un modello di dati.</span><span class="sxs-lookup"><span data-stu-id="a2504-193">By default, WCF Data Services uses version 1.1 of CSDL to represent a data model.</span></span> <span data-ttu-id="a2504-194">Questo comportamento viene applicato sempre nel caso di modelli di dati basati su un provider di reflection o un provider del servizio dati personalizzato.</span><span class="sxs-lookup"><span data-stu-id="a2504-194">This is always the case for data models that are based on either a reflection provider or a custom data service provider.</span></span> <span data-ttu-id="a2504-195">Tuttavia, quando il modello di dati è definito tramite [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)], viene restituita la stessa versione di CSDL usata da [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a2504-195">However, when the data model is defined by using the [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)], the version of CSDL returned is the same as the version that is used by the [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)].</span></span> <span data-ttu-id="a2504-196">La versione di CSDL è determinata dallo spazio dei nomi del [elemento Schema (CSDL)](/ef/ef6/modeling/designer/advanced/edmx/csdl-spec#schema-element-csdl).</span><span class="sxs-lookup"><span data-stu-id="a2504-196">The version of the CSDL is determined by the namespace of the [Schema element (CSDL)](/ef/ef6/modeling/designer/advanced/edmx/csdl-spec#schema-element-csdl).</span></span>

 <span data-ttu-id="a2504-197">L'elemento `DataServices` dei metadati restituiti contiene inoltre un attributo `DataServiceVersion` che corrisponde al valore dell'intestazione `DataServiceVersion` nel messaggio di risposta.</span><span class="sxs-lookup"><span data-stu-id="a2504-197">The `DataServices` element of the returned metadata also contains a `DataServiceVersion` attribute, which is the same value as the `DataServiceVersion` header in the response message.</span></span> <span data-ttu-id="a2504-198">Le applicazioni client, ad esempio la **Aggiungi riferimento al servizio** nella finestra di dialogo in Visual Studio, usare queste informazioni per generare classi del servizio dati client che funzionano correttamente con la versione di WCF Data Services che ospita il servizio dati.</span><span class="sxs-lookup"><span data-stu-id="a2504-198">Client applications, such as the **Add Service Reference** dialog box in Visual Studio, use this information to generate client data service classes that work correctly with the version of WCF Data Services that host the data service.</span></span> <span data-ttu-id="a2504-199">Per altre informazioni, vedere [OData: Controllo delle versioni del protocollo](https://go.microsoft.com/fwlink/?LinkId=186071).</span><span class="sxs-lookup"><span data-stu-id="a2504-199">For more information, see [OData: Protocol Versioning](https://go.microsoft.com/fwlink/?LinkId=186071).</span></span>

## <a name="see-also"></a><span data-ttu-id="a2504-200">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="a2504-200">See also</span></span>

- [<span data-ttu-id="a2504-201">Provider di servizi dati</span><span class="sxs-lookup"><span data-stu-id="a2504-201">Data Services Providers</span></span>](../../../../docs/framework/data/wcf/data-services-providers-wcf-data-services.md)
- [<span data-ttu-id="a2504-202">Definizione di WCF Data Services</span><span class="sxs-lookup"><span data-stu-id="a2504-202">Defining WCF Data Services</span></span>](../../../../docs/framework/data/wcf/defining-wcf-data-services.md)
