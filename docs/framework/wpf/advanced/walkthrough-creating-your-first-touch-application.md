---
title: 'Procedura dettagliata: creazione della prima applicazione a tocco'
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- creating a touch-sensitive application [WPF]
- touchscreen applications [WPF], creating
- touch-sensitive applications [WPF], creating
- creating a touchscreen application [WPF]
ms.assetid: d69e602e-9a25-4e24-950b-e89eaa2a906b
ms.openlocfilehash: 935999fd5ada93bedebb38462f9faa93b8ec923f
ms.sourcegitcommit: 2eb5ca4956231c1a0efd34b6a9cab6153a5438af
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/11/2018
ms.locfileid: "49086726"
---
# <a name="walkthrough-creating-your-first-touch-application"></a><span data-ttu-id="9b455-102">Procedura dettagliata: creazione della prima applicazione a tocco</span><span class="sxs-lookup"><span data-stu-id="9b455-102">Walkthrough: Creating Your First Touch Application</span></span>
[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="9b455-103">consente alle applicazioni rispondere al tocco.</span><span class="sxs-lookup"><span data-stu-id="9b455-103"> enables applications to respond to touch.</span></span> <span data-ttu-id="9b455-104">Ad esempio, è possibile interagire con un'applicazione utilizzando uno o più dita su un dispositivo sensibile al tocco, ad esempio un touchscreen che questa procedura dettagliata viene creata un'applicazione che consente all'utente di spostare, ridimensionare o ruotare un oggetto tramite tocco.</span><span class="sxs-lookup"><span data-stu-id="9b455-104">For example, you can interact with an application by using one or more fingers on a touch-sensitive device, such as a touchscreen This walkthrough creates an application that enables the user to move, resize, or rotate a single object by using touch.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="9b455-105">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="9b455-105">Prerequisites</span></span>  
 <span data-ttu-id="9b455-106">Per completare la procedura dettagliata, è necessario disporre dei componenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="9b455-106">You need the following components to complete this walkthrough:</span></span>  
  
-   <span data-ttu-id="9b455-107">Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="9b455-107">Visual Studio.</span></span>  
  
-   <span data-ttu-id="9b455-108">Un dispositivo che accetta un input tocco, ad esempio un touchscreen, che supporta Windows Touch.</span><span class="sxs-lookup"><span data-stu-id="9b455-108">A device that accepts touch input, such as a touchscreen, that supports Windows Touch.</span></span>  
  
 <span data-ttu-id="9b455-109">Inoltre, si deve avere una conoscenza di base di come creare un'applicazione in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], in particolare la modalità sottoscrivere e gestire un evento.</span><span class="sxs-lookup"><span data-stu-id="9b455-109">Additionally, you should have a basic understanding of how to create an application in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], especially how to subscribe to and handle an event.</span></span> <span data-ttu-id="9b455-110">Per altre informazioni, vedere [Procedura dettagliata: La prima applicazione desktop WPF](../../../../docs/framework/wpf/getting-started/walkthrough-my-first-wpf-desktop-application.md).</span><span class="sxs-lookup"><span data-stu-id="9b455-110">For more information, see [Walkthrough: My first WPF desktop application](../../../../docs/framework/wpf/getting-started/walkthrough-my-first-wpf-desktop-application.md).</span></span>  
  
## <a name="creating-the-application"></a><span data-ttu-id="9b455-111">Creare l'applicazione</span><span class="sxs-lookup"><span data-stu-id="9b455-111">Creating the Application</span></span>  
  
#### <a name="to-create-the-application"></a><span data-ttu-id="9b455-112">Per creare l'applicazione</span><span class="sxs-lookup"><span data-stu-id="9b455-112">To create the application</span></span>  
  
1.  <span data-ttu-id="9b455-113">Creare un nuovo progetto di applicazione WPF in Visual Basic o Visual C# denominato `BasicManipulation`.</span><span class="sxs-lookup"><span data-stu-id="9b455-113">Create a new WPF Application project in Visual Basic or Visual C# named `BasicManipulation`.</span></span> <span data-ttu-id="9b455-114">Per altre informazioni, vedere [Procedura: Creare un nuovo progetto di applicazione WPF](https://msdn.microsoft.com/library/1f6aea7a-33e1-4d3f-8555-1daa42e95d82).</span><span class="sxs-lookup"><span data-stu-id="9b455-114">For more information, see [How to: Create a New WPF Application Project](https://msdn.microsoft.com/library/1f6aea7a-33e1-4d3f-8555-1daa42e95d82).</span></span>  
  
2.  <span data-ttu-id="9b455-115">Sostituire il contenuto del file MainWindow. XAML con il XAML seguente.</span><span class="sxs-lookup"><span data-stu-id="9b455-115">Replace the contents of MainWindow.xaml with the following XAML.</span></span>  
  
     <span data-ttu-id="9b455-116">Questo codice crea un'applicazione semplice che contiene una linea rossa <xref:System.Windows.Shapes.Rectangle> su un <xref:System.Windows.Controls.Canvas>.</span><span class="sxs-lookup"><span data-stu-id="9b455-116">This markup creates a simple application that contains a red <xref:System.Windows.Shapes.Rectangle> on a <xref:System.Windows.Controls.Canvas>.</span></span> <span data-ttu-id="9b455-117">Il <xref:System.Windows.UIElement.IsManipulationEnabled%2A> proprietà del <xref:System.Windows.Shapes.Rectangle> è impostato su true in modo che possa ricevere gli eventi di manipolazione.</span><span class="sxs-lookup"><span data-stu-id="9b455-117">The <xref:System.Windows.UIElement.IsManipulationEnabled%2A> property of the <xref:System.Windows.Shapes.Rectangle> is set to true so that it will receive manipulation events.</span></span> <span data-ttu-id="9b455-118">L'applicazione sottoscrive il <xref:System.Windows.UIElement.ManipulationStarting>, <xref:System.Windows.UIElement.ManipulationDelta>, e <xref:System.Windows.UIElement.ManipulationInertiaStarting> eventi.</span><span class="sxs-lookup"><span data-stu-id="9b455-118">The application subscribes to the <xref:System.Windows.UIElement.ManipulationStarting>, <xref:System.Windows.UIElement.ManipulationDelta>, and <xref:System.Windows.UIElement.ManipulationInertiaStarting> events.</span></span> <span data-ttu-id="9b455-119">Questi eventi contengono la logica per spostare il <xref:System.Windows.Shapes.Rectangle> quando l'utente lo modifica.</span><span class="sxs-lookup"><span data-stu-id="9b455-119">These events contain the logic to move the <xref:System.Windows.Shapes.Rectangle> when the user manipulates it.</span></span>  
  
     [!code-xaml[BasicManipulation#UI](../../../../samples/snippets/csharp/VS_Snippets_Wpf/basicmanipulation/csharp/mainwindow.xaml#ui)]  
  
3.  <span data-ttu-id="9b455-120">Se si usa Visual Basic, nella prima riga del file MainWindow. XAML, sostituire `x:Class="BasicManipulation.MainWindow"` con `x:Class="MainWindow"`.</span><span class="sxs-lookup"><span data-stu-id="9b455-120">If you are using Visual Basic, in the first line of MainWindow.xaml, replace `x:Class="BasicManipulation.MainWindow"` with `x:Class="MainWindow"`.</span></span>  
  
4.  <span data-ttu-id="9b455-121">Nel `MainWindow` classe, aggiungere il codice seguente <xref:System.Windows.UIElement.ManipulationStarting> gestore dell'evento.</span><span class="sxs-lookup"><span data-stu-id="9b455-121">In the `MainWindow` class, add the following <xref:System.Windows.UIElement.ManipulationStarting> event handler.</span></span>  
  
     <span data-ttu-id="9b455-122">Il <xref:System.Windows.UIElement.ManipulationStarting> evento si verifica quando [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] rileva un tocco input inizia a modificare un oggetto.</span><span class="sxs-lookup"><span data-stu-id="9b455-122">The <xref:System.Windows.UIElement.ManipulationStarting> event occurs when [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] detects that touch input begins to manipulate an object.</span></span> <span data-ttu-id="9b455-123">Il codice specifica che la posizione della manipolazione deve essere relativa ai <xref:System.Windows.Window> impostando la <xref:System.Windows.Input.ManipulationStartingEventArgs.ManipulationContainer%2A> proprietà.</span><span class="sxs-lookup"><span data-stu-id="9b455-123">The code specifies that the position of the manipulation should be relative to the <xref:System.Windows.Window> by setting the <xref:System.Windows.Input.ManipulationStartingEventArgs.ManipulationContainer%2A> property.</span></span>  
  
     [!code-csharp[BasicManipulation#ManipulationStarting](../../../../samples/snippets/csharp/VS_Snippets_Wpf/basicmanipulation/csharp/mainwindow.xaml.cs#manipulationstarting)]
     [!code-vb[BasicManipulation#ManipulationStarting](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/basicmanipulation/visualbasic/mainwindow.xaml.vb#manipulationstarting)]

5.  <span data-ttu-id="9b455-124">Nel `MainWindow` classe, aggiungere il codice seguente <xref:System.Windows.Input.ManipulationDelta> gestore dell'evento.</span><span class="sxs-lookup"><span data-stu-id="9b455-124">In the `MainWindow` class, add the following <xref:System.Windows.Input.ManipulationDelta> event handler.</span></span>

     <span data-ttu-id="9b455-125">Il <xref:System.Windows.Input.ManipulationDelta> evento si verifica quando il tocco modificata la posizione di input e può essere presente più volte durante una manipolazione.</span><span class="sxs-lookup"><span data-stu-id="9b455-125">The <xref:System.Windows.Input.ManipulationDelta> event occurs when the touch input changes position and can occur multiple times during a manipulation.</span></span> <span data-ttu-id="9b455-126">L'evento può verificarsi anche dopo la generazione di un dito.</span><span class="sxs-lookup"><span data-stu-id="9b455-126">The event can also occur after a finger is raised.</span></span> <span data-ttu-id="9b455-127">Ad esempio, se l'utente sposta un dito su una schermata, il <xref:System.Windows.Input.ManipulationDelta> evento si verifica più volte durante lo spostamento del dito.</span><span class="sxs-lookup"><span data-stu-id="9b455-127">For example, if the user drags a finger across a screen, the <xref:System.Windows.Input.ManipulationDelta> event occurs multiple times as the finger moves.</span></span> <span data-ttu-id="9b455-128">Quando l'utente solleva un dito dallo schermo, la <xref:System.Windows.Input.ManipulationDelta> eventi continua a verificarsi per simulare l'inerzia.</span><span class="sxs-lookup"><span data-stu-id="9b455-128">When the user raises a finger from the screen, the <xref:System.Windows.Input.ManipulationDelta> event keeps occurring to simulate inertia.</span></span>

     <span data-ttu-id="9b455-129">Il codice si applica il <xref:System.Windows.Input.ManipulationDeltaEventArgs.DeltaManipulation%2A> per il <xref:System.Windows.UIElement.RenderTransform%2A> del <xref:System.Windows.Shapes.Rectangle> per spostarla quando l'utente sposta il tocco di input.</span><span class="sxs-lookup"><span data-stu-id="9b455-129">The code applies the <xref:System.Windows.Input.ManipulationDeltaEventArgs.DeltaManipulation%2A> to the <xref:System.Windows.UIElement.RenderTransform%2A> of the <xref:System.Windows.Shapes.Rectangle> to move it as the user moves the touch input.</span></span> <span data-ttu-id="9b455-130">Viene inoltre verificato se il <xref:System.Windows.Shapes.Rectangle> fuori dei limiti del <xref:System.Windows.Window> quando l'evento si verifica durante l'inerzia.</span><span class="sxs-lookup"><span data-stu-id="9b455-130">It also checks whether the <xref:System.Windows.Shapes.Rectangle> is outside the bounds of the <xref:System.Windows.Window> when the event occurs during inertia.</span></span> <span data-ttu-id="9b455-131">Pertanto, l'applicazione chiama il <xref:System.Windows.Input.ManipulationDeltaEventArgs.Complete%2A?displayProperty=nameWithType> metodo per terminare la modifica.</span><span class="sxs-lookup"><span data-stu-id="9b455-131">If so, the application calls the <xref:System.Windows.Input.ManipulationDeltaEventArgs.Complete%2A?displayProperty=nameWithType> method to end the manipulation.</span></span>

     [!code-csharp[BasicManipulation#ManipulationDelta](../../../../samples/snippets/csharp/VS_Snippets_Wpf/basicmanipulation/csharp/mainwindow.xaml.cs#manipulationdelta)]
     [!code-vb[BasicManipulation#ManipulationDelta](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/basicmanipulation/visualbasic/mainwindow.xaml.vb#manipulationdelta)]

6.  <span data-ttu-id="9b455-132">Nel `MainWindow` classe, aggiungere il codice seguente <xref:System.Windows.UIElement.ManipulationInertiaStarting> gestore dell'evento.</span><span class="sxs-lookup"><span data-stu-id="9b455-132">In the `MainWindow` class, add the following <xref:System.Windows.UIElement.ManipulationInertiaStarting> event handler.</span></span>

     <span data-ttu-id="9b455-133">Il <xref:System.Windows.UIElement.ManipulationInertiaStarting> evento si verifica quando l'utente genera tutte le dita dallo schermo.</span><span class="sxs-lookup"><span data-stu-id="9b455-133">The <xref:System.Windows.UIElement.ManipulationInertiaStarting> event occurs when the user raises all fingers from the screen.</span></span> <span data-ttu-id="9b455-134">Il codice imposta la velocità iniziale e la decelerazione per il movimento, espansione e rotazione del rettangolo.</span><span class="sxs-lookup"><span data-stu-id="9b455-134">The code sets the initial velocity and deceleration for the movement, expansion, and rotation of the rectangle.</span></span>

     [!code-csharp[BasicManipulation#ManipulationInertiaStarting](../../../../samples/snippets/csharp/VS_Snippets_Wpf/basicmanipulation/csharp/mainwindow.xaml.cs#manipulationinertiastarting)]
     [!code-vb[BasicManipulation#ManipulationInertiaStarting](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/basicmanipulation/visualbasic/mainwindow.xaml.vb#manipulationinertiastarting)]

7.  <span data-ttu-id="9b455-135">Compilare ed eseguire il progetto.</span><span class="sxs-lookup"><span data-stu-id="9b455-135">Build and run the project.</span></span>

     <span data-ttu-id="9b455-136">Nella finestra verrà visualizzato un quadrato rosso.</span><span class="sxs-lookup"><span data-stu-id="9b455-136">You should see a red square appear in the window.</span></span>

## <a name="testing-the-application"></a><span data-ttu-id="9b455-137">Verifica dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="9b455-137">Testing the Application</span></span>
 <span data-ttu-id="9b455-138">Per testare l'applicazione, provare le modifiche che seguono.</span><span class="sxs-lookup"><span data-stu-id="9b455-138">To test the application, try the following manipulations.</span></span> <span data-ttu-id="9b455-139">Si noti che è possibile eseguire più di una delle seguenti operazioni nello stesso momento.</span><span class="sxs-lookup"><span data-stu-id="9b455-139">Note that you can do more than one of the following at the same time.</span></span>

-   <span data-ttu-id="9b455-140">Per spostare il <xref:System.Windows.Shapes.Rectangle>, posizionare un dito sul <xref:System.Windows.Shapes.Rectangle> e muovere il dito sullo schermo.</span><span class="sxs-lookup"><span data-stu-id="9b455-140">To move the <xref:System.Windows.Shapes.Rectangle>, put a finger on the <xref:System.Windows.Shapes.Rectangle> and move the finger across the screen.</span></span>

-   <span data-ttu-id="9b455-141">Per ridimensionare il <xref:System.Windows.Shapes.Rectangle>, posizionare due dita sul <xref:System.Windows.Shapes.Rectangle> e sposta le dita o chiudere ogni.</span><span class="sxs-lookup"><span data-stu-id="9b455-141">To resize the <xref:System.Windows.Shapes.Rectangle>, put two fingers on the <xref:System.Windows.Shapes.Rectangle> and move the fingers closer together or farther apart from each other.</span></span>

-   <span data-ttu-id="9b455-142">Per ruotare il <xref:System.Windows.Shapes.Rectangle>, posizionare due dita sul <xref:System.Windows.Shapes.Rectangle> e ruotare le dita una attorno a altra.</span><span class="sxs-lookup"><span data-stu-id="9b455-142">To rotate the <xref:System.Windows.Shapes.Rectangle>, put two fingers on the <xref:System.Windows.Shapes.Rectangle> and rotate the fingers around each other.</span></span>

 <span data-ttu-id="9b455-143">Affinché l'inerzia, generare rapidamente le dita dalla schermata quando si eseguono modifiche precedenti.</span><span class="sxs-lookup"><span data-stu-id="9b455-143">To cause inertia, quickly raise your fingers from the screen as you perform the previous manipulations.</span></span> <span data-ttu-id="9b455-144">Il <xref:System.Windows.Shapes.Rectangle> continueranno a spostare, ridimensionare o ruotare per alcuni secondi prima che venga interrotta.</span><span class="sxs-lookup"><span data-stu-id="9b455-144">The <xref:System.Windows.Shapes.Rectangle> will continue to move, resize, or rotate for a few seconds before it stops.</span></span>

## <a name="see-also"></a><span data-ttu-id="9b455-145">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="9b455-145">See Also</span></span>

- <xref:System.Windows.UIElement.ManipulationStarting?displayProperty=nameWithType>
- <xref:System.Windows.UIElement.ManipulationDelta?displayProperty=nameWithType>
- <xref:System.Windows.UIElement.ManipulationInertiaStarting?displayProperty=nameWithType>