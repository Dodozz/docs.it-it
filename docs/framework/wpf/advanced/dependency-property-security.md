---
title: Sicurezza delle proprietà di dipendenza
ms.date: 03/30/2017
helpviewer_keywords:
- wrappers [WPF], access
- wrappers [WPF], security
- dependency properties [WPF], security
- security [WPF], wrappers
- validation [WPF], dependency properties
- dependency properties [WPF], access
- security [WPF], dependency properties
ms.assetid: d10150ec-90c5-4571-8d35-84bafa2429a4
ms.openlocfilehash: eb27f3c902a0fb783d26d14d1ce494eebcffb999
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/23/2019
ms.locfileid: "54532149"
---
# <a name="dependency-property-security"></a><span data-ttu-id="e0fed-102">Sicurezza delle proprietà di dipendenza</span><span class="sxs-lookup"><span data-stu-id="e0fed-102">Dependency Property Security</span></span>
<span data-ttu-id="e0fed-103">Le proprietà di dipendenza in genere devono essere considerate come proprietà pubbliche.</span><span class="sxs-lookup"><span data-stu-id="e0fed-103">Dependency properties should generally be considered to be public properties.</span></span> <span data-ttu-id="e0fed-104">A causa della natura stessa del sistema di proprietà di [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)], è impossibile avere delle garanzie di sicurezza sul valore di una proprietà di dipendenza.</span><span class="sxs-lookup"><span data-stu-id="e0fed-104">The nature of the [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] property system prevents the ability to make security guarantees about a dependency property value.</span></span>  
  
  
<a name="AccessSecurity"></a>   
## <a name="access-and-security-of-wrappers-and-dependency-properties"></a><span data-ttu-id="e0fed-105">Accesso e sicurezza delle proprietà wrapper e di dipendenza</span><span class="sxs-lookup"><span data-stu-id="e0fed-105">Access and Security of Wrappers and Dependency Properties</span></span>  
 <span data-ttu-id="e0fed-106">In genere, le proprietà di dipendenza vengono implementate insieme alle proprietà [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] "wrapper" che consentono di ottenere o impostare la proprietà da un'istanza in modo più semplice.</span><span class="sxs-lookup"><span data-stu-id="e0fed-106">Typically, dependency properties are implemented along with "wrapper" [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] properties that simplify getting or setting the property from an instance.</span></span> <span data-ttu-id="e0fed-107">Ma i wrapper sono metodi pratici semplicemente che implementano sottostante <xref:System.Windows.DependencyObject.GetValue%2A> e <xref:System.Windows.DependencyObject.SetValue%2A> chiamate statiche utilizzate durante l'interazione con le proprietà di dipendenza.</span><span class="sxs-lookup"><span data-stu-id="e0fed-107">But the wrappers are really just convenience methods that implement the underlying <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> static calls that are used when interacting with dependency properties.</span></span> <span data-ttu-id="e0fed-108">Considerando la situazione da un altro punto di vista, le proprietà sono esposte come proprietà [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] che risultano supportate da una proprietà di dipendenza piuttosto che da un campo privato.</span><span class="sxs-lookup"><span data-stu-id="e0fed-108">Thinking of it in another way, the properties are exposed as [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] properties that happen to be backed by a dependency property rather than by a private field.</span></span> <span data-ttu-id="e0fed-109">I meccanismi di sicurezza applicati ai wrapper non sono paralleli al comportamento del sistema di proprietà e all'accesso della proprietà di dipendenza sottostante.</span><span class="sxs-lookup"><span data-stu-id="e0fed-109">Security mechanisms applied to the wrappers do not parallel the property system behavior and access of the underlying dependency property.</span></span> <span data-ttu-id="e0fed-110">L'inserimento di una richiesta di sicurezza sul wrapper eviterà solo l'utilizzo del metodo pratico ma non impedirà le chiamate a <xref:System.Windows.DependencyObject.GetValue%2A> o <xref:System.Windows.DependencyObject.SetValue%2A>.</span><span class="sxs-lookup"><span data-stu-id="e0fed-110">Placing a security demand on the wrapper will only prevent the usage of the convenience method but will not prevent calls to <xref:System.Windows.DependencyObject.GetValue%2A> or <xref:System.Windows.DependencyObject.SetValue%2A>.</span></span> <span data-ttu-id="e0fed-111">Analogamente, inserendo un livello di accesso protetto o privato sui wrapper non viene garantita alcuna sicurezza effettiva.</span><span class="sxs-lookup"><span data-stu-id="e0fed-111">Similarly, placing protected or private access level on the wrappers does not provide any effective security.</span></span>  
  
 <span data-ttu-id="e0fed-112">Se si sta scrivendo una proprietà di dipendenza personalizzate, è necessario dichiarare i wrapper e <xref:System.Windows.DependencyProperty> identificatore del campo come membri pubblici, in modo che i chiamanti non ottengano informazioni fuorvianti sul reale livello di accesso di tale proprietà (dal relativo archivio in corso implementato come una proprietà di dipendenza).</span><span class="sxs-lookup"><span data-stu-id="e0fed-112">If you are writing your own dependency properties, you should declare the wrappers and the <xref:System.Windows.DependencyProperty> identifier field as public members, so that callers do not get misleading information about the true access level of that property (because of its store being implemented as a dependency property).</span></span>  
  
 <span data-ttu-id="e0fed-113">Per una proprietà di dipendenza personalizzate, è possibile registrare la proprietà come proprietà di dipendenza di sola lettura e si forniscono un metodo efficace per prevenire una proprietà impostata da qualsiasi utente che non dispone di un riferimento al <xref:System.Windows.DependencyPropertyKey> per tale proprietà.</span><span class="sxs-lookup"><span data-stu-id="e0fed-113">For a custom dependency property, you can register your property as a read-only dependency property, and this does provide an effective means of preventing a property being set by anyone that does not hold a reference to the <xref:System.Windows.DependencyPropertyKey> for that property.</span></span> <span data-ttu-id="e0fed-114">Per altre informazioni, vedere [Proprietà di dipendenza di sola lettura](../../../../docs/framework/wpf/advanced/read-only-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="e0fed-114">For more information, see [Read-Only Dependency Properties](../../../../docs/framework/wpf/advanced/read-only-dependency-properties.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="e0fed-115">La dichiarazione di una <xref:System.Windows.DependencyProperty> identificatore campo privato è consentito e può essere utilizzato presumibilmente per ridurre lo spazio dei nomi esposto immediatamente di una classe personalizzata, ma tale proprietà non deve essere considerata "privata" nello stesso senso la [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] definizioni di linguaggio definiscono tale livello di accesso, per i motivi descritti nella sezione successiva.</span><span class="sxs-lookup"><span data-stu-id="e0fed-115">Declaring a <xref:System.Windows.DependencyProperty> identifier field private is not forbidden, and it can conceivably be used to help reduce the immediately exposed namespace of a custom class, but such a property should not be considered "private" in the same sense as the [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] language definitions define that access level, for reasons described in the next section.</span></span>  
  
<a name="PropertySystemExposure"></a>   
## <a name="property-system-exposure-of-dependency-properties"></a><span data-ttu-id="e0fed-116">Esposizione di proprietà di dipendenza del sistema di proprietà</span><span class="sxs-lookup"><span data-stu-id="e0fed-116">Property System Exposure of Dependency Properties</span></span>  
 <span data-ttu-id="e0fed-117">Non è in genere utile ed è potenzialmente fuorviante, dichiarare un <xref:System.Windows.DependencyProperty> come livello di accesso diverso da public.</span><span class="sxs-lookup"><span data-stu-id="e0fed-117">It is not generally useful, and it is potentially misleading, to declare a <xref:System.Windows.DependencyProperty> as any access level other than public.</span></span> <span data-ttu-id="e0fed-118">L'impostazione di questo livello di accesso impedisce solo che qualcuno possa ottenere un riferimento all'istanza dalla classe dichiarante.</span><span class="sxs-lookup"><span data-stu-id="e0fed-118">That access level setting only prevents someone from being able to get a reference to the instance from the declaring class.</span></span> <span data-ttu-id="e0fed-119">Ma esistono diversi aspetti del sistema di proprietà che verrà restituito un <xref:System.Windows.DependencyProperty> come mezzo di identificazione di una particolare proprietà esistente in un'istanza di una classe o un'istanza della classe derivata, e questo identificatore è ancora utilizzabile in un <xref:System.Windows.DependencyObject.SetValue%2A> chiamare anche Se l'identificatore statico originale è dichiarato come nonpublic.</span><span class="sxs-lookup"><span data-stu-id="e0fed-119">But there are several aspects of the property system that will return a <xref:System.Windows.DependencyProperty> as the means of identifying a particular property as it exists on an instance of a class or a derived class instance, and this identifier is still usable in a <xref:System.Windows.DependencyObject.SetValue%2A> call even if the original static identifier is declared as nonpublic.</span></span> <span data-ttu-id="e0fed-120">Inoltre, <xref:System.Windows.DependencyObject.OnPropertyChanged%2A> metodi virtuali ricevono le informazioni di qualsiasi proprietà di dipendenza esistente che ha modificato valore.</span><span class="sxs-lookup"><span data-stu-id="e0fed-120">Also, <xref:System.Windows.DependencyObject.OnPropertyChanged%2A> virtual methods receive information of any existing dependency property that changed value.</span></span> <span data-ttu-id="e0fed-121">Inoltre, il <xref:System.Windows.DependencyObject.GetLocalValueEnumerator%2A> metodo restituisce gli identificatori per qualsiasi proprietà nelle istanze con impostato localmente valore.</span><span class="sxs-lookup"><span data-stu-id="e0fed-121">In addition, the <xref:System.Windows.DependencyObject.GetLocalValueEnumerator%2A> method returns identifiers for any property on instances with a locally set value.</span></span>  
  
### <a name="validation-and-security"></a><span data-ttu-id="e0fed-122">Convalida e sicurezza</span><span class="sxs-lookup"><span data-stu-id="e0fed-122">Validation and Security</span></span>  
 <span data-ttu-id="e0fed-123">Applicazione di una richiesta a un <xref:System.Windows.DependencyProperty.ValidateValueCallback%2A> e aspetta l'errore di convalida in caso di errore richiesta per impedire l'impostazione di una proprietà non è un meccanismo di sicurezza adeguato.</span><span class="sxs-lookup"><span data-stu-id="e0fed-123">Applying a demand to a <xref:System.Windows.DependencyProperty.ValidateValueCallback%2A> and expecting the validation failure on a demand failure to prevent a property from being set is not an adequate security mechanism.</span></span> <span data-ttu-id="e0fed-124">Invalidamento del valore impostato applicato tramite <xref:System.Windows.DependencyProperty.ValidateValueCallback%2A> potrebbe essere evitato da chiamanti malintenzionati, se questi operano all'interno del dominio applicazione.</span><span class="sxs-lookup"><span data-stu-id="e0fed-124">Set-value invalidation enforced through <xref:System.Windows.DependencyProperty.ValidateValueCallback%2A> could also be suppressed by malicious callers, if those callers are operating within the application domain.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e0fed-125">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="e0fed-125">See also</span></span>
- [<span data-ttu-id="e0fed-126">Proprietà di dipendenza personalizzate</span><span class="sxs-lookup"><span data-stu-id="e0fed-126">Custom Dependency Properties</span></span>](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md)
