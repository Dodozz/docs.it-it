---
title: Personalizzazione dell'aspetto di un controllo esistente mediante la creazione di un oggetto ControlTemplate
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- control contract [WPF]
- controls [WPF], visual structure changes
- ControlTemplate [WPF], customizing for existing controls
- skinning controls [WPF]
- controls [WPF], appearance specified by state
- templates [WPF], custom for existing controls
ms.assetid: 678dd116-43a2-4b8c-82b5-6b826f126e31
ms.openlocfilehash: b52a63a0531d71c784ef12f29049754f4a9efddb
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 04/23/2019
ms.locfileid: "62017841"
---
# <a name="customizing-the-appearance-of-an-existing-control-by-creating-a-controltemplate"></a><span data-ttu-id="0f66e-102">Personalizzazione dell'aspetto di un controllo esistente mediante la creazione di un oggetto ControlTemplate</span><span class="sxs-lookup"><span data-stu-id="0f66e-102">Customizing the Appearance of an Existing Control by Creating a ControlTemplate</span></span>
<a name="introduction"></a> <span data-ttu-id="0f66e-103">Oggetto <xref:System.Windows.Controls.ControlTemplate> specifica la struttura visiva e il comportamento di un controllo.</span><span class="sxs-lookup"><span data-stu-id="0f66e-103">A <xref:System.Windows.Controls.ControlTemplate> specifies the visual structure and visual behavior of a control.</span></span> <span data-ttu-id="0f66e-104">È possibile personalizzare l'aspetto di un controllo assegnando una nuova <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="0f66e-104">You can customize the appearance of a control by giving it a new <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="0f66e-105">Quando si crea un <xref:System.Windows.Controls.ControlTemplate>, si sostituisce l'aspetto di un controllo esistente senza modificarne la funzionalità.</span><span class="sxs-lookup"><span data-stu-id="0f66e-105">When you create a <xref:System.Windows.Controls.ControlTemplate>, you replace the appearance of an existing control without changing its functionality.</span></span> <span data-ttu-id="0f66e-106">Ad esempio, è possibile rendere i pulsanti nell'applicazione forma rotonda invece della forma quadrata predefinita, ma il pulsante genererà comunque il <xref:System.Windows.Controls.Primitives.ButtonBase.Click> evento.</span><span class="sxs-lookup"><span data-stu-id="0f66e-106">For example, you can make the buttons in your application round instead of the default square shape, but the button will still raise the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event.</span></span>  
  
 <span data-ttu-id="0f66e-107">Questo argomento illustra le varie parti di un <xref:System.Windows.Controls.ControlTemplate>, viene illustrato come creare una semplice <xref:System.Windows.Controls.ControlTemplate> per un <xref:System.Windows.Controls.Button>e spiega come comprendere il contratto di controllo di un controllo in modo che sia possibile personalizzare l'aspetto del controllo.</span><span class="sxs-lookup"><span data-stu-id="0f66e-107">This topic explains the various parts of a <xref:System.Windows.Controls.ControlTemplate>, demonstrates creating a simple <xref:System.Windows.Controls.ControlTemplate> for a <xref:System.Windows.Controls.Button>, and explains how to understand the control contract of a control so that you can customize its appearance.</span></span> <span data-ttu-id="0f66e-108">Poiché si crea una <xref:System.Windows.Controls.ControlTemplate> in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], è possibile modificare l'aspetto del controllo senza scrivere alcun codice.</span><span class="sxs-lookup"><span data-stu-id="0f66e-108">Because you create a <xref:System.Windows.Controls.ControlTemplate> in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], you can change a control's appearance without writing any code.</span></span> <span data-ttu-id="0f66e-109">È anche possibile usare una finestra di progettazione, ad esempio Microsoft Expression Blend, per creare modelli di controlli personalizzati.</span><span class="sxs-lookup"><span data-stu-id="0f66e-109">You can also use a designer, such as Microsoft Expression Blend, to create custom control templates.</span></span> <span data-ttu-id="0f66e-110">Questo argomento viene illustrato negli esempi il [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] che consentono di personalizzare l'aspetto di un <xref:System.Windows.Controls.Button> ed elenca l'esempio completo alla fine dell'argomento.</span><span class="sxs-lookup"><span data-stu-id="0f66e-110">This topic shows examples in the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] that customize the appearance of a <xref:System.Windows.Controls.Button> and lists the complete example at the end of the topic.</span></span> <span data-ttu-id="0f66e-111">Per altre informazioni sull'uso di Expression Blend, vedere [Applicazione di stili a un controllo che supporta modelli](https://go.microsoft.com/fwlink/?LinkId=161153).</span><span class="sxs-lookup"><span data-stu-id="0f66e-111">For more information about using Expression Blend, see [Styling a control that supports templates](https://go.microsoft.com/fwlink/?LinkId=161153).</span></span>  
  
 <span data-ttu-id="0f66e-112">Le illustrazioni seguenti viene illustrato un <xref:System.Windows.Controls.Button> che usa il <xref:System.Windows.Controls.ControlTemplate> che viene creato in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="0f66e-112">The following illustrations show a <xref:System.Windows.Controls.Button> that uses the <xref:System.Windows.Controls.ControlTemplate> that is created in this topic.</span></span>  
  
 <span data-ttu-id="0f66e-113">![Pulsante con un modello del controllo personalizzato. ](./media/ndp-buttonnormal.png "NDP_ButtonNormal")</span><span class="sxs-lookup"><span data-stu-id="0f66e-113">![A button with a custom control template.](./media/ndp-buttonnormal.png "NDP_ButtonNormal")</span></span>  
<span data-ttu-id="0f66e-114">Pulsante che usa un modello del controllo personalizzato</span><span class="sxs-lookup"><span data-stu-id="0f66e-114">A button that uses a custom control template</span></span>  
  
 <span data-ttu-id="0f66e-115">![Pulsante con un bordo rosso. ](./media/ndp-buttonmouseover.png "NDP_ButtonMouseOver")</span><span class="sxs-lookup"><span data-stu-id="0f66e-115">![A button with a red border.](./media/ndp-buttonmouseover.png "NDP_ButtonMouseOver")</span></span>  
<span data-ttu-id="0f66e-116">Pulsante che usa un modello del controllo personalizzato e su cui è posizionato il puntatore del mouse</span><span class="sxs-lookup"><span data-stu-id="0f66e-116">A button that uses a custom control template and has the mouse pointer over it</span></span>  

<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="0f66e-117">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="0f66e-117">Prerequisites</span></span>  
 <span data-ttu-id="0f66e-118">Questo argomento si basa sul presupposto che si sappiano creare e usare i controlli e gli stili come descritto in [Controlli](index.md).</span><span class="sxs-lookup"><span data-stu-id="0f66e-118">This topic assumes that you understand how to create and use controls and styles as discussed in [Controls](index.md).</span></span> <span data-ttu-id="0f66e-119">I concetti illustrati in questo argomento si applicano agli elementi che ereditano dal <xref:System.Windows.Controls.Control> (classe), tranne per il <xref:System.Windows.Controls.UserControl>.</span><span class="sxs-lookup"><span data-stu-id="0f66e-119">The concepts discussed in this topic apply to elements that inherit from the <xref:System.Windows.Controls.Control> class, except for the <xref:System.Windows.Controls.UserControl>.</span></span> <span data-ttu-id="0f66e-120">Non è possibile applicare una <xref:System.Windows.Controls.ControlTemplate> a un <xref:System.Windows.Controls.UserControl>.</span><span class="sxs-lookup"><span data-stu-id="0f66e-120">You cannot apply a <xref:System.Windows.Controls.ControlTemplate> to a <xref:System.Windows.Controls.UserControl>.</span></span>  
  
<a name="when_you_should_create_a_controltemplate"></a>   
## <a name="when-you-should-create-a-controltemplate"></a><span data-ttu-id="0f66e-121">Quando creare un oggetto ControlTemplate</span><span class="sxs-lookup"><span data-stu-id="0f66e-121">When You Should Create a ControlTemplate</span></span>  
 <span data-ttu-id="0f66e-122">Controlli presentano molte proprietà, ad esempio <xref:System.Windows.Controls.Border.Background%2A>, <xref:System.Windows.Controls.Control.Foreground%2A>, e <xref:System.Windows.Controls.Control.FontFamily%2A>, che è possibile impostare per specificare diversi aspetti dell'aspetto del controllo, ma le modifiche che è possibile configurare queste proprietà sono limitate.</span><span class="sxs-lookup"><span data-stu-id="0f66e-122">Controls have many properties, such as <xref:System.Windows.Controls.Border.Background%2A>, <xref:System.Windows.Controls.Control.Foreground%2A>, and <xref:System.Windows.Controls.Control.FontFamily%2A>, that you can set to specify different aspects of the control's appearance, but the changes that you can make by setting these properties are limited.</span></span> <span data-ttu-id="0f66e-123">Ad esempio, è possibile impostare il <xref:System.Windows.Controls.Control.Foreground%2A> proprietà impostandolo sul blu e <xref:System.Windows.Controls.Control.FontStyle%2A> su corsivo in un <xref:System.Windows.Controls.CheckBox>.</span><span class="sxs-lookup"><span data-stu-id="0f66e-123">For example, you can set the <xref:System.Windows.Controls.Control.Foreground%2A> property to blue and <xref:System.Windows.Controls.Control.FontStyle%2A> to italic on a <xref:System.Windows.Controls.CheckBox>.</span></span>  
  
 <span data-ttu-id="0f66e-124">Senza la possibilità di creare una nuova <xref:System.Windows.Controls.ControlTemplate> per i controlli, tutti i controlli in ogni [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-applicazione basata su avrebbe lo stesso aspetto generale, limitando così la possibilità di creare un'applicazione con un aspetto personalizzato.</span><span class="sxs-lookup"><span data-stu-id="0f66e-124">Without the ability to create a new <xref:System.Windows.Controls.ControlTemplate> for controls, all controls in every [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-based application would have the same general appearance, which would limit the ability to create an application with a custom look and feel.</span></span> <span data-ttu-id="0f66e-125">Per impostazione predefinita, ogni <xref:System.Windows.Controls.CheckBox> presenta caratteristiche simili.</span><span class="sxs-lookup"><span data-stu-id="0f66e-125">By default, every <xref:System.Windows.Controls.CheckBox> has similar characteristics.</span></span> <span data-ttu-id="0f66e-126">Ad esempio, il contenuto del <xref:System.Windows.Controls.CheckBox> è sempre a destra dell'indicatore di selezione, e il segno di spunta viene sempre utilizzato per indicare che il <xref:System.Windows.Controls.CheckBox> sia selezionata.</span><span class="sxs-lookup"><span data-stu-id="0f66e-126">For example, the content of the <xref:System.Windows.Controls.CheckBox> is always to the right of the selection indicator, and the check mark is always used to indicate that the <xref:System.Windows.Controls.CheckBox> is selected.</span></span>  
  
 <span data-ttu-id="0f66e-127">Si crea un <xref:System.Windows.Controls.ControlTemplate> quando si desidera personalizzare l'aspetto del controllo oltre che dall'impostazione delle altre proprietà nel controllo.</span><span class="sxs-lookup"><span data-stu-id="0f66e-127">You create a <xref:System.Windows.Controls.ControlTemplate> when you want to customize the control's appearance beyond what setting the other properties on the control will do.</span></span> <span data-ttu-id="0f66e-128">Nell'esempio del <xref:System.Windows.Controls.CheckBox>, si supponga che il contenuto della casella di controllo di sopra dell'indicatore di selezione e si desidera una X per indicare che il <xref:System.Windows.Controls.CheckBox> sia selezionata.</span><span class="sxs-lookup"><span data-stu-id="0f66e-128">In the example of the <xref:System.Windows.Controls.CheckBox>, suppose that you want the content of the check box to be above the selection indicator and you want an X to indicate that the <xref:System.Windows.Controls.CheckBox> is selected.</span></span> <span data-ttu-id="0f66e-129">È possibile specificare queste modifiche nel <xref:System.Windows.Controls.ControlTemplate> del <xref:System.Windows.Controls.CheckBox>.</span><span class="sxs-lookup"><span data-stu-id="0f66e-129">You specify these changes in the <xref:System.Windows.Controls.ControlTemplate> of the <xref:System.Windows.Controls.CheckBox>.</span></span>  
  
 <span data-ttu-id="0f66e-130">La figura seguente mostra una <xref:System.Windows.Controls.CheckBox> che usa un valore predefinito <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="0f66e-130">The following illustration shows a <xref:System.Windows.Controls.CheckBox> that uses a default <xref:System.Windows.Controls.ControlTemplate>.</span></span>  
  
 <span data-ttu-id="0f66e-131">![Casella di controllo con il modello di controllo predefinito. ](./media/ndp-checkboxdefault.png "NDP_CheckBoxDefault")</span><span class="sxs-lookup"><span data-stu-id="0f66e-131">![A checkbox with the default control template.](./media/ndp-checkboxdefault.png "NDP_CheckBoxDefault")</span></span>  
<span data-ttu-id="0f66e-132">Oggetto CheckBox che usa il modello del controllo predefinito</span><span class="sxs-lookup"><span data-stu-id="0f66e-132">A CheckBox that uses the default control template</span></span>  
  
 <span data-ttu-id="0f66e-133">La figura seguente mostra una <xref:System.Windows.Controls.CheckBox> che usa un oggetto personalizzato <xref:System.Windows.Controls.ControlTemplate> per posizionare il contenuto del <xref:System.Windows.Controls.CheckBox> sopra l'indicatore di selezione e visualizza una X quando il <xref:System.Windows.Controls.CheckBox> sia selezionata.</span><span class="sxs-lookup"><span data-stu-id="0f66e-133">The following illustration shows a <xref:System.Windows.Controls.CheckBox> that uses a custom <xref:System.Windows.Controls.ControlTemplate> to place the content of the <xref:System.Windows.Controls.CheckBox> above the selection indicator and displays an X when the <xref:System.Windows.Controls.CheckBox> is selected.</span></span>  
  
 <span data-ttu-id="0f66e-134">![Casella di controllo con un modello del controllo personalizzato. ](./media/ndp-checkboxcustom.png "NDP_CheckBoxCustom")</span><span class="sxs-lookup"><span data-stu-id="0f66e-134">![A checkbox with a custom control template.](./media/ndp-checkboxcustom.png "NDP_CheckBoxCustom")</span></span>  
<span data-ttu-id="0f66e-135">Oggetto CheckBox che usa un modello del controllo personalizzato</span><span class="sxs-lookup"><span data-stu-id="0f66e-135">A CheckBox that uses a custom control template</span></span>  
  
 <span data-ttu-id="0f66e-136">Il <xref:System.Windows.Controls.ControlTemplate> per il <xref:System.Windows.Controls.CheckBox> in questo esempio è abbastanza complesso, pertanto questo argomento viene utilizzato un semplice esempio di creazione di un <xref:System.Windows.Controls.ControlTemplate> per un <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="0f66e-136">The <xref:System.Windows.Controls.ControlTemplate> for the <xref:System.Windows.Controls.CheckBox> in this sample is relatively complex, so this topic uses a simpler example of creating a <xref:System.Windows.Controls.ControlTemplate> for a <xref:System.Windows.Controls.Button>.</span></span>  
  
<a name="changing_the_visual_structure_of_a_control"></a>   
## <a name="changing-the-visual-structure-of-a-control"></a><span data-ttu-id="0f66e-137">Modifica della struttura visiva di un controllo</span><span class="sxs-lookup"><span data-stu-id="0f66e-137">Changing the Visual Structure of a Control</span></span>  
 <span data-ttu-id="0f66e-138">Nelle [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], un controllo è spesso un composto <xref:System.Windows.FrameworkElement> oggetti.</span><span class="sxs-lookup"><span data-stu-id="0f66e-138">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], a control is often a composite <xref:System.Windows.FrameworkElement> objects.</span></span> <span data-ttu-id="0f66e-139">Quando si crea una <xref:System.Windows.Controls.ControlTemplate>, si combinano <xref:System.Windows.FrameworkElement> oggetti per compilare un singolo controllo.</span><span class="sxs-lookup"><span data-stu-id="0f66e-139">When you create a <xref:System.Windows.Controls.ControlTemplate>, you combine <xref:System.Windows.FrameworkElement> objects to build a single control.</span></span> <span data-ttu-id="0f66e-140">Oggetto <xref:System.Windows.Controls.ControlTemplate> deve avere un solo <xref:System.Windows.FrameworkElement> come elemento radice.</span><span class="sxs-lookup"><span data-stu-id="0f66e-140">A <xref:System.Windows.Controls.ControlTemplate> must have only one <xref:System.Windows.FrameworkElement> as its root element.</span></span> <span data-ttu-id="0f66e-141">L'elemento radice contiene in genere altri <xref:System.Windows.FrameworkElement> oggetti.</span><span class="sxs-lookup"><span data-stu-id="0f66e-141">The root element usually contains other <xref:System.Windows.FrameworkElement> objects.</span></span> <span data-ttu-id="0f66e-142">La combinazione degli oggetti costituisce la struttura visiva del controllo.</span><span class="sxs-lookup"><span data-stu-id="0f66e-142">The combination of objects makes up the control's visual structure.</span></span>  
  
 <span data-ttu-id="0f66e-143">L'esempio seguente crea un oggetto personalizzato <xref:System.Windows.Controls.ControlTemplate> per il <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="0f66e-143">The following example creates a custom <xref:System.Windows.Controls.ControlTemplate> for the <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="0f66e-144">Il <xref:System.Windows.Controls.ControlTemplate> crea la struttura visiva del <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="0f66e-144">The <xref:System.Windows.Controls.ControlTemplate> creates the visual structure of the <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="0f66e-145">In questo esempio, l'aspetto del pulsante non cambia quando si sposta il puntatore del mouse o si fa clic su di esso.</span><span class="sxs-lookup"><span data-stu-id="0f66e-145">This example does not change the button's appearance when you move the mouse pointer over it or click it.</span></span> <span data-ttu-id="0f66e-146">La procedura per modificare l'aspetto del pulsante quando è in uno stato diverso viene descritta più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="0f66e-146">Changing the button's appearance when it is in a different state is discussed later in this topic.</span></span>  
  
 <span data-ttu-id="0f66e-147">In questo esempio, la struttura visiva è costituita dalle parti seguenti:</span><span class="sxs-lookup"><span data-stu-id="0f66e-147">In this example, the visual structure consists of the following parts:</span></span>  
  
- <span data-ttu-id="0f66e-148">Oggetto <xref:System.Windows.Controls.Border> denominate `RootElement` che funge da radice del modello <xref:System.Windows.FrameworkElement>.</span><span class="sxs-lookup"><span data-stu-id="0f66e-148">A <xref:System.Windows.Controls.Border> named `RootElement` that serves as the template's root <xref:System.Windows.FrameworkElement>.</span></span>  
  
- <span data-ttu-id="0f66e-149">Oggetto <xref:System.Windows.Controls.Grid> che è un figlio del `RootElement`.</span><span class="sxs-lookup"><span data-stu-id="0f66e-149">A <xref:System.Windows.Controls.Grid> that is a child of `RootElement`.</span></span>  
  
- <span data-ttu-id="0f66e-150">Oggetto <xref:System.Windows.Controls.ContentPresenter> che consente di visualizzare il contenuto del pulsante.</span><span class="sxs-lookup"><span data-stu-id="0f66e-150">A <xref:System.Windows.Controls.ContentPresenter> that displays the button's content.</span></span> <span data-ttu-id="0f66e-151">Il <xref:System.Windows.Controls.ContentPresenter> consente a qualsiasi tipo di oggetto da visualizzare.</span><span class="sxs-lookup"><span data-stu-id="0f66e-151">The <xref:System.Windows.Controls.ContentPresenter> enables any type of object to be displayed.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#BasicTemplate](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#basictemplate)]  
  
### <a name="preserving-the-functionality-of-a-controls-properties-by-using-templatebinding"></a><span data-ttu-id="0f66e-152">Mantenimento della funzionalità delle proprietà di un controllo tramite TemplateBinding</span><span class="sxs-lookup"><span data-stu-id="0f66e-152">Preserving the Functionality of a Control's Properties by Using TemplateBinding</span></span>  
 <span data-ttu-id="0f66e-153">Quando si crea un nuovo <xref:System.Windows.Controls.ControlTemplate>, è comunque possibile usare le proprietà pubbliche per modificare l'aspetto del controllo.</span><span class="sxs-lookup"><span data-stu-id="0f66e-153">When you create a new <xref:System.Windows.Controls.ControlTemplate>, you still might want to use the public properties to change the control's appearance.</span></span> <span data-ttu-id="0f66e-154">Il [TemplateBinding](../advanced/templatebinding-markup-extension.md) estensione di markup associa una proprietà di un elemento che si trova nel <xref:System.Windows.Controls.ControlTemplate> a una proprietà pubblica definita dal controllo.</span><span class="sxs-lookup"><span data-stu-id="0f66e-154">The [TemplateBinding](../advanced/templatebinding-markup-extension.md) markup extension binds a property of an element that is in the <xref:System.Windows.Controls.ControlTemplate> to a public property that is defined by the control.</span></span> <span data-ttu-id="0f66e-155">Quando si usa [TemplateBinding](../advanced/templatebinding-markup-extension.md), si consente alle proprietà del controllo di fungere da parametri per il modello.</span><span class="sxs-lookup"><span data-stu-id="0f66e-155">When you use [TemplateBinding](../advanced/templatebinding-markup-extension.md), you enable properties on the control to act as parameters to the template.</span></span> <span data-ttu-id="0f66e-156">Ovvero, quando si imposta una proprietà per un controllo, tale valore viene passato all'elemento che dispone del [TemplateBinding](../advanced/templatebinding-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="0f66e-156">That is, when a property on a control is set, that value is passed on to the element that has the [TemplateBinding](../advanced/templatebinding-markup-extension.md) on it.</span></span>  
  
 <span data-ttu-id="0f66e-157">Nell'esempio seguente viene ripetuta la parte dell'esempio precedente che usa il [TemplateBinding](../advanced/templatebinding-markup-extension.md) estensione di markup per associare le proprietà degli elementi inclusi nel <xref:System.Windows.Controls.ControlTemplate> a proprietà pubbliche definite dal pulsante.</span><span class="sxs-lookup"><span data-stu-id="0f66e-157">The following example repeats the part of the preceding example that uses the [TemplateBinding](../advanced/templatebinding-markup-extension.md) markup extension to bind properties of elements that are in the <xref:System.Windows.Controls.ControlTemplate> to public properties that are defined by the button.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#TemplateBinding](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#templatebinding)]  
  
 <span data-ttu-id="0f66e-158">In questo esempio, il <xref:System.Windows.Controls.Grid> ha relativi <xref:System.Windows.Controls.Panel.Background%2A?displayProperty=nameWithType> modello di proprietà associato a <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="0f66e-158">In this example, the <xref:System.Windows.Controls.Grid> has its <xref:System.Windows.Controls.Panel.Background%2A?displayProperty=nameWithType> property template bound to <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="0f66e-159">In quanto <xref:System.Windows.Controls.Panel.Background%2A?displayProperty=nameWithType> è associato al modello, è possibile creare più pulsanti che utilizzano la stessa <xref:System.Windows.Controls.ControlTemplate> e impostare il <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> su valori diversi per ogni pulsante.</span><span class="sxs-lookup"><span data-stu-id="0f66e-159">Because <xref:System.Windows.Controls.Panel.Background%2A?displayProperty=nameWithType> is template bound, you can create multiple buttons that use the same <xref:System.Windows.Controls.ControlTemplate> and set the <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> to different values on each button.</span></span> <span data-ttu-id="0f66e-160">Se <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> è stata non modello associata a una proprietà di un elemento nel <xref:System.Windows.Controls.ControlTemplate>, impostando il <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> di un pulsante avrebbe alcun effetto sull'aspetto del pulsante.</span><span class="sxs-lookup"><span data-stu-id="0f66e-160">If <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> was not template bound to a property of an element in the <xref:System.Windows.Controls.ControlTemplate>, setting the <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> of a button would have no impact on the button's appearance.</span></span>  
  
 <span data-ttu-id="0f66e-161">Tenere presente che i nomi delle due proprietà non devono necessariamente essere identici.</span><span class="sxs-lookup"><span data-stu-id="0f66e-161">Note that the names of the two properties do not need to be identical.</span></span> <span data-ttu-id="0f66e-162">Nell'esempio precedente, il <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A?displayProperty=nameWithType> proprietà del <xref:System.Windows.Controls.Button> modello associato ai <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A?displayProperty=nameWithType> proprietà del <xref:System.Windows.Controls.ContentPresenter>.</span><span class="sxs-lookup"><span data-stu-id="0f66e-162">In the preceding example, the <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A?displayProperty=nameWithType> property of the <xref:System.Windows.Controls.Button> is template bound to the <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A?displayProperty=nameWithType> property of the <xref:System.Windows.Controls.ContentPresenter>.</span></span> <span data-ttu-id="0f66e-163">In questo modo il contenuto del pulsante può essere posizionato orizzontalmente.</span><span class="sxs-lookup"><span data-stu-id="0f66e-163">This enables the content of the button to be positioned horizontally.</span></span> <span data-ttu-id="0f66e-164"><xref:System.Windows.Controls.ContentPresenter> non ha una proprietà denominata `HorizontalContentAlignment`, ma <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A?displayProperty=nameWithType> può essere associato a <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="0f66e-164"><xref:System.Windows.Controls.ContentPresenter> does not have a property named `HorizontalContentAlignment`, but <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A?displayProperty=nameWithType> can be bound to <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="0f66e-165">Quando si associa al modello una proprietà, accertarsi che le proprietà di origine e destinazione siano dello stesso tipo.</span><span class="sxs-lookup"><span data-stu-id="0f66e-165">When you template bind a property, be sure that the target and source properties are the same type.</span></span>  
  
 <span data-ttu-id="0f66e-166">Il <xref:System.Windows.Controls.Control> classe definisce diverse proprietà che deve essere utilizzata dal modello del controllo per avere effetto sul controllo quando vengono impostate.</span><span class="sxs-lookup"><span data-stu-id="0f66e-166">The <xref:System.Windows.Controls.Control> class defines several properties that must be used by the control template to have an effect on the control when they are set.</span></span> <span data-ttu-id="0f66e-167">Come il <xref:System.Windows.Controls.ControlTemplate> Usa la proprietà dipende dalla proprietà.</span><span class="sxs-lookup"><span data-stu-id="0f66e-167">How the <xref:System.Windows.Controls.ControlTemplate> uses the property depends on the property.</span></span> <span data-ttu-id="0f66e-168">Il <xref:System.Windows.Controls.ControlTemplate> deve usare la proprietà in uno dei modi seguenti:</span><span class="sxs-lookup"><span data-stu-id="0f66e-168">The <xref:System.Windows.Controls.ControlTemplate> must use the property in one of the following ways:</span></span>  
  
- <span data-ttu-id="0f66e-169">Un elemento di <xref:System.Windows.Controls.ControlTemplate> modello associato alla proprietà.</span><span class="sxs-lookup"><span data-stu-id="0f66e-169">An element in the <xref:System.Windows.Controls.ControlTemplate> template binds to the property.</span></span>  
  
- <span data-ttu-id="0f66e-170">Un elemento di <xref:System.Windows.Controls.ControlTemplate> eredita la proprietà da un oggetto padre <xref:System.Windows.FrameworkElement>.</span><span class="sxs-lookup"><span data-stu-id="0f66e-170">An element in the <xref:System.Windows.Controls.ControlTemplate> inherits the property from a parent <xref:System.Windows.FrameworkElement>.</span></span>  
  
 <span data-ttu-id="0f66e-171">La tabella seguente elenca le proprietà visive ereditate da un controllo dal <xref:System.Windows.Controls.Control> classe.</span><span class="sxs-lookup"><span data-stu-id="0f66e-171">The following table lists the visual properties inherited by a control from the <xref:System.Windows.Controls.Control> class.</span></span> <span data-ttu-id="0f66e-172">Indica anche se il modello del controllo predefinito di un controllo usa il valore della proprietà ereditato o se deve essere associato al modello.</span><span class="sxs-lookup"><span data-stu-id="0f66e-172">It also indicates whether the default control template of a control uses the inherited property value or if it must be template bound.</span></span>  
  
|<span data-ttu-id="0f66e-173">Proprietà</span><span class="sxs-lookup"><span data-stu-id="0f66e-173">Property</span></span>|<span data-ttu-id="0f66e-174">Metodo di utilizzo</span><span class="sxs-lookup"><span data-stu-id="0f66e-174">Usage method</span></span>|  
|--------------|------------------|  
|<xref:System.Windows.Controls.Control.Background%2A>|<span data-ttu-id="0f66e-175">Associazione a modello</span><span class="sxs-lookup"><span data-stu-id="0f66e-175">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.BorderThickness%2A>|<span data-ttu-id="0f66e-176">Associazione a modello</span><span class="sxs-lookup"><span data-stu-id="0f66e-176">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.BorderBrush%2A>|<span data-ttu-id="0f66e-177">Associazione a modello</span><span class="sxs-lookup"><span data-stu-id="0f66e-177">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.FontFamily%2A>|<span data-ttu-id="0f66e-178">Ereditarietà della proprietà o associazione a modello</span><span class="sxs-lookup"><span data-stu-id="0f66e-178">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.FontSize%2A>|<span data-ttu-id="0f66e-179">Ereditarietà della proprietà o associazione a modello</span><span class="sxs-lookup"><span data-stu-id="0f66e-179">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.FontStretch%2A>|<span data-ttu-id="0f66e-180">Ereditarietà della proprietà o associazione a modello</span><span class="sxs-lookup"><span data-stu-id="0f66e-180">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.FontWeight%2A>|<span data-ttu-id="0f66e-181">Ereditarietà della proprietà o associazione a modello</span><span class="sxs-lookup"><span data-stu-id="0f66e-181">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.Foreground%2A>|<span data-ttu-id="0f66e-182">Ereditarietà della proprietà o associazione a modello</span><span class="sxs-lookup"><span data-stu-id="0f66e-182">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A>|<span data-ttu-id="0f66e-183">Associazione a modello</span><span class="sxs-lookup"><span data-stu-id="0f66e-183">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.Padding%2A>|<span data-ttu-id="0f66e-184">Associazione a modello</span><span class="sxs-lookup"><span data-stu-id="0f66e-184">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.VerticalContentAlignment%2A>|<span data-ttu-id="0f66e-185">Associazione a modello</span><span class="sxs-lookup"><span data-stu-id="0f66e-185">Template binding</span></span>|  
  
 <span data-ttu-id="0f66e-186">La tabella elenca solo le proprietà visive ereditate dal <xref:System.Windows.Controls.Control> classe.</span><span class="sxs-lookup"><span data-stu-id="0f66e-186">The table lists only the visual properties inherited from the <xref:System.Windows.Controls.Control> class.</span></span> <span data-ttu-id="0f66e-187">Oltre alle proprietà elencate nella tabella, un controllo può anche ereditare le <xref:System.Windows.FrameworkElement.DataContext%2A>, <xref:System.Windows.FrameworkElement.Language%2A>, e <xref:System.Windows.Controls.TextBlock.TextDecorations%2A> proprietà dall'elemento framework padre.</span><span class="sxs-lookup"><span data-stu-id="0f66e-187">Apart from the properties listed in the table, a control may also inherit the <xref:System.Windows.FrameworkElement.DataContext%2A>, <xref:System.Windows.FrameworkElement.Language%2A>, and <xref:System.Windows.Controls.TextBlock.TextDecorations%2A> properties from the parent framework element.</span></span>  
  
 <span data-ttu-id="0f66e-188">Inoltre, se il <xref:System.Windows.Controls.ContentPresenter> è nel <xref:System.Windows.Controls.ControlTemplate> di un <xref:System.Windows.Controls.ContentControl>, il <xref:System.Windows.Controls.ContentPresenter> verrà automaticamente associato al <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> e <xref:System.Windows.Controls.ContentControl.Content%2A> proprietà.</span><span class="sxs-lookup"><span data-stu-id="0f66e-188">Also, if the <xref:System.Windows.Controls.ContentPresenter> is in the <xref:System.Windows.Controls.ControlTemplate> of a <xref:System.Windows.Controls.ContentControl>, the <xref:System.Windows.Controls.ContentPresenter> will automatically bind to the <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> and <xref:System.Windows.Controls.ContentControl.Content%2A> properties.</span></span> <span data-ttu-id="0f66e-189">Allo stesso modo, un' <xref:System.Windows.Controls.ItemsPresenter> che si trova nel <xref:System.Windows.Controls.ControlTemplate> di un <xref:System.Windows.Controls.ItemsControl> verrà automaticamente associato al <xref:System.Windows.Controls.ItemsControl.Items%2A> e <xref:System.Windows.Controls.ItemsPresenter> proprietà.</span><span class="sxs-lookup"><span data-stu-id="0f66e-189">Likewise, an <xref:System.Windows.Controls.ItemsPresenter> that is in the <xref:System.Windows.Controls.ControlTemplate> of an <xref:System.Windows.Controls.ItemsControl> will automatically bind to the <xref:System.Windows.Controls.ItemsControl.Items%2A> and <xref:System.Windows.Controls.ItemsPresenter> properties.</span></span>  
  
 <span data-ttu-id="0f66e-190">L'esempio seguente crea due pulsanti che utilizzano il <xref:System.Windows.Controls.ControlTemplate> definito nell'esempio precedente.</span><span class="sxs-lookup"><span data-stu-id="0f66e-190">The following example creates two buttons that use the <xref:System.Windows.Controls.ControlTemplate> defined in the preceding example.</span></span> <span data-ttu-id="0f66e-191">Nell'esempio viene impostata la <xref:System.Windows.Controls.Control.Background%2A>, <xref:System.Windows.Controls.Control.Foreground%2A>, e <xref:System.Windows.Controls.Control.FontSize%2A> proprietà per ogni pulsante.</span><span class="sxs-lookup"><span data-stu-id="0f66e-191">The example sets the <xref:System.Windows.Controls.Control.Background%2A>, <xref:System.Windows.Controls.Control.Foreground%2A>, and <xref:System.Windows.Controls.Control.FontSize%2A> properties on each button.</span></span> <span data-ttu-id="0f66e-192">Impostando il <xref:System.Windows.Controls.Control.Background%2A> proprietà ha effetto perché è associata al modello nel <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="0f66e-192">Setting the <xref:System.Windows.Controls.Control.Background%2A> property has an effect because it is template bound in the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="0f66e-193">Anche se il <xref:System.Windows.Controls.Control.Foreground%2A> e <xref:System.Windows.Controls.Control.FontSize%2A> vlastnosti nejsou associato al modello, la loro impostazione ha effetto poiché i relativi valori vengono ereditati.</span><span class="sxs-lookup"><span data-stu-id="0f66e-193">Even though the <xref:System.Windows.Controls.Control.Foreground%2A> and <xref:System.Windows.Controls.Control.FontSize%2A> properties are not template bound, setting them has an effect because their values are inherited.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#ButtonDeclaration](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#buttondeclaration)]  
  
 <span data-ttu-id="0f66e-194">Nell'esempio precedente viene generato un output simile alla figura seguente.</span><span class="sxs-lookup"><span data-stu-id="0f66e-194">The preceding example produces output that is similar to the following illustration.</span></span>  
  
 <span data-ttu-id="0f66e-195">![Due pulsanti, uno blu e uno viola. ](./media/ndp-buttontwo.png "NDP_ButtonTwo")</span><span class="sxs-lookup"><span data-stu-id="0f66e-195">![Two buttons, one blue and one purple.](./media/ndp-buttontwo.png "NDP_ButtonTwo")</span></span>  
<span data-ttu-id="0f66e-196">Due pulsanti con diversi colori di sfondo</span><span class="sxs-lookup"><span data-stu-id="0f66e-196">Two buttons with different background colors</span></span>  
  
<a name="changing_the_appearance_of_a_control_depending_on_its_state"></a>   
## <a name="changing-the-appearance-of-a-control-depending-on-its-state"></a><span data-ttu-id="0f66e-197">Modifica dell'aspetto di un controllo in base allo stato</span><span class="sxs-lookup"><span data-stu-id="0f66e-197">Changing the Appearance of a Control Depending on Its State</span></span>  
 <span data-ttu-id="0f66e-198">La differenza tra un pulsante con l'aspetto predefinito e il pulsante dell'esempio precedente è che il pulsante predefinito cambia leggermente in relazione allo stato.</span><span class="sxs-lookup"><span data-stu-id="0f66e-198">The difference between a button with its default appearance and the button in the preceding example is that the default button subtly changes when it is in different states.</span></span> <span data-ttu-id="0f66e-199">Ad esempio, l'aspetto del pulsante predefinito cambia quando viene premuto o quando il puntatore del mouse viene spostato sul pulsante.</span><span class="sxs-lookup"><span data-stu-id="0f66e-199">For example, the default button's appearance changes when the button is pressed, or when the mouse pointer is over the button.</span></span> <span data-ttu-id="0f66e-200">Sebbene il <xref:System.Windows.Controls.ControlTemplate> non modifica la funzionalità di un controllo, viene modificato il comportamento visivo del controllo.</span><span class="sxs-lookup"><span data-stu-id="0f66e-200">Although the <xref:System.Windows.Controls.ControlTemplate> does not change the functionality of a control, it does change the control's visual behavior.</span></span> <span data-ttu-id="0f66e-201">Il comportamento visivo descrive l'aspetto del controllo quando è in un determinato stato.</span><span class="sxs-lookup"><span data-stu-id="0f66e-201">A visual behavior describes the control appearance when it is in a certain state.</span></span> <span data-ttu-id="0f66e-202">Per comprendere la differenza tra la funzionalità e il comportamento visivo di un controllo, si consideri l'esempio del pulsante.</span><span class="sxs-lookup"><span data-stu-id="0f66e-202">To understand the difference between the functionality and visual behavior of a control, consider the button example.</span></span> <span data-ttu-id="0f66e-203">La funzionalità del pulsante consiste nel generare il <xref:System.Windows.Controls.Primitives.ButtonBase.Click> evento quando viene fatto clic, ma il comportamento visivo del pulsante consiste nel modificare l'aspetto del controllo quando viene puntato o premuto.</span><span class="sxs-lookup"><span data-stu-id="0f66e-203">The button's functionality is to raise the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event when it is clicked, but the button's visual behavior is to change its appearance when it is pointed to or pressed.</span></span>  
  
 <span data-ttu-id="0f66e-204">Si utilizza <xref:System.Windows.VisualState> oggetti per specificare l'aspetto di un controllo quando è in un determinato stato.</span><span class="sxs-lookup"><span data-stu-id="0f66e-204">You use <xref:System.Windows.VisualState> objects to specify the appearance of a control when it is in a certain state.</span></span> <span data-ttu-id="0f66e-205">Oggetto <xref:System.Windows.VisualState> contiene un <xref:System.Windows.Media.Animation.Storyboard> che modifica l'aspetto degli elementi che sono nel <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="0f66e-205">A <xref:System.Windows.VisualState> contains a <xref:System.Windows.Media.Animation.Storyboard> that changes the appearance of the elements that are in the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="0f66e-206">Non devi scrivere codice per ottenere questo risultato perché per la logica del controllo cambia stato usando il <xref:System.Windows.VisualStateManager>.</span><span class="sxs-lookup"><span data-stu-id="0f66e-206">You do not have to write any code to make this occur because the control's logic changes state by using the <xref:System.Windows.VisualStateManager>.</span></span> <span data-ttu-id="0f66e-207">Quando il controllo passa allo stato specificato per il <xref:System.Windows.VisualState.Name%2A?displayProperty=nameWithType> proprietà, il <xref:System.Windows.Media.Animation.Storyboard> inizia.</span><span class="sxs-lookup"><span data-stu-id="0f66e-207">When the control enters the state that is specified by the <xref:System.Windows.VisualState.Name%2A?displayProperty=nameWithType> property, the <xref:System.Windows.Media.Animation.Storyboard> begins.</span></span> <span data-ttu-id="0f66e-208">Quando il controllo esce dallo stato, il <xref:System.Windows.Media.Animation.Storyboard> si arresta.</span><span class="sxs-lookup"><span data-stu-id="0f66e-208">When the control exits the state, the <xref:System.Windows.Media.Animation.Storyboard> stops.</span></span>  
  
 <span data-ttu-id="0f66e-209">L'esempio seguente mostra le <xref:System.Windows.VisualState> che modifica l'aspetto di un <xref:System.Windows.Controls.Button> quando il puntatore del mouse è posizionato sopra di essa.</span><span class="sxs-lookup"><span data-stu-id="0f66e-209">The following example shows the <xref:System.Windows.VisualState> that changes the appearance of a <xref:System.Windows.Controls.Button> when the mouse pointer is over it.</span></span> <span data-ttu-id="0f66e-210">Il <xref:System.Windows.Media.Animation.Storyboard> modificando il colore del colore del bordo del pulsante viene modificato il `BorderBrush`.</span><span class="sxs-lookup"><span data-stu-id="0f66e-210">The <xref:System.Windows.Media.Animation.Storyboard> changes the button's border color by changing the color of the `BorderBrush`.</span></span> <span data-ttu-id="0f66e-211">Se si fa riferimento il <xref:System.Windows.Controls.ControlTemplate> riportato all'inizio di questo argomento, si ricorderà che `BorderBrush` è il nome del <xref:System.Windows.Media.SolidColorBrush> che viene assegnato al <xref:System.Windows.Controls.Border.Background%2A> del <xref:System.Windows.Controls.Border>.</span><span class="sxs-lookup"><span data-stu-id="0f66e-211">If you refer to the <xref:System.Windows.Controls.ControlTemplate> example at the beginning of this topic, you will recall that `BorderBrush` is the name of the <xref:System.Windows.Media.SolidColorBrush> that is assigned to the <xref:System.Windows.Controls.Border.Background%2A> of the <xref:System.Windows.Controls.Border>.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#4](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#4)]  
  
 <span data-ttu-id="0f66e-212">Il controllo è responsabile della definizione degli stati come parte del relativo contratto e questo aspetto verrà, esaminato in dettaglio nella sezione [Personalizzazione di altri controlli sulla base del contratto di controllo](#customizing_other_controls_by_understanding_the_control_contract) più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="0f66e-212">The control is responsible for defining the states as part of its control contract, which is discussed in detail in [Customizing Other Controls by Understanding the Control Contract](#customizing_other_controls_by_understanding_the_control_contract) later in this topic.</span></span> <span data-ttu-id="0f66e-213">La tabella seguente elenca gli stati specificati per il <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="0f66e-213">The following table lists the states that are specified for the <xref:System.Windows.Controls.Button>.</span></span>  
  
|<span data-ttu-id="0f66e-214">Nome VisualState</span><span class="sxs-lookup"><span data-stu-id="0f66e-214">VisualState Name</span></span>|<span data-ttu-id="0f66e-215">Nome VisualStateGroup</span><span class="sxs-lookup"><span data-stu-id="0f66e-215">VisualStateGroup Name</span></span>|<span data-ttu-id="0f66e-216">Descrizione</span><span class="sxs-lookup"><span data-stu-id="0f66e-216">Description</span></span>|  
|----------------------|---------------------------|-----------------|  
|<span data-ttu-id="0f66e-217">Normale</span><span class="sxs-lookup"><span data-stu-id="0f66e-217">Normal</span></span>|<span data-ttu-id="0f66e-218">CommonStates</span><span class="sxs-lookup"><span data-stu-id="0f66e-218">CommonStates</span></span>|<span data-ttu-id="0f66e-219">Lo stato predefinito.</span><span class="sxs-lookup"><span data-stu-id="0f66e-219">The default state.</span></span>|  
|<span data-ttu-id="0f66e-220">MouseOver</span><span class="sxs-lookup"><span data-stu-id="0f66e-220">MouseOver</span></span>|<span data-ttu-id="0f66e-221">CommonStates</span><span class="sxs-lookup"><span data-stu-id="0f66e-221">CommonStates</span></span>|<span data-ttu-id="0f66e-222">Il puntatore del mouse è posizionato sul controllo.</span><span class="sxs-lookup"><span data-stu-id="0f66e-222">The mouse pointer is positioned over the control.</span></span>|  
|<span data-ttu-id="0f66e-223">Premuto</span><span class="sxs-lookup"><span data-stu-id="0f66e-223">Pressed</span></span>|<span data-ttu-id="0f66e-224">CommonStates</span><span class="sxs-lookup"><span data-stu-id="0f66e-224">CommonStates</span></span>|<span data-ttu-id="0f66e-225">Il controllo è premuto.</span><span class="sxs-lookup"><span data-stu-id="0f66e-225">The control is pressed.</span></span>|  
|<span data-ttu-id="0f66e-226">Disabilitato</span><span class="sxs-lookup"><span data-stu-id="0f66e-226">Disabled</span></span>|<span data-ttu-id="0f66e-227">CommonStates</span><span class="sxs-lookup"><span data-stu-id="0f66e-227">CommonStates</span></span>|<span data-ttu-id="0f66e-228">Il controllo è disabilitato.</span><span class="sxs-lookup"><span data-stu-id="0f66e-228">The control is disabled.</span></span>|  
|<span data-ttu-id="0f66e-229">Con stato attivo</span><span class="sxs-lookup"><span data-stu-id="0f66e-229">Focused</span></span>|<span data-ttu-id="0f66e-230">FocusStates</span><span class="sxs-lookup"><span data-stu-id="0f66e-230">FocusStates</span></span>|<span data-ttu-id="0f66e-231">Il controllo ha lo stato attivo.</span><span class="sxs-lookup"><span data-stu-id="0f66e-231">The control has focus.</span></span>|  
|<span data-ttu-id="0f66e-232">Con stato non attivo</span><span class="sxs-lookup"><span data-stu-id="0f66e-232">Unfocused</span></span>|<span data-ttu-id="0f66e-233">FocusStates</span><span class="sxs-lookup"><span data-stu-id="0f66e-233">FocusStates</span></span>|<span data-ttu-id="0f66e-234">Il controllo non ha lo stato attivo.</span><span class="sxs-lookup"><span data-stu-id="0f66e-234">The control does not have focus.</span></span>|  
  
 <span data-ttu-id="0f66e-235">Il <xref:System.Windows.Controls.Button> definisce due gruppi di stati: il `CommonStates` gruppo che contiene il `Normal`, `MouseOver`, `Pressed`, e `Disabled` stati.</span><span class="sxs-lookup"><span data-stu-id="0f66e-235">The <xref:System.Windows.Controls.Button> defines two state groups: the `CommonStates` group contains the `Normal`, `MouseOver`, `Pressed`, and `Disabled` states.</span></span> <span data-ttu-id="0f66e-236">Mentre il gruppo `FocusStates` contiene gli stati `Focused` e `Unfocused`.</span><span class="sxs-lookup"><span data-stu-id="0f66e-236">The `FocusStates` group contains the `Focused` and `Unfocused` states.</span></span> <span data-ttu-id="0f66e-237">Gli stati nello stesso gruppo si escludono a vicenda.</span><span class="sxs-lookup"><span data-stu-id="0f66e-237">States in the same state group are mutually exclusive.</span></span> <span data-ttu-id="0f66e-238">Il controllo è sempre in uno stato specifico per ogni gruppo.</span><span class="sxs-lookup"><span data-stu-id="0f66e-238">The control is always in exactly one state per group.</span></span> <span data-ttu-id="0f66e-239">Ad esempio, un <xref:System.Windows.Controls.Button> può avere lo stato attivo anche quando il puntatore del mouse non è posizionato sopra di essa, quindi, un <xref:System.Windows.Controls.Button> nel `Focused` lo stato può essere nel `MouseOver`, `Pressed`, o `Normal` dello stato.</span><span class="sxs-lookup"><span data-stu-id="0f66e-239">For example, a <xref:System.Windows.Controls.Button> can have focus even when the mouse pointer is not over it, so a <xref:System.Windows.Controls.Button> in the `Focused` state can be in the `MouseOver`, `Pressed`, or `Normal` state.</span></span>  
  
 <span data-ttu-id="0f66e-240">Si aggiungono <xref:System.Windows.VisualState> oggetti <xref:System.Windows.VisualStateGroup> oggetti.</span><span class="sxs-lookup"><span data-stu-id="0f66e-240">You add <xref:System.Windows.VisualState> objects to <xref:System.Windows.VisualStateGroup> objects.</span></span> <span data-ttu-id="0f66e-241">Si aggiungono <xref:System.Windows.VisualStateGroup> gli oggetti per il <xref:System.Windows.VisualStateManager.VisualStateGroups%2A?displayProperty=nameWithType> proprietà associata.</span><span class="sxs-lookup"><span data-stu-id="0f66e-241">You add <xref:System.Windows.VisualStateGroup> objects to the <xref:System.Windows.VisualStateManager.VisualStateGroups%2A?displayProperty=nameWithType> attached property.</span></span> <span data-ttu-id="0f66e-242">L'esempio seguente definisce la <xref:System.Windows.VisualState> degli oggetti per il `Normal`, `MouseOver`, e `Pressed` stati, che fanno tutti il `CommonStates` gruppo.</span><span class="sxs-lookup"><span data-stu-id="0f66e-242">The following example defines the <xref:System.Windows.VisualState> objects for the `Normal`, `MouseOver`, and `Pressed` states, which are all in the `CommonStates` group.</span></span> <span data-ttu-id="0f66e-243">Il <xref:System.Windows.VisualState.Name%2A> della ognuno <xref:System.Windows.VisualState> corrisponde al nome nella tabella precedente.</span><span class="sxs-lookup"><span data-stu-id="0f66e-243">The <xref:System.Windows.VisualState.Name%2A> of each <xref:System.Windows.VisualState> matches the name in the preceding table.</span></span> <span data-ttu-id="0f66e-244">Lo stato `Disabled` e gli stati del gruppo `FocusStates` sono stati omessi per brevità, ma sono inclusi nell'esempio completo alla fine di questo argomento.</span><span class="sxs-lookup"><span data-stu-id="0f66e-244">The `Disabled` state and the states in the `FocusStates` group are omitted to keep the example short, but they are included in the entire example at the end of this topic.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0f66e-245">Assicurarsi di impostare il <xref:System.Windows.VisualStateManager.VisualStateGroups%2A?displayProperty=nameWithType> proprietà sulla directory radice associata <xref:System.Windows.FrameworkElement> del <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="0f66e-245">Be sure to set the <xref:System.Windows.VisualStateManager.VisualStateGroups%2A?displayProperty=nameWithType> attached property on the root <xref:System.Windows.FrameworkElement> of the <xref:System.Windows.Controls.ControlTemplate>.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#VisualStates](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#visualstates)]  
  
 <span data-ttu-id="0f66e-246">Nell'esempio precedente viene generato un output simile alle figure seguenti.</span><span class="sxs-lookup"><span data-stu-id="0f66e-246">The preceding example produces output that is similar to the following illustrations.</span></span>  
  
 <span data-ttu-id="0f66e-247">![Pulsante con un modello del controllo personalizzato. ](./media/ndp-buttonnormal.png "NDP_ButtonNormal")</span><span class="sxs-lookup"><span data-stu-id="0f66e-247">![A button with a custom control template.](./media/ndp-buttonnormal.png "NDP_ButtonNormal")</span></span>  
<span data-ttu-id="0f66e-248">Pulsante che usa un modello del controllo personalizzato nello stato normale</span><span class="sxs-lookup"><span data-stu-id="0f66e-248">A button that uses a custom control template in the normal state</span></span>  
  
 <span data-ttu-id="0f66e-249">![Pulsante con un bordo rosso. ](./media/ndp-buttonmouseover.png "NDP_ButtonMouseOver")</span><span class="sxs-lookup"><span data-stu-id="0f66e-249">![A button with a red border.](./media/ndp-buttonmouseover.png "NDP_ButtonMouseOver")</span></span>  
<span data-ttu-id="0f66e-250">Pulsante che usa un modello del controllo personalizzato nello stato di passaggio del mouse</span><span class="sxs-lookup"><span data-stu-id="0f66e-250">A button that uses a custom control template in the mouse over state</span></span>  
  
 <span data-ttu-id="0f66e-251">![Il bordo è trasparente in un pulsante premuto. ](./media/ndp-buttonpressed.png "NDP_ButtonPressed")</span><span class="sxs-lookup"><span data-stu-id="0f66e-251">![The border is transparent on a pressed button.](./media/ndp-buttonpressed.png "NDP_ButtonPressed")</span></span>  
<span data-ttu-id="0f66e-252">Pulsante che usa un modello del controllo personalizzato nello stato premuto</span><span class="sxs-lookup"><span data-stu-id="0f66e-252">A button that uses a custom control template in the pressed state</span></span>  
  
 <span data-ttu-id="0f66e-253">Per trovare gli stati visivi dei controlli inclusi in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], vedere [Stili e modelli di Control](control-styles-and-templates.md).</span><span class="sxs-lookup"><span data-stu-id="0f66e-253">To find the visual states for controls that are included with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [Control Styles and Templates](control-styles-and-templates.md).</span></span>  
  
<a name="specifying_the_behavior_of_a_control_when_it_transitions_between_states"></a>   
## <a name="specifying-the-behavior-of-a-control-when-it-transitions-between-states"></a><span data-ttu-id="0f66e-254">Impostazione del comportamento di un controllo nella transizione tra stati</span><span class="sxs-lookup"><span data-stu-id="0f66e-254">Specifying the Behavior of a Control When It Transitions Between States</span></span>  
 <span data-ttu-id="0f66e-255">Nell'esempio precedente, l'aspetto del pulsante cambia anche quando viene selezionato dall'utente, ma se non viene premuto per almeno un secondo, l'utente non vede l'effetto.</span><span class="sxs-lookup"><span data-stu-id="0f66e-255">In the preceding example, the appearance of the button also changes when the user clicks it, but unless the button is pressed for a full second, the user does not see the effect.</span></span> <span data-ttu-id="0f66e-256">Per impostazione predefinita, l'animazione impiega un secondo per attivarsi.</span><span class="sxs-lookup"><span data-stu-id="0f66e-256">By default, the animation takes one second to occur.</span></span> <span data-ttu-id="0f66e-257">Poiché è probabile che gli utenti rilasciano un pulsante in molto meno tempo, il feedback visivo non sarà efficace se si lascia il <xref:System.Windows.Controls.ControlTemplate> nello stato predefinito.</span><span class="sxs-lookup"><span data-stu-id="0f66e-257">Because users are likely to click and release a button in much less time, the visual feedback will not be effective if you leave the <xref:System.Windows.Controls.ControlTemplate> in its default state.</span></span>  
  
 <span data-ttu-id="0f66e-258">È possibile specificare la quantità di tempo impiegato per eseguire la transizione senza problemi un controllo da uno stato a altro mediante l'aggiunta di un'animazione <xref:System.Windows.VisualTransition> gli oggetti per il <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="0f66e-258">You can specify the amount of time that it takes an animation to occur to smoothly transition a control from one state to another by adding <xref:System.Windows.VisualTransition> objects to the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="0f66e-259">Quando si crea un <xref:System.Windows.VisualTransition>, si specifica uno o più delle operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="0f66e-259">When you create a <xref:System.Windows.VisualTransition>, you specify one or more of the following:</span></span>  
  
- <span data-ttu-id="0f66e-260">Il tempo necessario affinché si verifichi una transizione tra stati.</span><span class="sxs-lookup"><span data-stu-id="0f66e-260">The time it takes for a transition between states to occur.</span></span>  
  
- <span data-ttu-id="0f66e-261">Le modifiche aggiuntive nell'aspetto del controllo che si verificano al momento della transizione.</span><span class="sxs-lookup"><span data-stu-id="0f66e-261">Additional changes in the control's appearance that occur at the time of the transition.</span></span>  
  
- <span data-ttu-id="0f66e-262">Gli stati di <xref:System.Windows.VisualTransition> viene applicato a.</span><span class="sxs-lookup"><span data-stu-id="0f66e-262">Which states the <xref:System.Windows.VisualTransition> is applied to.</span></span>  
  
### <a name="specifying-the-duration-of-a-transition"></a><span data-ttu-id="0f66e-263">Impostazione della durata di una transizione</span><span class="sxs-lookup"><span data-stu-id="0f66e-263">Specifying the Duration of a Transition</span></span>  
 <span data-ttu-id="0f66e-264">È possibile specificare il tempo necessario una transizione impostando il <xref:System.Windows.VisualTransition.GeneratedDuration%2A> proprietà.</span><span class="sxs-lookup"><span data-stu-id="0f66e-264">You can specify how long a transition takes by setting the <xref:System.Windows.VisualTransition.GeneratedDuration%2A> property.</span></span> <span data-ttu-id="0f66e-265">Nell'esempio precedente è presente un <xref:System.Windows.VisualState> che specifica che il bordo del pulsante diventa trasparente quando viene premuto il pulsante, ma l'animazione richiede troppo tempo per essere visualizzata se il pulsante viene premuto e rilasciato rapidamente.</span><span class="sxs-lookup"><span data-stu-id="0f66e-265">The preceding example has a <xref:System.Windows.VisualState> that specifies that the button's border becomes transparent when the button is pressed, but the animation takes too long to be noticeable if the button is quickly pressed and released.</span></span> <span data-ttu-id="0f66e-266">È possibile usare un <xref:System.Windows.VisualTransition> per specificare la quantità di tempo impiegato dal controllo per la transizione allo stato premuto.</span><span class="sxs-lookup"><span data-stu-id="0f66e-266">You can use a <xref:System.Windows.VisualTransition> to specify the amount of time it takes the control to transition into the pressed state.</span></span> <span data-ttu-id="0f66e-267">Nell'esempio seguente viene specificato che il controllo impiega un centesimo di secondo per passare allo stato di pressione.</span><span class="sxs-lookup"><span data-stu-id="0f66e-267">The following example specifies that the control takes one hundredth of a second to go into the pressed state.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#PressedTransition](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#pressedtransition)]  
  
### <a name="specifying-changes-to-the-controls-appearance-during-a-transition"></a><span data-ttu-id="0f66e-268">Impostazione delle modifiche all'aspetto del controllo durante una transizione</span><span class="sxs-lookup"><span data-stu-id="0f66e-268">Specifying Changes to the Control's Appearance During a Transition</span></span>  
 <span data-ttu-id="0f66e-269">Il <xref:System.Windows.VisualTransition> contiene un <xref:System.Windows.Media.Animation.Storyboard> che inizia quando il controllo esegue la transizione tra stati.</span><span class="sxs-lookup"><span data-stu-id="0f66e-269">The <xref:System.Windows.VisualTransition> contains a <xref:System.Windows.Media.Animation.Storyboard> that begins when the control transitions between states.</span></span> <span data-ttu-id="0f66e-270">Ad esempio, è possibile specificare che una determinata animazione si verifica quando il controllo passa dallo stato `MouseOver` allo stato `Normal`.</span><span class="sxs-lookup"><span data-stu-id="0f66e-270">For example, you can specify that a certain animation occurs when the control transitions from the `MouseOver` state to the `Normal` State.</span></span> <span data-ttu-id="0f66e-271">L'esempio seguente crea un <xref:System.Windows.VisualTransition> che specifica che quando l'utente sposta il puntatore del mouse dal pulsante, il bordo del pulsante diventa blu, quindi giallo e infine nero in 1,5 secondi.</span><span class="sxs-lookup"><span data-stu-id="0f66e-271">The following example creates a <xref:System.Windows.VisualTransition> that specifies that when the user moves the mouse pointer away from the button, the button's border changes to blue, then to yellow, then to black in 1.5 seconds.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#8](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#8)]  
  
### <a name="specifying-when-a-visualtransition-is-applied"></a><span data-ttu-id="0f66e-272">Impostazione dei casi in cui applicare un oggetto VisualTransition</span><span class="sxs-lookup"><span data-stu-id="0f66e-272">Specifying When a VisualTransition Is Applied</span></span>  
 <span data-ttu-id="0f66e-273">Oggetto <xref:System.Windows.VisualTransition> possono essere limitate da applicare solo a determinati stati o applicarlo ogni volta che il controllo passa tra stati.</span><span class="sxs-lookup"><span data-stu-id="0f66e-273">A <xref:System.Windows.VisualTransition> can be restricted to apply to only certain states, or it can be applied any time the control transitions between states.</span></span> <span data-ttu-id="0f66e-274">Nell'esempio precedente, il <xref:System.Windows.VisualTransition> viene applicata quando il controllo passa dal `MouseOver` torni allo stato di `Normal` stato; nell'esempio precedente, il <xref:System.Windows.VisualTransition> viene applicata quando il controllo passa al `Pressed` dello stato.</span><span class="sxs-lookup"><span data-stu-id="0f66e-274">In the preceding example, the <xref:System.Windows.VisualTransition> is applied when the control goes from the `MouseOver` state to the `Normal` state; in the example before that, the <xref:System.Windows.VisualTransition> is applied when the control goes into the `Pressed` state.</span></span> <span data-ttu-id="0f66e-275">Per limitare l'una <xref:System.Windows.VisualTransition> viene applicata mediante l'impostazione di <xref:System.Windows.VisualTransition.To%2A> e <xref:System.Windows.VisualTransition.From%2A> proprietà.</span><span class="sxs-lookup"><span data-stu-id="0f66e-275">You restrict when a <xref:System.Windows.VisualTransition> is applied by setting the <xref:System.Windows.VisualTransition.To%2A> and <xref:System.Windows.VisualTransition.From%2A> properties.</span></span> <span data-ttu-id="0f66e-276">Nella tabella seguente vengono descritti i livelli di restrizione, in modo decrescente dal più restrittivo.</span><span class="sxs-lookup"><span data-stu-id="0f66e-276">The following table describes the levels of restriction from most restrictive to least restrictive.</span></span>  
  
|<span data-ttu-id="0f66e-277">Tipo di restrizione</span><span class="sxs-lookup"><span data-stu-id="0f66e-277">Type of restriction</span></span>|<span data-ttu-id="0f66e-278">Valore di From</span><span class="sxs-lookup"><span data-stu-id="0f66e-278">Value of From</span></span>|<span data-ttu-id="0f66e-279">Valore di To</span><span class="sxs-lookup"><span data-stu-id="0f66e-279">Value of To</span></span>|  
|-------------------------|-------------------|-----------------|  
|<span data-ttu-id="0f66e-280">Da uno stato specifico un altro stato specifico</span><span class="sxs-lookup"><span data-stu-id="0f66e-280">From a specified state to another specified state</span></span>|<span data-ttu-id="0f66e-281">Il nome di un <xref:System.Windows.VisualState></span><span class="sxs-lookup"><span data-stu-id="0f66e-281">The name of a <xref:System.Windows.VisualState></span></span>|<span data-ttu-id="0f66e-282">Il nome di un <xref:System.Windows.VisualState></span><span class="sxs-lookup"><span data-stu-id="0f66e-282">The name of a <xref:System.Windows.VisualState></span></span>|  
|<span data-ttu-id="0f66e-283">Da qualsiasi stato a uno stato specifico</span><span class="sxs-lookup"><span data-stu-id="0f66e-283">From any state to a specified state</span></span>|<span data-ttu-id="0f66e-284">Non impostato</span><span class="sxs-lookup"><span data-stu-id="0f66e-284">Not set</span></span>|<span data-ttu-id="0f66e-285">Il nome di un <xref:System.Windows.VisualState></span><span class="sxs-lookup"><span data-stu-id="0f66e-285">The name of a <xref:System.Windows.VisualState></span></span>|  
|<span data-ttu-id="0f66e-286">Da uno stato specifico a qualsiasi stato</span><span class="sxs-lookup"><span data-stu-id="0f66e-286">From a specified state to any state</span></span>|<span data-ttu-id="0f66e-287">Il nome di un <xref:System.Windows.VisualState></span><span class="sxs-lookup"><span data-stu-id="0f66e-287">The name of a <xref:System.Windows.VisualState></span></span>|<span data-ttu-id="0f66e-288">Non impostato</span><span class="sxs-lookup"><span data-stu-id="0f66e-288">Not set</span></span>|  
|<span data-ttu-id="0f66e-289">Da qualsiasi stato a qualsiasi altro stato</span><span class="sxs-lookup"><span data-stu-id="0f66e-289">From any state to any other state</span></span>|<span data-ttu-id="0f66e-290">Non impostato</span><span class="sxs-lookup"><span data-stu-id="0f66e-290">Not set</span></span>|<span data-ttu-id="0f66e-291">Non impostato</span><span class="sxs-lookup"><span data-stu-id="0f66e-291">Not set</span></span>|  
  
 <span data-ttu-id="0f66e-292">È possibile avere più <xref:System.Windows.VisualTransition> oggetti un <xref:System.Windows.VisualStateGroup> che fanno riferimento allo stesso stato, ma verranno usati nell'ordine specificato nella tabella precedente.</span><span class="sxs-lookup"><span data-stu-id="0f66e-292">You can have multiple <xref:System.Windows.VisualTransition> objects in a <xref:System.Windows.VisualStateGroup> that refer to the same state, but they will be used in the order that the previous table specifies.</span></span> <span data-ttu-id="0f66e-293">Nell'esempio seguente, sono presenti due <xref:System.Windows.VisualTransition> oggetti.</span><span class="sxs-lookup"><span data-stu-id="0f66e-293">In the following example, there are two <xref:System.Windows.VisualTransition> objects.</span></span> <span data-ttu-id="0f66e-294">Quando il controllo passa dal `Pressed` torni allo stato il `MouseOver` lo stato, il <xref:System.Windows.VisualTransition> che ha entrambi <xref:System.Windows.VisualTransition.From%2A> e <xref:System.Windows.VisualTransition.To%2A> set viene utilizzato.</span><span class="sxs-lookup"><span data-stu-id="0f66e-294">When the control transitions from the `Pressed` state to the `MouseOver` state, the <xref:System.Windows.VisualTransition> that has both <xref:System.Windows.VisualTransition.From%2A> and <xref:System.Windows.VisualTransition.To%2A> set is used.</span></span> <span data-ttu-id="0f66e-295">Quando il controllo passa da uno stato diverso da `Pressed` allo stato `MouseOver`, viene usato l'altro stato.</span><span class="sxs-lookup"><span data-stu-id="0f66e-295">When the control transitions from a state that is not `Pressed` to the `MouseOver` state, the other state is used.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#7](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#7)]  
  
 <span data-ttu-id="0f66e-296">Il <xref:System.Windows.VisualStateGroup> ha un <xref:System.Windows.VisualStateGroup.Transitions%2A> proprietà che contiene il <xref:System.Windows.VisualTransition> oggetti che si applicano al <xref:System.Windows.VisualState> gli oggetti nel <xref:System.Windows.VisualStateGroup>.</span><span class="sxs-lookup"><span data-stu-id="0f66e-296">The <xref:System.Windows.VisualStateGroup> has a <xref:System.Windows.VisualStateGroup.Transitions%2A> property that contains the <xref:System.Windows.VisualTransition> objects that apply to the <xref:System.Windows.VisualState> objects in the <xref:System.Windows.VisualStateGroup>.</span></span> <span data-ttu-id="0f66e-297">Come le <xref:System.Windows.Controls.ControlTemplate> autore, si è liberi includere eventuali <xref:System.Windows.VisualTransition> desiderato.</span><span class="sxs-lookup"><span data-stu-id="0f66e-297">As the <xref:System.Windows.Controls.ControlTemplate> author, you are free to include any <xref:System.Windows.VisualTransition> you want.</span></span> <span data-ttu-id="0f66e-298">Tuttavia, se il <xref:System.Windows.VisualTransition.To%2A> e <xref:System.Windows.VisualTransition.From%2A> sono impostate su nomi di stato che non sono nel <xref:System.Windows.VisualStateGroup>, il <xref:System.Windows.VisualTransition> viene ignorato.</span><span class="sxs-lookup"><span data-stu-id="0f66e-298">However, if the <xref:System.Windows.VisualTransition.To%2A> and <xref:System.Windows.VisualTransition.From%2A> properties are set to state names that are not in the <xref:System.Windows.VisualStateGroup>, the <xref:System.Windows.VisualTransition> is ignored.</span></span>  
  
 <span data-ttu-id="0f66e-299">L'esempio seguente mostra le <xref:System.Windows.VisualStateGroup> per il `CommonStates`.</span><span class="sxs-lookup"><span data-stu-id="0f66e-299">The following example shows the <xref:System.Windows.VisualStateGroup> for the `CommonStates`.</span></span> <span data-ttu-id="0f66e-300">L'esempio definisce un <xref:System.Windows.VisualTransition> per ognuno dei seguenti del pulsante esegue la transizione.</span><span class="sxs-lookup"><span data-stu-id="0f66e-300">The example defines a <xref:System.Windows.VisualTransition> for each of the button's following transitions.</span></span>  
  
- <span data-ttu-id="0f66e-301">Allo stato `Pressed`.</span><span class="sxs-lookup"><span data-stu-id="0f66e-301">To the `Pressed` state.</span></span>  
  
- <span data-ttu-id="0f66e-302">Allo stato `MouseOver`.</span><span class="sxs-lookup"><span data-stu-id="0f66e-302">To the `MouseOver` state.</span></span>  
  
- <span data-ttu-id="0f66e-303">Dallo stato `Pressed` allo stato `MouseOver`.</span><span class="sxs-lookup"><span data-stu-id="0f66e-303">From the `Pressed` state to the `MouseOver` state.</span></span>  
  
- <span data-ttu-id="0f66e-304">Dallo stato `MouseOver` allo stato `Normal`.</span><span class="sxs-lookup"><span data-stu-id="0f66e-304">From the `MouseOver` state to the `Normal` state.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#VisualTransitions](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#visualtransitions)]  
  
<a name="customizing_other_controls_by_understanding_the_control_contract"></a>   
## <a name="customizing-other-controls-by-understanding-the-control-contract"></a><span data-ttu-id="0f66e-305">Personalizzazione di altri controlli sulla base del contratto di controllo</span><span class="sxs-lookup"><span data-stu-id="0f66e-305">Customizing Other Controls by Understanding the Control Contract</span></span>  
 <span data-ttu-id="0f66e-306">Un controllo che usa un' <xref:System.Windows.Controls.ControlTemplate> per specificare la struttura visiva (usando <xref:System.Windows.FrameworkElement> oggetti) e il comportamento visivo (tramite <xref:System.Windows.VisualState> oggetti) usa il modello di controllo part.</span><span class="sxs-lookup"><span data-stu-id="0f66e-306">A control that uses a <xref:System.Windows.Controls.ControlTemplate> to specify its visual structure (by using <xref:System.Windows.FrameworkElement> objects) and visual behavior (by using <xref:System.Windows.VisualState> objects) uses the parts control model.</span></span> <span data-ttu-id="0f66e-307">Molti dei controlli inclusi in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 4 usano questo modello.</span><span class="sxs-lookup"><span data-stu-id="0f66e-307">Many of the controls that are included with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 4 use this model.</span></span> <span data-ttu-id="0f66e-308">Le parti che un <xref:System.Windows.Controls.ControlTemplate> autore dovrà essere a conoscenza vengono comunicate tramite il contratto di controllo.</span><span class="sxs-lookup"><span data-stu-id="0f66e-308">The parts that a <xref:System.Windows.Controls.ControlTemplate> author needs to be aware of are communicated through the control contract.</span></span> <span data-ttu-id="0f66e-309">Quando si conoscono le parti di un contratto di controllo, è possibile personalizzare l'aspetto di qualsiasi controllo che utilizza il modello di controllo part.</span><span class="sxs-lookup"><span data-stu-id="0f66e-309">When you understand the parts of a control contract, you can customize the appearance of any control that uses the parts control model.</span></span>  
  
 <span data-ttu-id="0f66e-310">Un contratto di controllo include tre elementi:</span><span class="sxs-lookup"><span data-stu-id="0f66e-310">A control contract has three elements:</span></span>  
  
- <span data-ttu-id="0f66e-311">Gli elementi visivi usati dalla logica del controllo.</span><span class="sxs-lookup"><span data-stu-id="0f66e-311">The visual elements that the control's logic uses.</span></span>  
  
- <span data-ttu-id="0f66e-312">Gli stati del controllo e il gruppo a cui appartiene ogni stato.</span><span class="sxs-lookup"><span data-stu-id="0f66e-312">The states of the control and the group each state belongs to.</span></span>  
  
- <span data-ttu-id="0f66e-313">Le proprietà pubbliche che influiscono visivamente sul controllo.</span><span class="sxs-lookup"><span data-stu-id="0f66e-313">The public properties that visually affect the control.</span></span>  
  
### <a name="visual-elements-in-the-control-contract"></a><span data-ttu-id="0f66e-314">Elementi visivi nel contratto di controllo</span><span class="sxs-lookup"><span data-stu-id="0f66e-314">Visual Elements in the Control Contract</span></span>  
 <span data-ttu-id="0f66e-315">In alcuni casi per la logica di un controllo interagisce con un <xref:System.Windows.FrameworkElement> che si trova nel <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="0f66e-315">Sometimes a control's logic interacts with a <xref:System.Windows.FrameworkElement> that is in the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="0f66e-316">Ad esempio, il controllo può gestire un evento di uno dei relativi elementi.</span><span class="sxs-lookup"><span data-stu-id="0f66e-316">For example, the control might handle an event of one of its elements.</span></span> <span data-ttu-id="0f66e-317">Quando un controllo si aspetta di trovare un determinato <xref:System.Windows.FrameworkElement> nella <xref:System.Windows.Controls.ControlTemplate>, deve fornire tali informazioni per il <xref:System.Windows.Controls.ControlTemplate> autore.</span><span class="sxs-lookup"><span data-stu-id="0f66e-317">When a control expects to find a particular <xref:System.Windows.FrameworkElement> in the <xref:System.Windows.Controls.ControlTemplate>, it must convey that information to the <xref:System.Windows.Controls.ControlTemplate> author.</span></span> <span data-ttu-id="0f66e-318">Il controllo Usa il <xref:System.Windows.TemplatePartAttribute> per indicare il tipo di elemento previsto e quale deve essere il nome dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="0f66e-318">The control uses the <xref:System.Windows.TemplatePartAttribute> to convey the type of element that is expected, and what the name of the element should be.</span></span> <span data-ttu-id="0f66e-319">Il <xref:System.Windows.Controls.Button> non ha <xref:System.Windows.FrameworkElement> parti nel relativo contratto di controllo, ma altri controlli, ad esempio il <xref:System.Windows.Controls.ComboBox>, eseguire operazioni.</span><span class="sxs-lookup"><span data-stu-id="0f66e-319">The <xref:System.Windows.Controls.Button> does not have <xref:System.Windows.FrameworkElement> parts in its control contract, but other controls, such as the <xref:System.Windows.Controls.ComboBox>, do.</span></span>  
  
 <span data-ttu-id="0f66e-320">L'esempio seguente mostra le <xref:System.Windows.TemplatePartAttribute> gli oggetti che vengono specificati nel <xref:System.Windows.Controls.ComboBox> classe.</span><span class="sxs-lookup"><span data-stu-id="0f66e-320">The following example shows the <xref:System.Windows.TemplatePartAttribute> objects that are specified on the <xref:System.Windows.Controls.ComboBox> class.</span></span> <span data-ttu-id="0f66e-321">La logica del <xref:System.Windows.Controls.ComboBox> si aspetta di trovare un <xref:System.Windows.Controls.TextBox> denominata `PART_EditableTextBox` e un <xref:System.Windows.Controls.Primitives.Popup> denominato `PART_Popup` nel relativo <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="0f66e-321">The logic of <xref:System.Windows.Controls.ComboBox> expects to find a <xref:System.Windows.Controls.TextBox> named `PART_EditableTextBox` and a <xref:System.Windows.Controls.Primitives.Popup> named `PART_Popup` in its <xref:System.Windows.Controls.ControlTemplate>.</span></span>  
  
 [!code-csharp[VSMButtonTemplate#ComboBoxContract](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/controlcontracts.cs#comboboxcontract)]
 [!code-vb[VSMButtonTemplate#ComboBoxContract](~/samples/snippets/visualbasic/VS_Snippets_Wpf/vsmbuttontemplate/visualbasic/window1.xaml.vb#comboboxcontract)]  
  
 <span data-ttu-id="0f66e-322">L'esempio seguente mostra una rappresentazione semplificata <xref:System.Windows.Controls.ControlTemplate> per il <xref:System.Windows.Controls.ComboBox> che include gli elementi specificati dalle <xref:System.Windows.TemplatePartAttribute> oggetti nel <xref:System.Windows.Controls.ComboBox> classe.</span><span class="sxs-lookup"><span data-stu-id="0f66e-322">The following example shows a simplified <xref:System.Windows.Controls.ControlTemplate> for the <xref:System.Windows.Controls.ComboBox> that includes the elements that are specified by the <xref:System.Windows.TemplatePartAttribute> objects on the <xref:System.Windows.Controls.ComboBox> class.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#ComboBoxTemplate](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/window1.xaml#comboboxtemplate)]  
  
### <a name="states-in-the-control-contract"></a><span data-ttu-id="0f66e-323">Stati nel contratto di controllo</span><span class="sxs-lookup"><span data-stu-id="0f66e-323">States in the Control Contract</span></span>  
 <span data-ttu-id="0f66e-324">Anche gli stati di un controllo fanno parte del contratto di controllo.</span><span class="sxs-lookup"><span data-stu-id="0f66e-324">The states of a control are also a part of the control contract.</span></span> <span data-ttu-id="0f66e-325">L'esempio di creazione di un <xref:System.Windows.Controls.ControlTemplate> per un <xref:System.Windows.Controls.Button> Mostra come specificare l'aspetto di un <xref:System.Windows.Controls.Button> a seconda dei suoi Stati.</span><span class="sxs-lookup"><span data-stu-id="0f66e-325">The example of creating a <xref:System.Windows.Controls.ControlTemplate> for a <xref:System.Windows.Controls.Button> shows how to specify the appearance of a <xref:System.Windows.Controls.Button> depending on its states.</span></span> <span data-ttu-id="0f66e-326">Si crea una <xref:System.Windows.VisualState> per ogni stato specificato e inserire tutti i <xref:System.Windows.VisualState> gli oggetti che condividono un <xref:System.Windows.TemplateVisualStateAttribute.GroupName%2A> in un <xref:System.Windows.VisualStateGroup>, come descritto in [modifica dell'aspetto di un controllo a seconda del relativo stato](#changing_the_appearance_of_a_control_depending_on_its_state) più indietro in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="0f66e-326">You create a <xref:System.Windows.VisualState> for each specified state and put all <xref:System.Windows.VisualState> objects that share a <xref:System.Windows.TemplateVisualStateAttribute.GroupName%2A> in a <xref:System.Windows.VisualStateGroup>, as described in [Changing the Appearance of a Control Depending on Its State](#changing_the_appearance_of_a_control_depending_on_its_state) earlier in this topic.</span></span> <span data-ttu-id="0f66e-327">I controlli di terze parti devono specificare gli stati tramite il <xref:System.Windows.TemplateVisualStateAttribute>, che consente di strumenti della finestra di progettazione, ad esempio Expression Blend, per esporre gli stati del controllo per la creazione di modelli di controllo.</span><span class="sxs-lookup"><span data-stu-id="0f66e-327">Third-party controls should specify states by using the <xref:System.Windows.TemplateVisualStateAttribute>, which enables designer tools, such as Expression Blend, to expose the control's states for authoring control templates.</span></span>  
  
 <span data-ttu-id="0f66e-328">Per trovare il contratto di controllo dei controlli inclusi in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], vedere [Stili e modelli di Control](control-styles-and-templates.md).</span><span class="sxs-lookup"><span data-stu-id="0f66e-328">To find the control contract for controls that are included with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [Control Styles and Templates](control-styles-and-templates.md).</span></span>  
  
### <a name="properties-in-the-control-contract"></a><span data-ttu-id="0f66e-329">Proprietà nel contratto di controllo</span><span class="sxs-lookup"><span data-stu-id="0f66e-329">Properties in the Control Contract</span></span>  
 <span data-ttu-id="0f66e-330">Anche le proprietà pubbliche che influiscono visivamente sul controllo sono incluse nel contratto di controllo.</span><span class="sxs-lookup"><span data-stu-id="0f66e-330">The public properties that visually affect the control are also included in the control contract.</span></span> <span data-ttu-id="0f66e-331">È possibile impostare queste proprietà per modificare l'aspetto del controllo senza creare un nuovo <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="0f66e-331">You can set these properties to change the appearance of the control without creating a new <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="0f66e-332">È anche possibile usare la [TemplateBinding](../advanced/templatebinding-markup-extension.md) estensione di markup per associare le proprietà degli elementi inclusi nel <xref:System.Windows.Controls.ControlTemplate> alle proprietà pubbliche definite dal <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="0f66e-332">You can also use the [TemplateBinding](../advanced/templatebinding-markup-extension.md) markup extension to bind properties of elements that are in the <xref:System.Windows.Controls.ControlTemplate> to public properties that are defined by the <xref:System.Windows.Controls.Button>.</span></span>  
  
 <span data-ttu-id="0f66e-333">L'esempio seguente illustra il contratto di controllo per il pulsante.</span><span class="sxs-lookup"><span data-stu-id="0f66e-333">The following example shows the control contract for the button.</span></span>  
  
 [!code-csharp[VSMButtonTemplate#ButtonContract](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/controlcontracts.cs#buttoncontract)]
 [!code-vb[VSMButtonTemplate#ButtonContract](~/samples/snippets/visualbasic/VS_Snippets_Wpf/vsmbuttontemplate/visualbasic/window1.xaml.vb#buttoncontract)]  
  
 <span data-ttu-id="0f66e-334">Quando si crea una <xref:System.Windows.Controls.ControlTemplate>, è spesso più semplice iniziare con un oggetto esistente <xref:System.Windows.Controls.ControlTemplate> e apportarvi modifiche.</span><span class="sxs-lookup"><span data-stu-id="0f66e-334">When creating a <xref:System.Windows.Controls.ControlTemplate>, it is often easiest to begin with an existing <xref:System.Windows.Controls.ControlTemplate> and make changes to it.</span></span> <span data-ttu-id="0f66e-335">È possibile eseguire una delle seguenti opzioni per modificare un oggetto esistente <xref:System.Windows.Controls.ControlTemplate>:</span><span class="sxs-lookup"><span data-stu-id="0f66e-335">You can do one of the following to change an existing <xref:System.Windows.Controls.ControlTemplate>:</span></span>  
  
- <span data-ttu-id="0f66e-336">Utilizzare una finestra di progettazione, ad esempio Expression Blend, che fornisce un'interfaccia utente grafica per la creazione di modelli del controllo.</span><span class="sxs-lookup"><span data-stu-id="0f66e-336">Use a designer, such as Expression Blend, which provides a graphical user interface for creating control templates.</span></span> <span data-ttu-id="0f66e-337">Per altre informazioni, vedere [Applicazione di stili a un controllo che supporta modelli](https://go.microsoft.com/fwlink/?LinkId=161153).</span><span class="sxs-lookup"><span data-stu-id="0f66e-337">For more information, see [Styling a control that supports templates](https://go.microsoft.com/fwlink/?LinkId=161153).</span></span>  
  
- <span data-ttu-id="0f66e-338">Ottenere il valore predefinito <xref:System.Windows.Controls.ControlTemplate> e modificarlo.</span><span class="sxs-lookup"><span data-stu-id="0f66e-338">Get the default <xref:System.Windows.Controls.ControlTemplate> and edit it.</span></span> <span data-ttu-id="0f66e-339">Per trovare i modelli del controllo predefiniti che sono inclusi in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], vedere [Temi WPF predefiniti](https://go.microsoft.com/fwlink/?LinkID=158252).</span><span class="sxs-lookup"><span data-stu-id="0f66e-339">To find the default control templates that are included with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [Default WPF Themes](https://go.microsoft.com/fwlink/?LinkID=158252).</span></span>  
  
<a name="complete_example"></a>   
## <a name="complete-example"></a><span data-ttu-id="0f66e-340">Esempio completo</span><span class="sxs-lookup"><span data-stu-id="0f66e-340">Complete Example</span></span>  
 <span data-ttu-id="0f66e-341">L'esempio seguente illustra l'intero <xref:System.Windows.Controls.Button> <xref:System.Windows.Controls.ControlTemplate> che è descritti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="0f66e-341">The following example shows the complete <xref:System.Windows.Controls.Button><xref:System.Windows.Controls.ControlTemplate> that is discussed in this topic.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#3](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#3)]  
  
## <a name="see-also"></a><span data-ttu-id="0f66e-342">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="0f66e-342">See also</span></span>

- [<span data-ttu-id="0f66e-343">Applicazione di stili e modelli</span><span class="sxs-lookup"><span data-stu-id="0f66e-343">Styling and Templating</span></span>](styling-and-templating.md)
